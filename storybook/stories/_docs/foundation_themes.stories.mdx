import { Meta, Story, Canvas } from '@storybook/addon-docs'

<Meta title="Foundation/Themes" parameters={{ viewMode: 'docs' }} />

# Light & Dark Themes

Explorer 1 defaults to a light color scheme, but you may wish to provide site editors or visitors with the option to set a dark theme on a particular page or throughout your site. To handle switching between light and dark themes, a parent class will need to be set. Individual components that have theme-specific styling will then use these classes as ancestor selectors when setting colors.

<Story name="Light and Dark">
  {`
    <div class="py-4">
      <div><code>.ThemeLight</code></div>
      <div><code>.ThemeDark</code></div>
    </div>
  `}
</Story>

These are currently set at the page template level. If that scope is too wide, it can be scoped to surround appropriate layout elements within as needed.

```html
<body>
  <div class="ThemeLight">
    <!-- the rest of the page -->
  </div>
</body>
```

## Key Points

- `ThemeLight` is the default
- Page templates should always include the default theme.
- If a page theme controllable by a site editor, then include appropriate class bindings to switch between `.ThemeLight` or `.ThemeDark`
- These theme classes do not apply styles directly. Instead, components use them as an ancestor selector to modify their own styles.

## Usage in Storybook

Storybook can mimic these theme choices. All stories are wrapped in `ThemeLight` by default. You can switch to `ThemeDark` on any story by using the toolbar menu (the icon looks like a picture). Note that not all components were developed to have both a light and dark theme.

## For contributing developers: Writing theme styles for components

For components that have light and dark themes, add theme rules to the end of your scss. The following is an example of a component whose background should be `bg-white` by default and in `ThemeLight` but `bg-black` in `ThemeDark`

```scss
.MyComponent {
  // set the default background color
  @apply bg-white;
  // set the ThemeDark background color
  .ThemeDark & {
    @apply bg-black;
  }
}
```

# Adaptive Text Colors

Usage of `text-jpl-red` vs `text-jpl-red-light` in context of `ThemeLight` and `ThemeDark` ensures that the contrast of `jpl-red` is sufficient against the background color. To avoid rewriting the CSS rules for each use-case, we created these text classes that follow this rule automatically.

```
.text-theme-red
.text-theme-red-hover
```

## Definition

```css
.text-theme-red {
  @apply text-jpl-red;
  .ThemeDark & {
    @apply text-jpl-red-light;
  }
}
.text-theme-red-hover {
  @apply text-jpl-red-dark;
  .ThemeDark & {
    @apply text-jpl-red;
  }
}
```

## Usage

Try switching the theme from `ThemeLight` to `ThemeDark` using the toolbar at the top of the screen. You will notice a slight change of the red color between the two:

<Canvas>
  <Story name="Adaptive Text Colors">
    {`
      <a class="cursor-pointer font-bold text-theme-red can-hover:hover:text-theme-red-hover">
        Link Text
      </a>
    `}
  </Story>
</Canvas>

> Currently, these classes only work when used inline. In the future, they may be rewritten as a
> plugin to make them compatible with the `@apply` directive.

See [BaseLink](?path=/docs/components-base-baselink--primary-link) for a real usage example.
