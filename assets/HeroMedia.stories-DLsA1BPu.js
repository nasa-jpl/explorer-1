import{BaseVideoData as w}from"./BaseVideo.stories-CmW4kh_R.js";import{h as M,H as V,e as j,f as i,j as d,F as D,y as o,l as H,t as g,v as y,B as h,n as x,E as m,o as a}from"./iframe-Cbo-gMoN.js";import{u as O}from"./theme-BQWoGd8-.js";import{M as B}from"./MixinVideoBg-BCs7Yh5s.js";import{B as N}from"./BaseImageCaption-Cc_JtVPu.js";import{I as A}from"./IconInfo-DAL0-0ra.js";import{I as L}from"./IconClose-BO1gWqBk.js";import{f as P,c as T}from"./mixins-DFOhzVt7.js";const f=M({name:"HeroMedia",components:{MixinVideoBg:B,BaseImageCaption:N,IconInfo:A,IconClose:L},props:{image:{type:Object,default:void 0},video:{type:Object,default:void 0},displayCaption:{type:Boolean,default:!0},caption:{type:String,default:void 0},credit:{type:String,default:void 0}},data(){return{captionVisible:!1}},computed:{...V(O),theImageCaption(){if(this.displayCaption&&this.image&&this.caption&&this.caption.length>2)return this.caption;if(this.image&&this.image.caption&&this.image.caption.length>2&&this.displayCaption)return this.image.caption},theImageData(){if(this.image)return{...this.image,caption:this.theImageCaption}},theSrcSet(){return this.theImageData?T(this.theImageData):void 0},customCaption(){if(this.displayCaption&&(this.caption&&this.caption.length>2||this.credit))return{caption:this.caption,credit:this.credit}},captionVisibilityClass(){return this.captionVisible?"flex":"hidden"},hasCaptionArea(){return this.theImageData?this.themeStore.isEdu?this.theImageCaption?this.theImageCaption:!1:this.theImageCaption||this.image?.credit||this.image?.detailUrl:!!this.customCaption}},mounted(){P()},methods:{toggleCaption(){this.captionVisible?this.captionVisible=!1:this.captionVisible=!0}}}),_={key:0,class:"HeroMedia"},q={class:"vh-crop max-w-screen-3xl relative flex items-center mx-auto overflow-hidden"},E={class:"hero w-full"},U=["srcset","src","width","height","alt"],F={key:0,class:"lg:hidden absolute bottom-0 left-0 w-full h-auto mx-auto print:hidden"};function R(e,u,G,K,X,Q){const C=m("MixinVideoBg"),I=m("IconInfo"),v=m("IconClose"),k=m("BaseImageCaption");return e.image||e.video?(a(),i("div",_,[d("div",null,[d("div",q,[d("div",E,[e.theImageData?(a(),i(D,{key:0},[e.theImageData.src?(a(),i("img",{key:0,class:"object-cover object-center w-full h-full",srcset:e.theSrcSet,src:e.theImageData.src.url,width:e.theImageData.src.width,height:e.theImageData.src.height,alt:e.theImageData.alt,itemprop:"image","data-chromatic":"ignore"},null,8,U)):o("",!0)],64)):e.video?(a(),H(C,{key:1,video:e.video},null,8,["video"])):o("",!0)]),e.hasCaptionArea?(a(),i("div",F,[d("button",{class:"bg-opacity-90 text-gray-dark flex items-center justify-center w-12 h-12 ml-auto bg-white cursor-pointer","aria-label":"Toggle caption",onClick:u[0]||(u[0]=(...S)=>e.toggleCaption&&e.toggleCaption(...S))},[g(h(I,{class:"text-xl"},null,512),[[y,!e.captionVisible]]),g(h(v,null,null,512),[[y,e.captionVisible]])])])):o("",!0)])]),e.hasCaptionArea?(a(),i("div",{key:0,class:x([e.captionVisibilityClass,"caption-area max-w-screen-3xl ThemeVariantGray bg-gray-light bg-opacity-90 lg:bg-opacity-100 lg:block lg:pb-4 lg:px-3 xl:px-8 lg:pt-4 items-start p-4 mx-auto print:block"])},[h(k,{data:e.theImageData||e.customCaption},null,8,["data"])],2)):o("",!0)])):o("",!0)}const $=j(f,[["render",R]]);f.__docgenInfo={exportName:"default",displayName:"HeroMedia",type:1,props:[{name:"caption",global:!1,description:"For video heroes that pass separate caption and credit data, or to override the caption in `{ImageObject}`",tags:[],required:!1,type:"string",declarations:[],schema:"string",default:"undefined"},{name:"credit",global:!1,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string",default:"undefined"},{name:"image",global:!1,description:"",tags:[],required:!1,type:"ImageObject",declarations:[],schema:{kind:"object",type:"ImageObject"},default:"undefined"},{name:"displayCaption",global:!1,description:"If a caption should even be visible",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]},default:"true"},{name:"video",global:!1,description:"",tags:[],required:!1,type:"VideoObject",declarations:[],schema:{kind:"object",type:"VideoObject"},default:"undefined"},{name:"key",global:!0,description:"",tags:[],required:!1,type:"PropertyKey",declarations:[],schema:{kind:"enum",type:"PropertyKey",schema:["string","number","symbol"]}},{name:"ref",global:!0,description:"",tags:[],required:!1,type:"VNodeRef",declarations:[],schema:{kind:"enum",type:"VNodeRef",schema:["string","Ref<any, any>",{kind:"event",type:"(ref: Element | ComponentPublicInstance<{}, {}, {}, {}, {}, {}, {}, {}, false, ComponentOptionsBase<any, any, any, any, any, any, any, any, any, {}, {}, string, {}, {}, {}, string, ComponentProvideOptions>, ... 4 more ..., any>, refs: Record<...>): void"}]}},{name:"ref_for",global:!0,description:"",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"ref_key",global:!0,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string"},{name:"class",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"style",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"}],events:[],slots:[],exposed:[{name:"caption",type:"string",description:"For video heroes that pass separate caption and credit data, or to override the caption in `{ImageObject}`",declarations:[],schema:"string"},{name:"credit",type:"string",description:"",declarations:[],schema:"string"},{name:"image",type:"ImageObject",description:"",declarations:[],schema:{kind:"object",type:"ImageObject"}},{name:"displayCaption",type:"boolean",description:"If a caption should even be visible",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"video",type:"VideoObject",description:"",declarations:[],schema:{kind:"object",type:"VideoObject"}},{name:"captionVisible",type:"boolean",description:"",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"theImageCaption",type:"string",description:"",declarations:[],schema:"string"},{name:"theImageData",type:"Partial<ImageObject>",description:"",declarations:[],schema:"Partial<ImageObject>"},{name:"theSrcSet",type:"string",description:"",declarations:[],schema:"string"},{name:"customCaption",type:"Partial<ImageObject>",description:"",declarations:[],schema:"Partial<ImageObject>"},{name:"captionVisibilityClass",type:'"hidden" | "flex"',description:"",declarations:[],schema:{kind:"enum",type:'"hidden" | "flex"',schema:['"hidden"','"flex"']}},{name:"hasCaptionArea",type:"string | boolean",description:"",declarations:[],schema:{kind:"enum",type:"string | boolean",schema:["string","false","true"]}},{name:"themeStore",type:'Store<"theme", State, { isEdu(state: { theme: Explorer1Theme; } & PiniaCustomStateProperties<State>): boolean; }, { ...; }>',description:"",declarations:[],schema:{kind:"object",type:'Store<"theme", State, { isEdu(state: { theme: Explorer1Theme; } & PiniaCustomStateProperties<State>): boolean; }, { ...; }>'}}],sourceFiles:"/home/runner/work/explorer-1/explorer-1/packages/vue/src/components/HeroMedia/HeroMedia.vue"};const J={title:"Components/Heroes/Media Only",component:$,tags:["heroes"],parameters:{html:{root:"#storyRoot"},docs:{description:{component:"No text overlay, just an image or video with a caption below."}}},excludeStories:/.*Data$/},b={blockType:"ImageChooserBlock",imageInline:{alt:"A inline hero image",caption:"<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed vel porttitor urna. Maecenas at est laoreet, sagittis risus a, rutrum ipsum. Quisque tincidunt lacus nunc, dapibus facilisis felis scelerisque sit amet. </p>",credit:"NASA/JPL",detailUrl:"/image/placeholder/",original:"https://picsum.photos/869/700",src:{height:700,url:"https://picsum.photos/869/700",width:869},srcSet:"https://picsum.photos/320/258 320w, https://picsum.photos/869/700 1024w"},image:{src:{url:"https://picsum.photos/1440/620",width:1440,height:620},screenXs:{url:"https://picsum.photos/320/139",width:320},screenSm:{url:"https://picsum.photos/640/276",width:640},screenMd:{url:"https://picsum.photos/768/331",width:768},screenLg:{url:"https://picsum.photos/1024/442",width:1024},screenXl:{url:"https://picsum.photos/1280/552",width:1280},screenTwoxl:{url:"https://picsum.photos/1440/620",width:1440},screenThreexl:{url:"https://picsum.photos/1800/775",width:1800},alt:"News detail page hero image",caption:"<p>NASA InSight&#x27;s robotic arm will use its scoop to pin the spacecraft&#x27;s heat probe against the wall of its hole.</p>",credit:"NASA/JPL",detailUrl:"/images/image-123/"},caption:"",displayCaption:!0},t={...b};delete t.imageInline;delete t.blockType;const s={name:"HeroMedia",args:t},n={args:{...t,caption:"<p>My custom caption.</p>"}},r={args:{...t,caption:"<p>My custom caption.</p>",displayCaption:!1}},c={args:{image:{src:t.image.src,alt:"The hero image",caption:`
`,credit:"",detailUrl:""},caption:"<p>My custom caption.</p>",displayCaption:!1}},p={args:{image:{src:t.image.src,alt:t.image.src,caption:t.image.caption,credit:t.image.credit,detailUrl:""},caption:"",displayCaption:!0}},l={args:{blockType:"VideoBlock",video:w,caption:'<p>Lorem ipsum dolor sit amet. <a href="#">A link in the caption</a> testing render.</p>',credit:"NASA/JPL"}};s.parameters={...s.parameters,docs:{...s.parameters?.docs,source:{originalSource:`{
  name: 'HeroMedia',
  args: LocalHeroMediaData
}`,...s.parameters?.docs?.source}}};n.parameters={...n.parameters,docs:{...n.parameters?.docs,source:{originalSource:`{
  args: {
    ...LocalHeroMediaData,
    caption: '<p>My custom caption.</p>'
  }
}`,...n.parameters?.docs?.source}}};r.parameters={...r.parameters,docs:{...r.parameters?.docs,source:{originalSource:`{
  args: {
    ...LocalHeroMediaData,
    caption: '<p>My custom caption.</p>',
    displayCaption: false
  }
}`,...r.parameters?.docs?.source}}};c.parameters={...c.parameters,docs:{...c.parameters?.docs,source:{originalSource:`{
  args: {
    image: {
      src: LocalHeroMediaData.image.src,
      alt: 'The hero image',
      caption: '\\n',
      // a lot of prod data has this for caption
      credit: '',
      detailUrl: ''
    },
    caption: '<p>My custom caption.</p>',
    displayCaption: false
  }
}`,...c.parameters?.docs?.source}}};p.parameters={...p.parameters,docs:{...p.parameters?.docs,source:{originalSource:`{
  args: {
    image: {
      src: LocalHeroMediaData.image.src,
      alt: LocalHeroMediaData.image.src,
      caption: LocalHeroMediaData.image.caption,
      credit: LocalHeroMediaData.image.credit,
      detailUrl: ''
    },
    caption: '',
    displayCaption: true
  }
}`,...p.parameters?.docs?.source}}};l.parameters={...l.parameters,docs:{...l.parameters?.docs,source:{originalSource:`{
  args: {
    blockType: 'VideoBlock',
    video: BaseVideoData,
    caption: '<p>Lorem ipsum dolor sit amet. <a href="#">A link in the caption</a> testing render.</p>',
    credit: 'NASA/JPL'
  }
}`,...l.parameters?.docs?.source}}};const z=["HeroMediaData","BaseStory","CustomImageCaption","NoCaptionText","NoCaptionArea","NoLink","Video"],se=Object.freeze(Object.defineProperty({__proto__:null,BaseStory:s,CustomImageCaption:n,HeroMediaData:b,NoCaptionArea:c,NoCaptionText:r,NoLink:p,Video:l,__namedExportsOrder:z,default:J},Symbol.toStringTag,{value:"Module"}));export{se as H,$ as a,b};
