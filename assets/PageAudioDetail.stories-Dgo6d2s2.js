import{BlockRelatedLinksData as H}from"./BlockRelatedLinks.stories-NfLYSUyF.js";import{BlockLinkTileCarouselData as I}from"./BlockLinkCarousel.stories-BF5YAlBi.js";import{c as _,a as $,_ as V,H as i,o as a,h as s,p as t,l as o,w as l,m as d,i as n,n as N,L as p,F as g,a5 as R,t as m,j as O,s as j}from"./iframe-diFIXty6.js";import{L as E}from"./LayoutHelper-BXwnZ13U.js";import{D as F}from"./DetailHeadline-CeO7qpRL.js";import{B as J}from"./BaseButton-Dcn3u74Y.js";import{B as W}from"./BlockRelatedLinks-BV3Y_6jn.js";import{B as q}from"./BlockText-BqNUT8o_.js";import{B as z}from"./BlockAudio-B3d8L8HK.js";import{I as K}from"./IconDownload-BkBVwpxM.js";import{I as U}from"./IconDropdown-ByTIg-Es.js";import{B as G}from"./BlockLinkCarousel-BAWMs7I7.js";import{B as Q}from"./BaseHeading-Mj1k7-oD.js";import{B as X}from"./BaseModal-BIiBRi4t.js";import{P as Y}from"./PodcastSeriesCarousel-BTZNwgZ7.js";import"./preload-helper-D6kgxu3v.js";import"./IconArrow-Bam4Rv5M.js";import"./MixinCarousel-Ds1s8lBU.js";import"./a11y-S1BjB8Wp.js";import"./navigation-DYSZwei8.js";import"./_swiperOptions-Cb85alkN.js";import"./IconNext-CCODYAHt.js";import"./BlockLinkCard-Dq0awSta.js";import"./mixins-BG0n94Cc.js";import"./BaseImage-C0N1Tu0H.js";import"./BaseImagePlaceholder-kacNF0Pz.js";import"./BasePill-CaFSBqVc.js";import"./constants-KGHeBXa6.js";import"./MetadataEduResource-DXqXtNPN.js";import"./rangeifyGrades-D2L_7Je_.js";import"./IconProfile-Bloke_EG.js";import"./IconTime-nLu-NAQM.js";import"./CalendarChip-CbYBbpsw.js";import"./MetadataEvent-369VkGE5.js";import"./IconCalendar-BrdHFSXY.js";import"./IconLocation-BOJOMpHg.js";import"./BlockLinkTile-TSnBpvu9.js";import"./BaseAudio-B3ftvI9C.js";import"./IconPlay-CwYHJg_g.js";import"./IconForwardTen-BUN9aPbI.js";import"./BaseModalDialog-BKT1zDXR.js";import"./ThumbnailCarousel-B2WmzwxB.js";import"./SearchResultGridItem-D5h1Na04.js";import"./lookupContentType-BLOvub8k.js";const T=_({name:"PageAudioDetail",components:{LayoutHelper:E,BlockRelatedLinks:W,DetailHeadline:F,BlockText:q,BaseButton:J,BlockAudio:z,IconDownload:K,IconDropdown:U,BlockLinkCarousel:G,BaseHeading:Q,BaseLink:$,BaseModal:X,PodcastSeriesCarousel:Y},props:{data:{type:Object,required:!1,default:void 0}},data(){return{collapseTranscript:!0,showTranscriptControls:!0}},watch:{"data.transcript":{handler(){this.$nextTick(()=>{this.checkTranscriptOverflow()})}}},mounted(){this.$nextTick(()=>{this.checkTranscriptOverflow()})},methods:{checkTranscriptOverflow(){if(this.$refs.audioTranscript){const e=this.$refs.audioTranscript;e.scrollHeight>e.clientHeight?this.showTranscriptControls=!0:this.showTranscriptControls=!1}},toggleTranscript(){!this.collapseTranscript&&this.$refs.audioTranscript?(this.$refs.audioTranscript.scrollIntoView({behavior:"smooth"}),this.collapseTranscript=!0):this.collapseTranscript=!1}}}),Z={key:0,class:"PageAudioDetail ThemeVariantLight",itemscope:"",itemtype:"http://schema.org/VideoObject"},x=["content"],ee=["content"],ae=["content"],te=["content"],se={class:"lg:grid flex flex-col grid-cols-10 mb-12"},ie={key:0,class:"lg:order-1 order-2 col-span-7 mb-12"},oe={key:0,class:"border-gray-light-mid lg:my-8 my-5"},re={key:0,class:"transcript-overlay"},le={class:"audio-aside lg:order-2 order-1 col-start-9 col-end-11 mb-12"},ne={class:"mt-5 lg:mt-0 lg:mb-12"},de={class:"lg:w-auto w-full"},pe={class:"SubscribeModal mb-8"},me={key:0,class:"text-body-md mb-5"},ue={key:1,class:"text-body-md mb-5"},ce={class:"lg:w-auto w-full"},ge={class:"pr-2"},ke={key:0,class:"lg:pt-0 lg:mb-12 pt-8"},fe={key:5,class:"bg-gray-light lg:py-24 lg:mt-24 py-12 mt-12"};function he(e,r,ye,Le,Te,ve){var L;const k=i("DetailHeadline"),f=i("LayoutHelper"),B=i("BlockAudio"),h=i("BlockText"),A=i("BaseHeading"),b=i("IconDropdown"),u=i("BaseButton"),D=i("BlockRelatedLinks"),y=i("BaseLink"),P=i("BaseModal"),w=i("IconDownload"),C=i("PodcastSeriesCarousel"),M=i("BlockLinkCarousel");return e.data?(a(),s("div",Z,[e.data.uploadedMedia&&e.data.uploadedMedia.file?(a(),s("meta",{key:0,itemprop:"contentUrl",content:e.data.uploadedMedia.file},null,8,x)):t("",!0),e.data.uploadedMedia&&e.data.uploadedMedia.duration?(a(),s("meta",{key:1,itemprop:"duration",content:e.data.uploadedMedia.duration},null,8,ee)):t("",!0),e.data.thumbnailImage&&e.data.thumbnailImage.original?(a(),s("meta",{key:2,itemprop:"thumbnailUrl",content:e.data.thumbnailImage.original},null,8,ae)):t("",!0),e.data.summary?(a(),s("meta",{key:3,itemprop:"description",content:e.data.summary},null,8,te)):t("",!0),o(f,{indent:"col-1",class:"3xl:px-0 lg:mt-12 mx-auto lg:px-4 mt-5 mb-10 lg:mb-14"},{default:l(()=>[e.data.series&&e.data.series.url?(a(),d(k,{key:0,title:e.data.title,"publication-date":e.data.publicationDate,label:e.data.series.title+" Podcast","label-link":e.data.series.url,schema:""},null,8,["title","publication-date","label","label-link"])):(a(),d(k,{key:1,title:e.data.title,"publication-date":e.data.publicationDate,label:"Audio",schema:""},null,8,["title","publication-date"]))]),_:1}),o(B,{data:e.data},null,8,["data"]),o(f,{indent:"col-2",class:"lg:pt-12 pt-4"},{default:l(()=>[n("div",se,[e.data.summary||e.data.transcript||e.data.relatedLinks&&e.data.relatedLinks.length?(a(),s("div",ie,[o(h,{text:e.data.summary},null,8,["text"]),e.data.summary?(a(),s("hr",oe)):t("",!0),e.data.transcript&&e.data.transcript.length>2?(a(),s("div",{key:1,ref:"audioTranscript",class:N(["relative col-span-7 my-5",{"max-h-xl lg:max-h-3xl overflow-hidden":e.collapseTranscript}])},[e.collapseTranscript&&e.showTranscriptControls?(a(),s("div",re)):t("",!0),o(A,{level:"h2",class:"mb-5"},{default:l(()=>r[1]||(r[1]=[p("Transcript")])),_:1}),o(h,{text:e.data.transcript,variant:"medium",class:"audio-transcript",itemprop:"transcript"},null,8,["text"])],2)):t("",!0),e.data.transcript&&e.data.transcript.length>2&&e.showTranscriptControls?(a(),d(u,{key:2,class:"my-6",variant:"secondary",compact:"","aria-expanded":e.collapseTranscript?"false":"true",onClick:r[0]||(r[0]=c=>e.toggleTranscript())},{default:l(()=>[e.collapseTranscript?(a(),s(g,{key:0},[r[2]||(r[2]=n("span",null,"Read more",-1)),o(b,{class:"text-sm ml-2"})],64)):(a(),s(g,{key:1},[r[3]||(r[3]=n("span",null,"Collapse",-1)),o(b,{class:"transform rotate-180 text-sm ml-2"})],64))]),_:1},8,["aria-expanded"])):t("",!0),e.data.relatedLinks&&e.data.relatedLinks.length?(a(),d(D,{key:3,class:"mt-12",data:e.data.relatedLinks[0]},null,8,["data"])):t("",!0)])):t("",!0),n("aside",le,[n("div",ne,[n("div",de,[e.data.subscribeLinks&&e.data.subscribeLinks.length?(a(),d(P,{key:0,"bg-close":""},R({modalTrigger:l(()=>[o(u,{class:"w-full mb-5",variant:"primary",compact:""},{default:l(()=>r[4]||(r[4]=[p(" Subscribe ")])),_:1})]),default:l(()=>[n("div",pe,[e.data.subscribeLinks[0].description?(a(),s("p",me,m(e.data.subscribeLinks[0].description),1)):t("",!0),e.data.subscribeLinks[0].links&&e.data.subscribeLinks[0].links.length>0?(a(),s("ul",ue,[(a(!0),s(g,null,O(e.data.subscribeLinks[0].links,(c,S)=>(a(),s("li",{key:S},[o(y,{variant:"default",href:c.externalLink,"external-target-blank":""},{default:l(()=>[p(m(c.text),1)]),_:2},1032,["href"])]))),128))])):t("",!0)])]),_:2},[e.data.subscribeLinks[0].heading?{name:"modalHeader",fn:l(()=>[p(m(e.data.subscribeLinks[0].heading),1)]),key:"0"}:void 0]),1024)):t("",!0)]),n("div",ce,[e.data.uploadedMedia&&e.data.uploadedMedia.file?(a(),d(u,{key:0,href:e.data.uploadedMedia.file,class:"inline-block lg:block mb-5",variant:e.data.subscribeLinks&&e.data.subscribeLinks.length?"secondary":"primary",compact:""},{default:l(()=>[n("span",ge," Download "+m(e.data.uploadedMedia.fileExtension||"Audio"),1),j(e.$slots,"icon",{},()=>[o(w)])]),_:3},8,["href","variant"])):t("",!0)])]),e.data.series&&e.data.series.url?(a(),s("div",ke,[r[5]||(r[5]=n("p",{class:"text-subtitle mb-5"},"Podcast Series",-1)),o(y,{variant:"none",to:e.data.series.url,class:"text-jpl-red hover:text-jpl-red-dark text-lg","link-class":"p-3 -mt-3 -ml-3"},{default:l(()=>[p(m(e.data.series.title),1)]),_:1},8,["to"])])):t("",!0)])])]),_:3}),(L=e.data)!=null&&L.series?(a(),d(C,{key:4,series:e.data.series,"initial-season-id":e.data.parent?e.data.parent.id:null,class:"mb-12 lg:mb-24"},null,8,["series","initial-season-id"])):t("",!0),e.data.relatedPages&&e.data.relatedPages.length?(a(),s("div",fe,[o(M,{"item-type":"tiles",heading:"Related Pages",items:e.data.relatedPages},null,8,["items"])])):t("",!0)])):t("",!0)}const be=V(T,[["render",he]]);T.__docgenInfo={displayName:"PageAudioDetail",exportName:"default",description:"",tags:{},props:[{name:"data",type:{name:"object"},required:!1,defaultValue:{func:!1,value:"undefined"}}],slots:[{name:"icon"}],sourceFiles:["/home/runner/work/explorer-1/explorer-1/apps/vue-storybook/node_modules/@explorer-1/vue/src/templates/PageAudioDetail/PageAudioDetail.vue"]};const ca={title:"Templates/PageAudioDetail",component:be,tags:["!autodocs"],excludeStories:/.*Data$/},v={data:{contentType:"audio_detail.AudioDetailPage",label:"Audio",publicationDate:"2020-12-09",relatedPages:I,seoTitle:"Testing Audio",series:null,subscribeLinks:[],slug:"testing-audio",summary:"some summary of the audio file",thumbnailImage:{alt:"",id:"341",url:"/public/images/bg-earth-1440x810.jpg"},title:"Testing Audio",topicLabel:"JPL Life",transcript:`<p>Preparing to Land Perseverance</p>
    <p>The following tests, conducted from 2017-2020, helped prepare NASA's Perseverance rover for its landing on Mars.</p>
    <p>[music]</p>
    <p>Centrifuge Spin Test</p>
    <p>Santa Clarita, CA June 2019</p>
    <p>[music]</p>
    <p>Parachute Firing Test</p>
    <p>Moses Lake, WA May 2019</p>
    <p>[music]</p>
    <p>[mortar firing]</p>
    <p>[mortar firing]</p>
    <p>[clapping]</p>
    <p>Parachute Wind Tunnel Test</p>
    <p>NASA's Ames Research Center </p>
    <p>Moffett Field, CA June 2017</p>
    <p>[music]</p>
    <p>[mortar firing]</p>
    <p>[wind]</p>
    <p>[clapping]</p>
    <p>Lander Vision System Test</p>
    <p>For Avoiding Landing Hazards</p>
    <p>Death Valley, CA May 2019</p>
    <p>[helicopter taking off]</p>
    <p>[music]</p>
    <p>Rover Wheel Drop Test</p>
    <p>NASA's Jet Propulsion Laboratory</p>
    <p>Southern CA August 2019</p>
    <p>[wheel dropping]</p>
    <p>[hitting rock]</p>`,uploadedMedia:{collection:{id:"1",name:"Root",path:"0001"},createdAt:"2020-12-10T07:38:30.951546+00:00",duration:"11",file:"/audio/file_example_MP3_700KB.mp3",fileExtension:"mp3",fileOgg:"",id:"1",sources:"[{'src': '/audio/file_example_MP3_700KB.mp3', 'type': 'audio/mpeg'}]",thumbnail:"",title:"audio file",type:"audio"},relatedLinks:[H.data]}},ga={args:{...v}},ka={args:{data:{...v.data,series:{title:"On a mission",url:"/podcasts/on-a-mission"},subscribeLinks:[{heading:"Subscribe",description:"Lorem ipsum dolor sit amet consectatur adipscing. Vivamus vel rhoncus ipsum, at ultrices urna.",links:[{externalLink:"http://google.com",text:"Google"}]}]}}},fa=["PageAudioDetailData","AudioDetail","PodcastEpisode"];export{ga as AudioDetail,v as PageAudioDetailData,ka as PodcastEpisode,fa as __namedExportsOrder,ca as default};
