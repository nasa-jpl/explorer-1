import{c as M,a as R,_ as I,H as z,o as l,h as u,F as g,j as L,l as F,w as y,i as H,n as x,t as N,p as T,L as A,q as _,g as B,S as O,a8 as P,a4 as D,m as c,O as E,a0 as U}from"./iframe-CaMhF2EI.js";import{h as J}from"./mixins-K2D7yBj7.js";import{N as G,a as K,b as Q}from"./NavSecondary-CN4MbmUY.js";import{g as W}from"./getHeadingId-BXpzl4xP.js";const C=M({name:"NavJumpMenuContent",components:{BaseLink:R},props:{item:{type:Object,required:!0}},methods:{linkClass(t){let o="py-2 lg:py-4";return t?t.children&&t.children.length>0&&(o="pt-2 pb-1 lg:pt-4 lg:pb-2"):o="py-2 lg:pt-4 lg:pb-4",o}}}),X={class:"NavJumpMenuContent bg-white"};function Y(t,o,a,i,m,f){const v=z("BaseLink");return l(),u("ul",X,[(l(!0),u(g,null,L(t.item.children,(s,p)=>(l(),u("li",{key:p,class:"text-base border-b border-gray-light"},[F(v,{href:s.path,variant:"none","link-class":t.linkClass(s)},{default:y(()=>[H("span",null,[t.$attrs["steps-numbering"]?(l(),u("span",{key:0,class:x(t.$attrs["steps-classes"]),"aria-hidden":""},N(`Step ${p+1}:`),3)):T("",!0),A(" "+N(s.title),1)])]),_:2},1032,["href","link-class"])]))),128))])}const Z=I(C,[["render",Y]]);C.__docgenInfo={displayName:"NavJumpMenuContent",exportName:"default",description:"",tags:{},props:[{name:"item",type:{name:"object"},required:!0}],sourceFiles:["/home/runner/work/explorer-1/explorer-1/apps/vue-storybook/node_modules/@explorer-1/vue/src/components/NavJumpMenu/NavJumpMenuContent.vue"]};const ee=M({__name:"NavJumpMenu",props:{title:{default:void 0},jumpLinks:{default:void 0},blocks:{default:void 0},headingLevel:{default:"h2"},invert:{type:Boolean,default:!0},enabled:{type:Boolean,default:!0},dropdownText:{default:"Jump to…"}},setup(t,{expose:o}){const a=t,i=_(!1),m=_(),f=B(()=>{if(a.jumpLinks)return a.jumpLinks;if(a.blocks){const n=a.blocks.map((e,d)=>({...e,index:d})).filter(e=>e.blockType==="HeadingBlock"&&e.level===a.headingLevel||e.blockType==="RichTextBlock"&&e.value.includes(`<${a.headingLevel}`)).map(e=>{let d=e,h=[];if(e.blockType==="HeadingBlock")d={path:"#"+W(e.heading,e.blockId),title:e.heading};else if(e.blockType==="RichTextBlock"){let b=e.value;if(b){const w=new RegExp(`<${a.headingLevel} id="(.*?)">(.*?)</${a.headingLevel}>`,"g"),V=[...b.matchAll(w)];for(let $ of V){const[te,j,q]=$,S={path:"#"+j,title:q};h.push(S)}}}return h.length?h:d});return n?n.flat():void 0}return[]}),v=()=>{i.value=!0},s=B(()=>{let r;const k=a.title?{title:a.title,path:"#siteTop"}:{title:"Back to top",path:"#siteTop"},n={title:a.dropdownText,path:"#",children:f.value};return f.value&&(r=[k,n]),r});o({NavJumpMenuRef:m}),O(()=>{J(s.value,!0),setTimeout(v,500)}),P(()=>{i.value=!1});const p=E();return D(p,()=>{J(s.value,!0)}),(r,k)=>r.enabled?(l(),c(G,{key:0,id:"NavJumpMenu",ref_key:"NavJumpMenuRef",ref:m,class:x(["NavJumpMenu",{"-ready":i.value}]),invert:r.invert,"jump-menu":""},{default:y(()=>[(l(!0),u(g,null,L(s.value,(n,e)=>(l(),u(g,null,[n.children&&n.children.length>0?(l(),c(K,{key:e,item:n,index:e,"is-last":s.value&&e===s.value.length-1,invert:r.invert},{default:y(()=>[(l(),c(Z,U({key:e,class:"max-h-[72vh] overflow-y-auto",item:n,ref_for:!0},r.$attrs),null,16,["item"]))]),_:2},1032,["item","index","is-last","invert"])):(l(),c(Q,{key:e,item:n,index:e,invert:r.invert},null,8,["item","index","invert"]))],64))),256))]),_:1},8,["class","invert"])):T("",!0)}});ee.__docgenInfo={exportName:"default",displayName:"NavJumpMenu",description:"",tags:{},expose:[{name:"NavJumpMenuRef"}],props:[{name:"title",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"undefined"}},{name:"jumpLinks",required:!1,type:{name:"Array",elements:[{name:"BreadcrumbPathObject"}]},defaultValue:{func:!1,value:"undefined"}},{name:"blocks",required:!1,type:{name:"Array",elements:[{name:"TSParenthesizedType"}]},defaultValue:{func:!1,value:"undefined"}},{name:"headingLevel",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'h2'"}},{name:"invert",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"enabled",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"dropdownText",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'Jump to…'"}},{name:"hidden",defaultValue:{func:!1,value:"false"}}],sourceFiles:["/home/runner/work/explorer-1/explorer-1/apps/vue-storybook/node_modules/@explorer-1/vue/src/components/NavJumpMenu/NavJumpMenu.vue"]};export{ee as _};
