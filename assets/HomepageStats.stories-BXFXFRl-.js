import{d as N,l as G,I as _,B as C,D as I,_ as A,P as p,o as e,b as a,e as i,h as u,i as r,t as o,k as s,F as h,N as d,n as w,j as H}from"./iframe-BaEhLE_2.js";import{B as L}from"./BaseTimer-CeM47SEN.js";import{I as O}from"./IconArrow-D31leIea.js";const F=N({name:"HomepageStats",components:{BaseLink:G,IconArrow:O,IconArrows:_,BaseUnitToggle:C,BaseTimer:L,DsnWidget:I},props:{statistics:{type:Array,required:!1},missionCount:{type:Number,required:!1},dsn:{type:Object,required:!1},asteroidWatch:{type:Object,required:!1},featuredEmbed:{type:Array,required:!1}},data(){return{autoplayAdded:!1}},computed:{dataMissionStatsBlock(){const t=this.filterBlocksByType("StatisticsMissionBlock");return t&&t.length?t[0]:null},dataGenericStatsBlock(){const t=this.filterBlocksByType("StatisticsGenericBlock");return t&&t.length?t[0]:null},hasFeaturedEmbed(){return!!(this.featuredEmbed&&this.featuredEmbed.length&&this.featuredEmbed[0].display)}},methods:{playVideo(){if(this.hasFeaturedEmbed){const t=document.getElementById("featuredEmbed");if(t){t.scrollIntoView({behavior:"smooth"});const n=t.querySelector("iframe");n&&this.autoplayAdded===!1&&(n.src+="&autoplay=1",this.autoplayAdded=!0)}}return null},filterBlocksByType(t){return this.statistics?this.statistics.filter(k=>k.blockType===t):null}}}),P={key:0,"aria-label":"Featured mission statistics",class:"HomepageStats -mt-14 relative z-20 overflow-hidden"},V={class:"MixedBleedGrid lg:pl-0 pl-4"},$={class:"ThemeVariantGray bg-gray-light text-gray-dark col-start-container col-end-container lg:py-18 lg:px-0 text-body-lg px-8 py-10 pr-0"},j={class:"gap-y-10 lg:col-end-9 grid grid-cols-12 gap-6"},q={key:0,class:"lg:col-span-2 sm:col-span-5 col-span-full"},K={key:0,class:"text-subtitle text-primary mb-4"},X={key:0,class:"text-subtitle text-primary mb-4"},R={key:2,class:"text-body-sm mb-4"},U={key:3,class:"text-stats-xl"},z={key:1,class:"lg:col-span-3 sm:col-span-6 col-span-full"},Q={key:0,class:"text-subtitle text-primary mb-4"},J={key:0,class:"text-subtitle text-primary mb-4"},Y={key:2,class:"text-body-sm mb-4"},Z={key:3},x={key:4,class:"text-stats-lg"},tt={class:"text-gray-mid-dark flex flex-wrap mt-2 text-sm"},et={class:"sm:whitespace-nowrap"},at={key:0,class:"lg:-mb-8 can-hover:group-hover:ml-3 text-jpl-red-light text-7xl ml-0 transition-all duration-200 ease-in"},st={key:2,class:"lg:col-span-3 sm:col-span-6 col-span-full"},it={key:0,class:"text-subtitle text-primary mb-4"},ot={key:0,class:"text-subtitle text-primary mb-4"},nt={key:2,class:"text-body-sm mb-4"},lt={key:0,class:"text-stats-lg"},rt={class:"text-sm"},dt={class:"lg:-mb-8 can-hover:group-hover:ml-3 text-jpl-red-light text-7xl ml-0 transition-all duration-200 ease-in"};function ct(t,n,k,ut,ht,gt){const m=p("BaseLink"),W=p("BaseTimer"),y=p("IconArrow"),M=p("FetchDsnWidget"),E=p("BaseUnitToggle");return t.statistics||t.dsn||t.asteroidWatch||t.missionCount?(e(),a("section",P,[i("div",V,[i("div",$,[i("div",j,[n[2]||(n[2]=i("div",{class:"lg:block hidden"},null,-1)),t.dataMissionStatsBlock?(e(),a("div",q,[t.dataMissionStatsBlock.link?(e(),u(m,{key:0,variant:"none",target:t.dataMissionStatsBlock.linkTarget?"_blank":"_self",href:t.dataMissionStatsBlock.link,"link-class":"block"},{default:r(()=>[t.dataMissionStatsBlock.heading?(e(),a("p",K,o(t.dataMissionStatsBlock.heading),1)):s("",!0)]),_:1},8,["target","href"])):(e(),a(h,{key:1},[t.dataMissionStatsBlock.heading?(e(),a("p",X,o(t.dataMissionStatsBlock.heading),1)):s("",!0)],64)),t.dataMissionStatsBlock.title?(e(),a("p",R,o(t.dataMissionStatsBlock.title),1)):s("",!0),t.missionCount?(e(),a("p",U,o(t.missionCount),1)):s("",!0)])):s("",!0),t.dataGenericStatsBlock?(e(),a("div",z,[t.dataGenericStatsBlock.link?(e(),u(m,{key:0,variant:"none",target:t.dataGenericStatsBlock.linkTarget?"_blank":"_self",href:t.dataGenericStatsBlock.link,"link-class":"block"},{default:r(()=>[t.dataGenericStatsBlock.heading?(e(),a("p",Q,o(t.dataGenericStatsBlock.heading),1)):s("",!0)]),_:1},8,["target","href"])):(e(),a(h,{key:1},[t.dataGenericStatsBlock.heading?(e(),a("p",J,o(t.dataGenericStatsBlock.heading),1)):s("",!0)],64)),t.dataGenericStatsBlock.title?(e(),a("p",Y,o(t.dataGenericStatsBlock.title),1)):s("",!0),t.dataGenericStatsBlock.dateDisplay==="countdown"||t.dataGenericStatsBlock.dateDisplay==="time_elapsed"?(e(),a("div",Z,[d(W,{"target-date-time":t.dataGenericStatsBlock.date,countdown:t.dataGenericStatsBlock.dateDisplay==="countdown"},null,8,["target-date-time","countdown"])])):t.dataGenericStatsBlock.dateDisplay==="static"?(e(),a("p",x,o(t.$filters.displayDate(t.dataGenericStatsBlock.date)),1)):t.dataGenericStatsBlock.dateDisplay==="live"?(e(),u(H(t.hasFeaturedEmbed?"a":"div"),{key:5,href:t.hasFeaturedEmbed?"#featuredEmbed":null,class:w(["group block",{"cursor-pointer":t.hasFeaturedEmbed}]),onClick:t.playVideo},{default:r(()=>[n[1]||(n[1]=i("p",{class:"text-stats-lg flex items-center"},[i("span",{class:"relative flex w-3 h-3 mr-3"},[i("span",{class:"motion-safe:animate-ping bg-green absolute inline-flex w-full h-full rounded-full opacity-75"}),i("span",{class:"bg-green relative inline-flex w-3 h-3 rounded-full"})]),i("span",null,"Watch Live")],-1)),i("p",tt,[n[0]||(n[0]=i("span",{class:"mr-1 -mb-3"},"Estimated:",-1)),i("span",et,o(t.$filters.displayDate(t.dataGenericStatsBlock.date,"DateTime"))+" UTC ",1)]),t.hasFeaturedEmbed?(e(),a("div",at,[d(y)])):s("",!0)]),_:1},8,["href","class","onClick"])):s("",!0)])):s("",!0),d(M),t.asteroidWatch?(e(),a("div",st,[t.asteroidWatch.link?(e(),u(m,{key:0,variant:"none",target:t.asteroidWatch.linkTarget?"_blank":"_self",href:t.asteroidWatch.link,"link-class":"block"},{default:r(()=>[t.asteroidWatch.heading?(e(),a("p",it,o(t.asteroidWatch.heading),1)):s("",!0)]),_:1},8,["target","href"])):(e(),a(h,{key:1},[t.asteroidWatch.heading?(e(),a("p",ot,o(t.asteroidWatch.heading),1)):s("",!0)],64)),t.asteroidWatch.title?(e(),a("p",nt,o(t.asteroidWatch.title),1)):s("",!0),t.asteroidWatch.asteroidApproach?(e(),a(h,{key:3},[t.asteroidWatch.asteroidApproach.date?(e(),a("p",lt,o(t.$filters.displayDate(t.asteroidWatch.asteroidApproach.date)),1)):s("",!0),d(E,{"unit-pair":"MI_KM",value:parseFloat(t.asteroidWatch.asteroidApproach.distanceMiles),"second-value":parseFloat(t.asteroidWatch.asteroidApproach.distanceKilometers),"value-system":"imperial",inline:"",class:"text-gray-mid-dark mt-2"},{default:r(D=>[i("span",rt," Proximity "+o(D.formattedValue),1)]),_:1},8,["value","second-value"]),d(m,{"link-class":"block",variant:"none","aria-label":"View the next five approaches",to:"/asteroid-watch/next-five-approaches"},{default:r(()=>[i("div",dt,[d(y)])]),_:1})],64)):s("",!0)])):s("",!0)])]),n[3]||(n[3]=i("div",{class:"bg-gray-light col-start-container-end col-end-bleed sm:block hidden"},null,-1))])])):s("",!0)}const b=A(F,[["render",ct]]),pt={title:"Components/WWW/Homepage/HomepageStats",component:b,excludeStories:/.*Data$/},l={asteroidWatchWidget:{asteroidApproach:{date:"2020-12-21",distanceKilometers:415e4,distanceMiles:258e4,externalLink:"https://ssd.jpl.nasa.gov/sbdb.cgi?sstr=2017%20XQ60;orb=1"},heading:"ASTEROID WATCH",title:"Next close approach"},dsnWidget:{heading:"DEEP SPACE NETWORK",location:"Goldstone",spacecraftName:"MMS 1",transmitStatus:"both",transmitTitle:"Currently transmitting"},statistics:[{blockType:"StatisticsMissionBlock",heading:"MISSIONS",title:"Currently active"},{blockType:"StatisticsGenericBlock",date:"2021-02-03T12:55:00-08:00",dateDisplay:"countdown",heading:"NEXT LANDING",title:"Custom title"}],statisticsMissionCount:43,featuredEmbed:[]},c=t=>({setup(){return{args:t}},components:{HomepageStats:b},template:`<HomepageStats
    :statistics="args.statistics"
    :mission-count="args.statisticsMissionCount"
    :dsn="args.dsnWidget"
    :asteroid-watch="args.asteroidWatchWidget"
    :featured-embed="args.featuredEmbed"
  />`}),g=c.bind({});g.storyName="HomepageStats";g.args=l;const f=c.bind({});f.args={...l,statistics:[{blockType:"StatisticsMissionBlock",heading:"MISSIONS",title:"Currently active"},{blockType:"StatisticsGenericBlock",date:"2021-02-18T12:55:00-08:00",dateDisplay:"static",heading:"NEXT LANDING",title:"Mars Perseverance"}]};const S=c.bind({});S.args={...l,statistics:[{blockType:"StatisticsMissionBlock",heading:"MISSIONS",title:"Currently active"},{blockType:"StatisticsGenericBlock",date:"2021-02-18T12:55:00-08:00",dateDisplay:"time_elapsed",heading:"TIME ON MARS",title:"Mars Perseverance"}]};const B=c.bind({});B.args={...l,statistics:[{blockType:"StatisticsMissionBlock",heading:"MISSIONS",title:"Currently active"},{blockType:"StatisticsGenericBlock",date:"2021-02-18T12:55:00-08:00",dateDisplay:"live",heading:"NEXT LANDING",title:"Mars Perseverance"}],featuredEmbed:[{heading:"Watch Live",display:!0}]};const v=c.bind({});v.args={...l,statistics:[{blockType:"StatisticsMissionBlock",heading:"MISSIONS",title:"Currently active"},{blockType:"StatisticsGenericBlock",date:"2021-02-18T12:55:00-08:00",dateDisplay:"live",heading:"NEXT LANDING",title:"Mars Perseverance"}]};const T=c.bind({});T.args={...l,dsnWidget:{heading:"DEEP SPACE NETWORK",location:"",spacecraftName:null,transmitStatus:"",transmitTitle:""}};const mt=["HomepageStatsData","BaseStory","StaticDate","TimeElapsed","WatchLive","WatchLiveNoVideo","NoDsn"],ft=Object.freeze(Object.defineProperty({__proto__:null,BaseStory:g,HomepageStatsData:l,NoDsn:T,StaticDate:f,TimeElapsed:S,WatchLive:B,WatchLiveNoVideo:v,__namedExportsOrder:mt,default:pt},Symbol.toStringTag,{value:"Module"}));export{b as H,l as a,ft as b};
