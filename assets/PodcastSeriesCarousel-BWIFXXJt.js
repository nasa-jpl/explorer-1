import{h as v,e as S,f as n,B as c,w as p,j as o,x as d,F as k,G as I,n as T,y as u,l as m,O as C,E as h,o as t}from"./iframe-UYtirdi4.js";import{u as w}from"./useApi-o-nPpLEi-wlm0xV6x.js";import{L as x}from"./LayoutHelper-D4fFMFG6.js";import{T as D}from"./ThumbnailCarousel-B7qnze2X.js";const y=w(),b=v({name:"PodcastSeriesCarousel",components:{LayoutHelper:x,ThumbnailCarousel:D},props:{series:{type:Object,required:!1},initialSeasonId:{type:String,required:!1}},data(){return{activeTabId:""}},computed:{sortedSeasons(){let e;return this.series&&this.series.seasons&&(e=this.series.seasons,e=e.toSorted((s,a)=>{if(s.seasonNumber&&a.seasonNumber)return s.seasonNumber-a.seasonNumber})),e},activeSeasonId(){if(this.activeTabId)return this.activeTabId;if(this.initialSeasonId)return this.initialSeasonId;if(this.series?.seasons?.length)return this.series.seasons[0].id},initialEpisodeIndex(){let e;return this.series?.seasons&&this.activeSeasonId&&y?.path?(e=this.series.seasons.find(s=>s.id===this.activeSeasonId)?.episodes,e?e.findIndex(s=>s.url===y.path):null):null},activeTabData(){let e;if(this.series?.seasons?.length&&(this.activeSeasonId?e=this.series.seasons.find(s=>s.id===this.activeSeasonId):e=this.series.seasons[0],e?.episodes?.length)){let s=e.episodes;s=s.toSorted((a,r)=>{if(a.publicationDate&&r.publicationDate)return new Date(a.publicationDate).getTime()-new Date(r.publicationDate).getTime()}),e={...e,episodes:s}}return e}},methods:{updateActiveTab(e){this.activeTabId=e}}}),_={key:0,class:"PodcastSeriesCarousel"},N={class:"text-gray-dark text-h3 mb-2 lg:mb-5"},P={class:"flex flex-wrap mb-6 lg:mb-10"},q=["aria-expanded","onClick"],E={key:0,class:"text-h6"};function j(e,s,a,r,A,B){const l=h("LayoutHelper"),f=h("ThumbnailCarousel");return e.series&&e.activeTabData?(t(),n("div",_,[c(l,{indent:"col-2"},{default:p(()=>[o("h2",N,"More "+d(e.series.title)+" Episodes",1),o("ul",P,[(t(!0),n(k,null,I(e.sortedSeasons,(i,g)=>(t(),n("li",{key:g,class:"last:mr-0 w-auto mr-10 lg:flex-shrink-0"},[o("button",{class:T(["text-subtitle block text-left lg:text-center lg:w-full py-2 border-b-2 text-gray-mid-dark can-hover:hover:text-gray-dark",e.activeSeasonId===i.id?"border-jpl-red text-gray-dark":"border-white"]),"aria-expanded":e.activeSeasonId===i.id?"true":"false",onClick:L=>e.updateActiveTab(i.id)}," Season "+d(i.seasonNumber),11,q)]))),128))])]),_:1}),c(l,{indent:"col-2",class:"mb-4"},{default:p(()=>[e.activeTabData.title?(t(),n("h3",E,d(e.activeTabData.title),1)):u("",!0)]),_:1}),(t(),m(C,null,[(t(),m(f,{key:e.activeSeasonId,"initial-slide":e.activeSeasonId===e.initialSeasonId&&e.initialEpisodeIndex?e.initialEpisodeIndex:0,slides:e.activeTabData.episodes},null,8,["initial-slide","slides"]))],1024))])):u("",!0)}const F=S(b,[["render",j]]);b.__docgenInfo={exportName:"default",displayName:"PodcastSeriesCarousel",type:1,props:[{name:"key",global:!0,description:"",tags:[],required:!1,type:"PropertyKey",declarations:[],schema:{kind:"enum",type:"PropertyKey",schema:["string","number","symbol"]}},{name:"ref",global:!0,description:"",tags:[],required:!1,type:"VNodeRef",declarations:[],schema:{kind:"enum",type:"VNodeRef",schema:["string","Ref<any, any>",{kind:"event",type:"(ref: Element | ComponentPublicInstance<{}, {}, {}, {}, {}, {}, {}, {}, false, ComponentOptionsBase<any, any, any, any, any, any, any, any, any, {}, {}, string, {}, {}, {}, string, ComponentProvideOptions>, ... 4 more ..., any>, refs: Record<...>): void"}]}},{name:"ref_for",global:!0,description:"",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"ref_key",global:!0,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string"},{name:"class",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"style",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"series",global:!1,description:"",tags:[],required:!1,type:"Series",declarations:[],schema:{kind:"object",type:"Series"}},{name:"initialSeasonId",global:!1,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string"}],events:[],slots:[],exposed:[{name:"series",type:"Series",description:"",declarations:[],schema:{kind:"object",type:"Series"}},{name:"initialSeasonId",type:"string",description:"",declarations:[],schema:"string"},{name:"activeTabId",type:"string",description:"",declarations:[],schema:"string"},{name:"sortedSeasons",type:"Season[]",description:"",declarations:[],schema:{kind:"array",type:"Season[]"}},{name:"activeSeasonId",type:"string",description:"",declarations:[],schema:"string"},{name:"initialEpisodeIndex",type:"number",description:"",declarations:[],schema:"number"},{name:"activeTabData",type:"Season | ActiveTab",description:"",declarations:[],schema:{kind:"enum",type:"Season | ActiveTab",schema:[{kind:"object",type:"Season"},{kind:"object",type:"ActiveTab"}]}}],sourceFiles:"/home/runner/work/explorer-1/explorer-1/packages/vue/src/components/PodcastSeriesCarousel/PodcastSeriesCarousel.vue"};export{F as P};
