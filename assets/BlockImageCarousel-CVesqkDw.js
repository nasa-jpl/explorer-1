import{s as y}from"./_swiperOptions-Cb85alkN.js";import{S as f,A as I}from"./a11y-S1BjB8Wp.js";import{N as k}from"./navigation-DYSZwei8.js";import{d as _,_ as x,P as n,o as i,b as c,e as a,f as B,F as u,L as m,h as C,N as d,i as h,n as w,k as N}from"./iframe-CnvubKsn.js";import{B as A}from"./BaseButton-BOXs8OgM.js";import{B as S}from"./BlockImageCarouselItem-B8BDzzaq.js";import{I as $,a as q}from"./IconNext-mNTdpHNl.js";const T=y.BlockImageCarousel;f.use([k,I]);const F=_({name:"BlockImageCarousel",components:{BaseButton:A,IconPrev:$,IconNext:q,BlockImageCarouselItem:S},props:{items:{type:Array,required:!1},itemRole:{type:String,required:!1},loop:{type:Boolean,default:!0},slide:{type:Number,required:!1},blockId:{type:String,required:!1},showTitle:{type:Boolean,required:!1,default:!1}},data(){return{currentIndex:0,currentCaption:"",slider:null,sliderOptions:{...T,loop:this.loop,pagination:!1,a11y:{slideRole:this.itemRole},on:{slideChange:e=>{this.updateIndex(e.realIndex),this.loop&&Array.prototype.forEach.call(e.slides,function(o){const s=o.querySelector(".MixinFancybox");if(s){const r=s.dataset.fancybox||s.dataset.triggerFancybox;o.classList.contains("swiper-slide-visible")?(s.dataset.fancybox=r,s.removeAttribute("data-trigger-fancybox")):o.classList.contains("swiper-slide-duplicate")||o.classList.contains("swiper-slide-duplicate-next")?(s.dataset.triggerFancybox=r,s.removeAttribute("data-fancybox")):(s.dataset.fancybox=r,s.removeAttribute("data-trigger-fancybox"))}})}}}}},computed:{hasCover(){return!!this.$slots.firstSlide},itemsMobileNav(){const e=this.items?this.items.map(o=>o):void 0;return e&&this.hasCover&&e.push({cover:"hasCover"}),e}},watch:{slide(e){this.slideTo(e)}},mounted(){this.init()},methods:{init(){this.slider=new f(this.$refs.BlockImageCarousel,this.sliderOptions),this.currentIndex=this.slider.realIndex},updateIndex(e){this.currentIndex=e},slideTo(e){this.slider&&this.slider.slideTo(e)}}}),L={key:0,class:"BlockImageCarousel w-full overflow-hidden"},P={ref:"BlockImageCarousel",class:"swiper"},z={class:"swiper-wrapper"},O={class:"swiper-nav lg:block absolute inset-x-0 top-0 hidden h-0 overflow-hidden z-70"},E={class:"absolute inset-0"},M={class:"absolute bottom-0 right-0 z-10 flex"},R={class:"swiper-dots lg:hidden absolute top-0 z-50 w-full text-center"},V=["aria-label","onClick"];function G(e,o,s,r,j,D){const b=n("BlockImageCarouselItem"),g=n("IconPrev"),p=n("BaseButton"),v=n("IconNext");return e.items?(i(),c("div",L,[a("div",P,[a("div",z,[B(e.$slots,"firstSlide"),(i(!0),c(u,null,m(e.items,(l,t)=>(i(),C(b,{key:t,image:l.image,caption:l.caption,"display-caption":l.displayCaption,"block-id":e.blockId,"show-title":e.showTitle,class:"swiper-slide"},null,8,["image","caption","display-caption","block-id","show-title"]))),128))]),a("div",O,[a("div",E,[a("div",M,[d(p,{class:"swiper-prev xl:text-xl border-collapse","aria-label":"Previous slide"},{icon:h(()=>[d(g)]),_:1}),d(p,{class:"swiper-next xl:text-xl border-collapse","aria-label":"Next slide"},{icon:h(()=>[d(v)]),_:1})])])]),a("div",R,[(i(!0),c(u,null,m(e.itemsMobileNav,(l,t)=>(i(),c("button",{key:t,class:"pointer-events-auto inline-block px-1 py-3 cursor-pointer","aria-label":"Go to slide "+(e.hasCover?t:t+1),onClick:H=>e.slideTo(e.hasCover?t:t+1)},[a("span",{class:w(["inline-block w-3 h-3 rounded-full",e.currentIndex===t?"bg-primary":"bg-gray-light-mid"])},null,2)],8,V))),128))])],512)])):N("",!0)}const Z=x(F,[["render",G]]);export{Z as B};
