import{c as f,a6 as V,al as L,_ as h,H as i,C as q,y as E,o as n,h as p,l as u,w as m,i as l,t as N,n as o,N as I,s as S,p as D,a2 as O,a as j,m as v,J as g,K as T,F as k,j as M}from"./iframe-CX58vNoo.js";import{u as Y,h as F,l as _}from"./mixins-22H8zNz8.js";import{N as H}from"./NavDropdownToggle-CtXomMID.js";import{N as J}from"./NavSecondaryDropdownContent-Btr9ET-R.js";const C=f({name:"NavSecondaryDropdown",components:{IconCaret:V,NavDropdownToggle:H,NavSecondaryDropdownContent:J},props:{index:{type:Number,required:!1,default:0},isLast:{type:Boolean,required:!1,default:!1},item:{type:Object,required:!0},invert:{type:Boolean,required:!1,default:!1}},emits:["closeDropdown","openDropdown"],data(){return{dropdownVisible:!1}},watch:{$route(){this.dropdownVisible&&this.closeDropdown()}},mounted(){L.on("linkClicked",()=>this.closeDropdown())},methods:{toggleDropdown(){this.dropdownVisible?this.closeDropdown():this.openDropdown()},closeDropdown(){this.dropdownVisible&&(this.dropdownVisible=!1,this.$emit("closeDropdown"))},openDropdown(){this.dropdownVisible||(this.dropdownVisible=!0,this.$emit("openDropdown"))},isExternal(e){return!!(e&&e.startsWith("http"))},dropdownToggleClasses(e){return this.invert?{"mr-auto text-white font-bold secondary-root":e===0,"text-white font-semibold mt-[.2rem]":e!==0,"-open":this.dropdownVisible}:{"mr-auto text-primary font-semibold secondary-root":e===0,"text-gray-dark font-medium mt-[.2rem]":e!==0,"-open":this.dropdownVisible}},dropdownButtonClasses(e){const r=this.invert?"can-hover:group-hover:border-white":"can-hover:group-hover:border-primary",t=this.invert?"can-hover:group-hover:border-white can-hover:group-hover:text-white":"can-hover:group-hover:border-gray-mid-dark can-hover:group-hover:text-gray-mid-dark";return e===0?r:t}}});function W(e,r,t,b,y,w){const d=i("IconCaret"),c=i("NavDropdownToggle"),s=i("NavSecondaryDropdownContent"),a=q("click-outside");return E((n(),p("div",{class:o(["NavSecondaryDropdown relative",{"mr-auto":e.index===0}])},[u(c,{"aria-expanded":!!e.dropdownVisible,path:e.item.path,class:o(["-t-2 border-transparent block px-3 py-2",e.dropdownToggleClasses(e.index)]),invert:e.invert,onToggleClicked:r[0]||(r[0]=B=>e.toggleDropdown()),onCloseDropdown:r[1]||(r[1]=B=>e.closeDropdown())},{default:m(()=>[l("span",{class:o(["flex content-center pt-2 pb-1 mb-1 transition-colors duration-100 ease-in border-b-2 border-transparent",e.dropdownButtonClasses(e.index)])},[l("span",null,N(e.item.title),1),u(d,{class:"transform rotate-90 text-sm ml-2 pl-2 -mt-px"})],2)]),_:1},8,["aria-expanded","path","class","invert"]),u(O,{name:"navfade"},{default:m(()=>[e.dropdownVisible?(n(),p("div",{key:0,class:o(["absolute z-60 bg-gray-light shadow-jpl w-64 text-lg",e.isLast?"right-0":"left-0"]),onClick:r[2]||(r[2]=I(()=>{},["stop"]))},[S(e.$slots,"default",{},()=>[u(s,{item:e.item},null,8,["item"])])],2)):D("",!0)]),_:3})],2)),[[a,e.closeDropdown]])}const z=h(C,[["render",W]]);C.__docgenInfo={displayName:"NavSecondaryDropdown",exportName:"default",description:"",tags:{},props:[{name:"index",type:{name:"number"},required:!1,defaultValue:{func:!1,value:"0"}},{name:"isLast",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"item",type:{name:"object"},required:!0},{name:"invert",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}}],events:[{name:"closeDropdown"},{name:"openDropdown"}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/explorer-1/explorer-1/apps/vue-storybook/node_modules/@explorer-1/vue/src/components/NavSecondary/NavSecondaryDropdown.vue"]};const $=f({name:"NavSecondaryLink",components:{BaseLink:j},props:{index:{type:Number,required:!1,default:void 0},item:{type:Object,required:!0},invert:{type:Boolean,default:!1}},methods:{isExternal(e){return!!(e&&e.startsWith("http"))},baseLinkClasses(e){let r="mr-auto secondary-root";r=this.invert?`${r} text-white font-bold -invert`:`${r} text-primary font-semibold`;const t=this.invert?"text-white -invert font-semibold":"text-gray-dark font-medium";return e===0?r:t},spanClasses(e){const r=this.invert?"can-hover:group-hover:border-white":"can-hover:group-hover:border-primary",t=this.invert?"can-hover:group-hover:border-white can-hover:group-hover:text-white":"can-hover:group-hover:border-gray-mid-dark can-hover:group-hover:text-gray-mid-dark";return e===0?r:t}}});function R(e,r,t,b,y,w){const d=i("BaseLink");return n(),v(d,{href:e.isExternal(e.item.path)?e.item.path:void 0,to:e.isExternal(e.item.path)?void 0:e.item.path,"link-class":"block px-3 py-2",variant:"none",class:o(["NavSecondaryLink border-t-2 border-transparent",e.baseLinkClasses(e.index)])},{default:m(()=>[l("span",{class:o(["inline-block pt-2 pb-1 mb-1 transition-colors duration-100 ease-in border-b-2 border-transparent",e.spanClasses(e.index)])},N(e.item.title),3)]),_:1},8,["href","to","class"])}const K=h($,[["render",R]]);$.__docgenInfo={displayName:"NavSecondaryLink",exportName:"default",description:"",tags:{},props:[{name:"index",type:{name:"number"},required:!1,defaultValue:{func:!1,value:"undefined"}},{name:"item",type:{name:"BasicLinkObject"},required:!0},{name:"invert",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],sourceFiles:["/home/runner/work/explorer-1/explorer-1/apps/vue-storybook/node_modules/@explorer-1/vue/src/components/NavSecondary/NavSecondaryLink.vue"]};const x=f({name:"NavSecondary",components:{NavSecondaryDropdown:z,NavSecondaryLink:K},props:{breadcrumb:{type:String,required:!1,default:void 0},hasIntro:{type:Boolean,required:!1,default:!1},invert:{type:Boolean,required:!1,default:!1},jumpMenu:{type:Boolean,default:!1}},data(){return{isSticky:!1,stickyElement:void 0,observer:void 0,observerOffset:void 0,scrollDirection:void 0,posY:0}},computed:{...g(Y),...g(T),theBreadcrumb(){if(this.breadcrumb)return F(JSON.parse(this.breadcrumb)),JSON.parse(this.breadcrumb);if(this.headerStore&&!this.jumpMenu)return this.headerStore.globalChildren},enabled(){return!!(this.theBreadcrumb&&this.theBreadcrumb.length>1||this.$slots.default)}},mounted(){this.enabled&&(this.jumpMenu||_(!1),window.addEventListener("scroll",this.handleScroll)),!("IntersectionObserver"in window)||!("IntersectionObserverEntry"in window)||!("intersectionRatio"in window.IntersectionObserverEntry.prototype)||this.enabled&&(this.initIntersectionObservers(),this.checkSticky())},unmounted(){window.removeEventListener("scroll",this.handleScroll)},methods:{isExternal(e){return!!(e&&e.startsWith("http"))},handleScroll(){var e=window.scrollY;e>this.posY?this.scrollDirection="down":this.scrollDirection="up",this.posY=e},initIntersectionObservers(){this.stickyElement=this.$refs.NavSecondary,this.observer=new IntersectionObserver(([e])=>{e.target.classList.toggle("-is-sticky",e.intersectionRatio===0)},{threshold:[0],rootMargin:this.themeStore.isEdu?"-73px 0px 0px 0px":"-113px 0px 0px 0px"})},checkSticky(){this.stickyElement&&this.observer&&this.observer.observe(this.stickyElement)}}}),P={class:"lg:ml-0 2xl:-mr-3 lg:justify-end flex -ml-3"};function U(e,r,t,b,y,w){const d=i("NavSecondaryDropdown"),c=i("NavSecondaryLink");return e.enabled?(n(),p("nav",{key:0,ref:"NavSecondary","aria-label":"Secondary",class:o(["NavSecondary",{"has-intro":e.hasIntro,"!bg-transparent border-none":e.invert,"-scrolled-up":e.scrollDirection==="up","-at-top":e.posY===0}])},[l("div",{class:o(["w-full mx-auto",{"bg-gradient-to-r from-black to-primary bg-transparent to-90% text-white":e.invert}])},[l("div",{class:o(`nav-secondary-container edu:border-0 lg:container lg:px-0 lg:whitespace-normal lg:overflow-visible relative px-4 pb-0 mx-auto overflow-x-auto text-sm font-medium whitespace-nowrap ${e.invert?"border-0":"border-t border-gray-mid text-gray-mid-dark border-opacity-50"}`)},[l("div",P,[(n(!0),p(k,null,M(e.theBreadcrumb,(s,a)=>(n(),p(k,null,[s.children&&s.children.length>0?(n(),v(d,{key:a,item:s,index:a,"is-last":e.theBreadcrumb&&a===e.theBreadcrumb.length-1,invert:e.invert},null,8,["item","index","is-last","invert"])):(n(),v(c,{key:a,item:s,index:a,invert:e.invert},null,8,["item","index","invert"]))],64))),256)),S(e.$slots,"default")])],2)],2)],2)):D("",!0)}const Z=h(x,[["render",U]]);x.__docgenInfo={displayName:"NavSecondary",exportName:"default",description:"",tags:{},props:[{name:"breadcrumb",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"undefined"}},{name:"hasIntro",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"invert",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"jumpMenu",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/explorer-1/explorer-1/apps/vue-storybook/node_modules/@explorer-1/vue/src/components/NavSecondary/NavSecondary.vue"]};export{Z as N,z as a,K as b};
