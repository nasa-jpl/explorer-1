import{s as v}from"./_swiperOptions-Cb85alkN.js";import{S as y,A as I}from"./a11y-C7GBo9cw.js";import{N as w}from"./navigation-CFJlRBZS.js";import{h as x,e as C,f as l,j as o,k as _,F as p,G as u,B as c,w as b,y as B,E as d,o as i,l as S,n as O}from"./iframe-Cbo-gMoN.js";import{B as q}from"./BaseButton-CFcHEwKv.js";import{B as N}from"./BlockImageCarouselItem-Cx01pxn4.js";import{I as j,a as R}from"./IconPrev-BEmS4B4d.js";const P=v.BlockImageCarousel;y.use([w,I]);const f=x({name:"BlockImageCarousel",components:{BaseButton:q,IconPrev:R,IconNext:j,BlockImageCarouselItem:N},props:{items:{type:Array,required:!1},itemRole:{type:String,required:!1},loop:{type:Boolean,default:!0},slide:{type:Number,required:!1},blockId:{type:String,required:!1},showTitle:{type:Boolean,required:!1,default:!1}},data(){return{currentIndex:0,currentCaption:"",slider:null,sliderOptions:{...P,loop:this.loop,pagination:!1,a11y:{slideRole:this.itemRole},on:{slideChange:e=>{this.updateIndex(e.realIndex),this.loop&&Array.prototype.forEach.call(e.slides,function(t){const a=t.querySelector(".MixinFancybox");if(a){const n=a.dataset.fancybox||a.dataset.triggerFancybox;t.classList.contains("swiper-slide-visible")?(a.dataset.fancybox=n,a.removeAttribute("data-trigger-fancybox")):t.classList.contains("swiper-slide-duplicate")||t.classList.contains("swiper-slide-duplicate-next")?(a.dataset.triggerFancybox=n,a.removeAttribute("data-fancybox")):(a.dataset.fancybox=n,a.removeAttribute("data-trigger-fancybox"))}})}}}}},computed:{hasCover(){return!!this.$slots.firstSlide},itemsMobileNav(){const e=this.items?this.items.map(t=>t):void 0;return e&&this.hasCover&&e.push({cover:"hasCover"}),e}},watch:{slide(e){this.slideTo(e)}},mounted(){this.init()},methods:{init(){this.slider=new y(this.$refs.BlockImageCarousel,this.sliderOptions),this.currentIndex=this.slider.realIndex},updateIndex(e){this.currentIndex=e},slideTo(e){this.slider&&this.slider.slideTo(e)}}}),z={key:0,class:"BlockImageCarousel w-full overflow-hidden"},A={ref:"BlockImageCarousel",class:"swiper"},F={class:"swiper-wrapper"},M={class:"swiper-nav lg:block absolute inset-x-0 top-0 hidden h-0 overflow-hidden z-70"},T={class:"absolute inset-0"},$={class:"absolute bottom-0 right-0 z-10 flex"},W={class:"swiper-dots lg:hidden absolute top-0 z-50 w-full text-center"},E=["aria-label","onClick"];function V(e,t,a,n,G,L){const g=d("BlockImageCarouselItem"),h=d("IconPrev"),m=d("BaseButton"),k=d("IconNext");return e.items?(i(),l("div",z,[o("div",A,[o("div",F,[_(e.$slots,"firstSlide"),(i(!0),l(p,null,u(e.items,(r,s)=>(i(),S(g,{key:s,image:r.image,caption:r.caption,"display-caption":r.displayCaption,"block-id":e.blockId,"show-title":e.showTitle,class:"swiper-slide"},null,8,["image","caption","display-caption","block-id","show-title"]))),128))]),o("div",M,[o("div",T,[o("div",$,[c(m,{class:"swiper-prev !text-lg xl:!text-xl border-collapse","aria-label":"Previous slide"},{iconRight:b(()=>[c(h)]),_:1}),c(m,{class:"swiper-next !text-lg xl:!text-xl border-collapse","aria-label":"Next slide"},{iconRight:b(()=>[c(k)]),_:1})])])]),o("div",W,[(i(!0),l(p,null,u(e.itemsMobileNav,(r,s)=>(i(),l("button",{key:s,class:"pointer-events-auto inline-block px-1 py-3 cursor-pointer","aria-label":"Go to slide "+(e.hasCover?s:s+1),onClick:U=>e.slideTo(e.hasCover?s:s+1)},[o("span",{class:O(["inline-block w-3 h-3 rounded-full",e.currentIndex===s?"bg-primary":"bg-gray-light-mid"])},null,2)],8,E))),128))])],512)])):B("",!0)}const Z=C(f,[["render",V]]);f.__docgenInfo={exportName:"default",displayName:"BlockImageCarousel",type:1,props:[{name:"showTitle",global:!1,description:"Fancybox: if image titles should be displayed in the carousel's fancybox",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]},default:"false"},{name:"loop",global:!1,description:"",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]},default:"true"},{name:"key",global:!0,description:"",tags:[],required:!1,type:"PropertyKey",declarations:[],schema:{kind:"enum",type:"PropertyKey",schema:["string","number","symbol"]}},{name:"ref",global:!0,description:"",tags:[],required:!1,type:"VNodeRef",declarations:[],schema:{kind:"enum",type:"VNodeRef",schema:["string","Ref<any, any>",{kind:"event",type:"(ref: Element | ComponentPublicInstance<{}, {}, {}, {}, {}, {}, {}, {}, false, ComponentOptionsBase<any, any, any, any, any, any, any, any, any, {}, {}, string, {}, {}, {}, string, ComponentProvideOptions>, ... 4 more ..., any>, refs: Record<...>): void"}]}},{name:"ref_for",global:!0,description:"",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"ref_key",global:!0,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string"},{name:"class",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"style",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"slide",global:!1,description:"",tags:[],required:!1,type:"number",declarations:[],schema:"number"},{name:"blockId",global:!1,description:"Fancybox: the block id is used to differentiate the fancybox of this carousel from others on the page. Generated by Wagtail.",tags:[],required:!1,type:"string",declarations:[],schema:"string"},{name:"items",global:!1,description:"",tags:[],required:!1,type:"Partial<ImageObject>[]",declarations:[],schema:{kind:"array",type:"Partial<ImageObject>[]"}},{name:"itemRole",global:!1,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string"}],events:[],slots:[],exposed:[{name:"showTitle",type:"boolean",description:"Fancybox: if image titles should be displayed in the carousel's fancybox",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"loop",type:"boolean",description:"",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"slide",type:"number",description:"",declarations:[],schema:"number"},{name:"blockId",type:"string",description:"Fancybox: the block id is used to differentiate the fancybox of this carousel from others on the page. Generated by Wagtail.",declarations:[],schema:"string"},{name:"items",type:"Partial<ImageObject>[]",description:"",declarations:[],schema:{kind:"array",type:"Partial<ImageObject>[]"}},{name:"itemRole",type:"string",description:"",declarations:[],schema:"string"},{name:"currentIndex",type:"number",description:"",declarations:[],schema:"number"},{name:"slider",type:"{ params: { modules?: SwiperModule[]; injectStyles?: string[]; injectStylesUrls?: string[]; init?: boolean; enabled?: boolean; updateOnWindowResize?: boolean; resizeObserver?: boolean; initialSlide?: number; ... 111 more ...; _emitClasses?: boolean; }; ... 98 more ...; removeAllSlides: () => void; }",description:"",declarations:[],schema:"{ params: { modules?: SwiperModule[]; injectStyles?: string[]; injectStylesUrls?: string[]; init?: boolean; enabled?: boolean; updateOnWindowResize?: boolean; resizeObserver?: boolean; initialSlide?: number; ... 111 more ...; _emitClasses?: boolean; }; ... 98 more ...; removeAllSlides: () => void; }"},{name:"currentCaption",type:"string",description:"",declarations:[],schema:"string"},{name:"sliderOptions",type:"{ modules?: SwiperModule[]; injectStyles?: string[]; injectStylesUrls?: string[]; init?: boolean; enabled?: boolean; updateOnWindowResize?: boolean; resizeObserver?: boolean; initialSlide?: number; ... 111 more ...; _emitClasses?: boolean; }",description:"",declarations:[],schema:"{ modules?: SwiperModule[]; injectStyles?: string[]; injectStylesUrls?: string[]; init?: boolean; enabled?: boolean; updateOnWindowResize?: boolean; resizeObserver?: boolean; initialSlide?: number; ... 111 more ...; _emitClasses?: boolean; }"},{name:"hasCover",type:"boolean",description:"",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"itemsMobileNav",type:"Partial<ImageObject>[]",description:"",declarations:[],schema:{kind:"array",type:"Partial<ImageObject>[]"}}],sourceFiles:"/home/runner/work/explorer-1/explorer-1/packages/vue/src/components/BlockImageCarousel/BlockImageCarousel.vue"};export{Z as B};
