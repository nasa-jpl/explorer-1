import{BlockRelatedLinksData as S}from"./BlockRelatedLinks.stories-CgmP3Uri.js";import{BlockLinkTileCarouselData as H}from"./BlockLinkCarousel.stories-BN5UkKHB.js";import{d as I,l as $,_,P as i,o as a,b as s,k as t,N as o,i as l,h as d,e as n,n as V,m as p,F as g,a3 as R,t as m,L as N,f as O}from"./iframe-CnvubKsn.js";import{L as E}from"./LayoutHelper-BwDRSrMo.js";import{D as j}from"./DetailHeadline-D9z_nNw4.js";import{B as F}from"./BaseButton-BOXs8OgM.js";import{B as J}from"./BlockRelatedLinks-ANmDvZ4U.js";import{B as W}from"./BlockText-BZnxDVEN.js";import{B as z}from"./BlockAudio-BQM0-Bzr.js";import{I as K}from"./IconDownload-DWL46L2I.js";import{I as U}from"./IconDropdown-PHk9-4Zp.js";import{B as q}from"./BlockLinkCarousel-D86Keb5g.js";import{B as G}from"./BaseHeading-Cw0kgsgp.js";import{B as Q}from"./BaseModal-BIln2Zt0.js";import{P as X}from"./PodcastSeriesCarousel-Cvo0iS8o.js";import"./preload-helper-D6kgxu3v.js";import"./IconArrow-pFEQepRR.js";import"./MixinCarousel-DM-WPoSR.js";import"./a11y-S1BjB8Wp.js";import"./navigation-DYSZwei8.js";import"./_swiperOptions-Cb85alkN.js";import"./IconNext-mNTdpHNl.js";import"./BlockLinkCard-DUm4opOM.js";import"./mixins-CR304vEJ.js";import"./BaseImage-cduBzacQ.js";import"./BaseImagePlaceholder-D-GRZ7AB.js";import"./BasePill.vue_vue_type_script_setup_true_lang-BlUQOVrW.js";import"./constants-KGHeBXa6.js";import"./MetadataEduResource.vue_vue_type_style_index_0_lang-BarBxm10.js";import"./rangeifyGrades-DNSUkAGR.js";import"./IconProfile-CKLvC_Ar.js";import"./IconTime-D9Y9WIHI.js";import"./CalendarChip.vue_vue_type_script_setup_true_lang-jU0_Fozx.js";import"./MetadataEvent.vue_vue_type_style_index_0_lang-CTMvMNvX.js";import"./IconCalendar-CI8GYn19.js";import"./IconLocation-CrRSeE-I.js";import"./BlockLinkTile-CPGgXe5i.js";import"./BaseAudio-87Ck2LDW.js";import"./IconPlay-CkT4NCyB.js";import"./IconForwardTen-DGYWVFB3.js";import"./BaseModalDialog-D6iAcp5H.js";import"./ThumbnailCarousel-gu28B-aS.js";import"./SearchResultGridItem-B4ycxp8F.js";import"./lookupContentType-BLOvub8k.js";const Y=I({name:"PageAudioDetail",components:{LayoutHelper:E,BlockRelatedLinks:J,DetailHeadline:j,BlockText:W,BaseButton:F,BlockAudio:z,IconDownload:K,IconDropdown:U,BlockLinkCarousel:q,BaseHeading:G,BaseLink:$,BaseModal:Q,PodcastSeriesCarousel:X},props:{data:{type:Object,required:!1,default:void 0}},data(){return{collapseTranscript:!0,showTranscriptControls:!0}},watch:{"data.transcript":{handler(){this.$nextTick(()=>{this.checkTranscriptOverflow()})}}},mounted(){this.$nextTick(()=>{this.checkTranscriptOverflow()})},methods:{checkTranscriptOverflow(){if(this.$refs.audioTranscript){const e=this.$refs.audioTranscript;e.scrollHeight>e.clientHeight?this.showTranscriptControls=!0:this.showTranscriptControls=!1}},toggleTranscript(){!this.collapseTranscript&&this.$refs.audioTranscript?(this.$refs.audioTranscript.scrollIntoView({behavior:"smooth"}),this.collapseTranscript=!0):this.collapseTranscript=!1}}}),Z={key:0,class:"PageAudioDetail ThemeVariantLight",itemscope:"",itemtype:"http://schema.org/VideoObject"},x=["content"],ee=["content"],ae=["content"],te=["content"],se={class:"lg:grid flex flex-col grid-cols-10 mb-12"},ie={key:0,class:"lg:order-1 order-2 col-span-7 mb-12"},oe={key:0,class:"border-gray-light-mid lg:my-8 my-5"},re={key:0,class:"transcript-overlay"},le={class:"audio-aside lg:order-2 order-1 col-start-9 col-end-11 mb-12"},ne={class:"mt-5 lg:mt-0 lg:mb-12"},de={class:"lg:w-auto w-full"},pe={class:"SubscribeModal mb-8"},me={key:0,class:"text-body-md mb-5"},ue={key:1,class:"text-body-md mb-5"},ce={class:"lg:w-auto w-full"},ge={class:"pr-2"},ke={key:0,class:"lg:pt-0 lg:mb-12 pt-8"},he={key:5,class:"bg-gray-light lg:py-24 lg:mt-24 py-12 mt-12"};function fe(e,r,ye,Le,Te,Be){var L;const k=i("DetailHeadline"),h=i("LayoutHelper"),B=i("BlockAudio"),f=i("BlockText"),v=i("BaseHeading"),b=i("IconDropdown"),u=i("BaseButton"),A=i("BlockRelatedLinks"),y=i("BaseLink"),D=i("BaseModal"),P=i("IconDownload"),w=i("PodcastSeriesCarousel"),C=i("BlockLinkCarousel");return e.data?(a(),s("div",Z,[e.data.uploadedMedia&&e.data.uploadedMedia.file?(a(),s("meta",{key:0,itemprop:"contentUrl",content:e.data.uploadedMedia.file},null,8,x)):t("",!0),e.data.uploadedMedia&&e.data.uploadedMedia.duration?(a(),s("meta",{key:1,itemprop:"duration",content:e.data.uploadedMedia.duration},null,8,ee)):t("",!0),e.data.thumbnailImage&&e.data.thumbnailImage.original?(a(),s("meta",{key:2,itemprop:"thumbnailUrl",content:e.data.thumbnailImage.original},null,8,ae)):t("",!0),e.data.summary?(a(),s("meta",{key:3,itemprop:"description",content:e.data.summary},null,8,te)):t("",!0),o(h,{indent:"col-1",class:"3xl:px-0 lg:mt-12 mx-auto lg:px-4 mt-5 mb-10 lg:mb-14"},{default:l(()=>[e.data.series&&e.data.series.url?(a(),d(k,{key:0,title:e.data.title,"publication-date":e.data.publicationDate,label:e.data.series.title+" Podcast","label-link":e.data.series.url,schema:""},null,8,["title","publication-date","label","label-link"])):(a(),d(k,{key:1,title:e.data.title,"publication-date":e.data.publicationDate,label:"Audio",schema:""},null,8,["title","publication-date"]))]),_:1}),o(B,{data:e.data},null,8,["data"]),o(h,{indent:"col-2",class:"lg:pt-12 pt-4"},{default:l(()=>[n("div",se,[e.data.summary||e.data.transcript||e.data.relatedLinks&&e.data.relatedLinks.length?(a(),s("div",ie,[o(f,{text:e.data.summary},null,8,["text"]),e.data.summary?(a(),s("hr",oe)):t("",!0),e.data.transcript&&e.data.transcript.length>2?(a(),s("div",{key:1,ref:"audioTranscript",class:V(["relative col-span-7 my-5",{"max-h-xl lg:max-h-3xl overflow-hidden":e.collapseTranscript}])},[e.collapseTranscript&&e.showTranscriptControls?(a(),s("div",re)):t("",!0),o(v,{level:"h2",class:"mb-5"},{default:l(()=>r[1]||(r[1]=[p("Transcript")])),_:1}),o(f,{text:e.data.transcript,variant:"medium",class:"audio-transcript",itemprop:"transcript"},null,8,["text"])],2)):t("",!0),e.data.transcript&&e.data.transcript.length>2&&e.showTranscriptControls?(a(),d(u,{key:2,class:"my-6",variant:"secondary",compact:"","aria-expanded":e.collapseTranscript?"false":"true",onClick:r[0]||(r[0]=c=>e.toggleTranscript())},{default:l(()=>[e.collapseTranscript?(a(),s(g,{key:0},[r[2]||(r[2]=n("span",null,"Read more",-1)),o(b,{class:"text-sm ml-2"})],64)):(a(),s(g,{key:1},[r[3]||(r[3]=n("span",null,"Collapse",-1)),o(b,{class:"transform rotate-180 text-sm ml-2"})],64))]),_:1},8,["aria-expanded"])):t("",!0),e.data.relatedLinks&&e.data.relatedLinks.length?(a(),d(A,{key:3,class:"mt-12",data:e.data.relatedLinks[0]},null,8,["data"])):t("",!0)])):t("",!0),n("aside",le,[n("div",ne,[n("div",de,[e.data.subscribeLinks&&e.data.subscribeLinks.length?(a(),d(D,{key:0,"bg-close":""},R({modalTrigger:l(()=>[o(u,{class:"w-full mb-5",variant:"primary",compact:""},{default:l(()=>r[4]||(r[4]=[p(" Subscribe ")])),_:1})]),default:l(()=>[n("div",pe,[e.data.subscribeLinks[0].description?(a(),s("p",me,m(e.data.subscribeLinks[0].description),1)):t("",!0),e.data.subscribeLinks[0].links&&e.data.subscribeLinks[0].links.length>0?(a(),s("ul",ue,[(a(!0),s(g,null,N(e.data.subscribeLinks[0].links,(c,M)=>(a(),s("li",{key:M},[o(y,{variant:"default",href:c.externalLink,"external-target-blank":""},{default:l(()=>[p(m(c.text),1)]),_:2},1032,["href"])]))),128))])):t("",!0)])]),_:2},[e.data.subscribeLinks[0].heading?{name:"modalHeader",fn:l(()=>[p(m(e.data.subscribeLinks[0].heading),1)]),key:"0"}:void 0]),1024)):t("",!0)]),n("div",ce,[e.data.uploadedMedia&&e.data.uploadedMedia.file?(a(),d(u,{key:0,href:e.data.uploadedMedia.file,class:"inline-block lg:block mb-5",variant:e.data.subscribeLinks&&e.data.subscribeLinks.length?"secondary":"primary",compact:""},{default:l(()=>[n("span",ge," Download "+m(e.data.uploadedMedia.fileExtension||"Audio"),1),O(e.$slots,"icon",{},()=>[o(P)])]),_:3},8,["href","variant"])):t("",!0)])]),e.data.series&&e.data.series.url?(a(),s("div",ke,[r[5]||(r[5]=n("p",{class:"text-subtitle mb-5"},"Podcast Series",-1)),o(y,{variant:"none",to:e.data.series.url,class:"text-jpl-red hover:text-jpl-red-dark text-lg","link-class":"p-3 -mt-3 -ml-3"},{default:l(()=>[p(m(e.data.series.title),1)]),_:1},8,["to"])])):t("",!0)])])]),_:3}),(L=e.data)!=null&&L.series?(a(),d(w,{key:4,series:e.data.series,"initial-season-id":e.data.parent?e.data.parent.id:null,class:"mb-12 lg:mb-24"},null,8,["series","initial-season-id"])):t("",!0),e.data.relatedPages&&e.data.relatedPages.length?(a(),s("div",he,[o(C,{"item-type":"tiles",heading:"Related Pages",items:e.data.relatedPages},null,8,["items"])])):t("",!0)])):t("",!0)}const be=_(Y,[["render",fe]]),ca={title:"Templates/PageAudioDetail",component:be,tags:["!autodocs"],excludeStories:/.*Data$/},T={data:{contentType:"audio_detail.AudioDetailPage",label:"Audio",publicationDate:"2020-12-09",relatedPages:H,seoTitle:"Testing Audio",series:null,subscribeLinks:[],slug:"testing-audio",summary:"some summary of the audio file",thumbnailImage:{alt:"",id:"341",url:"/public/images/bg-earth-1440x810.jpg"},title:"Testing Audio",topicLabel:"JPL Life",transcript:`<p>Preparing to Land Perseverance</p>
    <p>The following tests, conducted from 2017-2020, helped prepare NASA's Perseverance rover for its landing on Mars.</p>
    <p>[music]</p>
    <p>Centrifuge Spin Test</p>
    <p>Santa Clarita, CA June 2019</p>
    <p>[music]</p>
    <p>Parachute Firing Test</p>
    <p>Moses Lake, WA May 2019</p>
    <p>[music]</p>
    <p>[mortar firing]</p>
    <p>[mortar firing]</p>
    <p>[clapping]</p>
    <p>Parachute Wind Tunnel Test</p>
    <p>NASA's Ames Research Center </p>
    <p>Moffett Field, CA June 2017</p>
    <p>[music]</p>
    <p>[mortar firing]</p>
    <p>[wind]</p>
    <p>[clapping]</p>
    <p>Lander Vision System Test</p>
    <p>For Avoiding Landing Hazards</p>
    <p>Death Valley, CA May 2019</p>
    <p>[helicopter taking off]</p>
    <p>[music]</p>
    <p>Rover Wheel Drop Test</p>
    <p>NASA's Jet Propulsion Laboratory</p>
    <p>Southern CA August 2019</p>
    <p>[wheel dropping]</p>
    <p>[hitting rock]</p>`,uploadedMedia:{collection:{id:"1",name:"Root",path:"0001"},createdAt:"2020-12-10T07:38:30.951546+00:00",duration:"11",file:"/audio/file_example_MP3_700KB.mp3",fileExtension:"mp3",fileOgg:"",id:"1",sources:"[{'src': '/audio/file_example_MP3_700KB.mp3', 'type': 'audio/mpeg'}]",thumbnail:"",title:"audio file",type:"audio"},relatedLinks:[S.data]}},ga={args:{...T}},ka={args:{data:{...T.data,series:{title:"On a mission",url:"/podcasts/on-a-mission"},subscribeLinks:[{heading:"Subscribe",description:"Lorem ipsum dolor sit amet consectatur adipscing. Vivamus vel rhoncus ipsum, at ultrices urna.",links:[{externalLink:"http://google.com",text:"Google"}]}]}}},ha=["PageAudioDetailData","AudioDetail","PodcastEpisode"];export{ga as AudioDetail,T as PageAudioDetailData,ka as PodcastEpisode,ha as __namedExportsOrder,ca as default};
