import{BlockRelatedLinksData as q}from"./BlockRelatedLinks.stories-CAWYxSGM.js";import{BlockLinkTileCarouselData as E}from"./BlockLinkCarousel.stories-BU5dsihi.js";import{a as F,_ as j,s as o,o as a,g as s,p as t,y as i,l as n,k as d,h as l,n as J,z as p,F as h,a3 as K,t as m,B as z,i as W}from"./iframe-C69I7rSe.js";import{L as G}from"./LayoutHelper-D1bQ2XjO.js";import{D as U}from"./DetailHeadline-Dq-40ovt.js";import{B as Q}from"./BaseButton-Bt41sbnG.js";import{B as X}from"./BlockRelatedLinks-Dl0cKoLd.js";import{B as Y}from"./BlockText-DlQhddNA.js";import{B as Z}from"./BlockAudio-C7Q8FZPh.js";import{I as x}from"./IconDownload-Bdzwh-hA.js";import{I as ee}from"./IconDropdown-9BT1ptDi.js";import{B as ae}from"./BlockLinkCarousel-qQIU6a7Y.js";import{B as te}from"./BaseHeading-CNP0-IOf.js";import{B as se}from"./BaseLink-BASxgNXd.js";import{B as oe}from"./BaseModal-CFYw0GO6.js";import{P as ie}from"./PodcastSeriesCarousel-C005_fG6.js";import"./preload-helper-D6kgxu3v.js";import"./theme-BeEk14Gc.js";import"./MixinAnimationCaret-C-ci-QhN.js";import"./IconCaret-CNYMOuyq.js";import"./IconArrow-CdrSOIz8.js";import"./IconExternal-DhXEVduI.js";import"./MixinCarousel-zKnvR0b7.js";import"./a11y-S1BjB8Wp.js";import"./navigation-DYSZwei8.js";import"./_swiperOptions-Cb85alkN.js";import"./IconNext-RQ2VrYiu.js";import"./BlockLinkCard-CGA3-8qx.js";import"./mixins-Ba8c27U-.js";import"./BaseImage-CkEhMqO9.js";import"./BaseImagePlaceholder-CwediGOH.js";import"./BasePill-DiBtKfbw.js";import"./constants-KGHeBXa6.js";import"./MetadataEduResource-CCnVCunJ.js";import"./rangeifyGrades-KH7eV7V1.js";import"./IconProfile-BBcPLmdK.js";import"./IconTime-BAkvo4bv.js";import"./CalendarChip-0lbUdmSP.js";import"./MetadataEvent-ZHf12-5b.js";import"./IconCalendar-BMPk71UC.js";import"./IconLocation-DCnIAJzO.js";import"./BlockLinkTile-CPixLKi7.js";import"./BaseAudio-CuhnqxbG.js";import"./IconPlay-COM2BCuY.js";import"./IconForwardTen-BKSBoBK6.js";import"./BaseModalDialog-DNW6aI67.js";import"./ThumbnailCarousel-CaoIqCuQ.js";import"./SearchResultGridItem-Bi3Tywrk.js";import"./lookupContentType-fqqouDFz.js";const M=F({name:"PageAudioDetail",components:{LayoutHelper:G,BlockRelatedLinks:X,DetailHeadline:U,BlockText:Y,BaseButton:Q,BlockAudio:Z,IconDownload:x,IconDropdown:ee,BlockLinkCarousel:ae,BaseHeading:te,BaseLink:se,BaseModal:oe,PodcastSeriesCarousel:ie},props:{data:{type:Object,required:!1,default:void 0}},data(){return{collapseTranscript:!0,showTranscriptControls:!0}},watch:{"data.transcript":{handler(){this.$nextTick(()=>{this.checkTranscriptOverflow()})}}},mounted(){this.$nextTick(()=>{this.checkTranscriptOverflow()})},methods:{checkTranscriptOverflow(){if(this.$refs.audioTranscript){const e=this.$refs.audioTranscript;e.scrollHeight>e.clientHeight?this.showTranscriptControls=!0:this.showTranscriptControls=!1}},toggleTranscript(){!this.collapseTranscript&&this.$refs.audioTranscript?(this.$refs.audioTranscript.scrollIntoView({behavior:"smooth"}),this.collapseTranscript=!0):this.collapseTranscript=!1}}}),re={key:0,class:"PageAudioDetail ThemeVariantLight",itemscope:"",itemtype:"http://schema.org/VideoObject"},ne=["content"],le=["content"],de=["content"],pe=["content"],me={class:"lg:grid flex flex-col grid-cols-10 mb-12"},ce={key:0,class:"lg:order-1 order-2 col-span-7 mb-12"},ue={key:0,class:"border-gray-light-mid lg:my-8 my-5"},ge={key:0,class:"transcript-overlay"},fe={class:"audio-aside lg:order-2 order-1 col-start-9 col-end-11 mb-12"},he={class:"mt-5 lg:mt-0 lg:mb-12"},ke={class:"lg:w-auto w-full"},ye={class:"SubscribeModal mb-8"},be={key:0,class:"text-body-md mb-5"},Le={key:1,class:"text-body-md mb-5"},Te={class:"lg:w-auto w-full"},ve={class:"pr-2"},Be={key:0,class:"lg:pt-0 lg:mb-12 pt-8"},De={key:5,class:"bg-gray-light lg:py-24 lg:mt-24 py-12 mt-12"};function Pe(e,r,we,Ce,Me,Se){var v;const k=o("DetailHeadline"),y=o("LayoutHelper"),R=o("BlockAudio"),b=o("BlockText"),I=o("BaseHeading"),L=o("IconDropdown"),g=o("BaseButton"),_=o("BlockRelatedLinks"),T=o("BaseLink"),H=o("BaseModal"),V=o("IconDownload"),$=o("PodcastSeriesCarousel"),N=o("BlockLinkCarousel");return e.data?(a(),s("div",re,[e.data.uploadedMedia&&e.data.uploadedMedia.file?(a(),s("meta",{key:0,itemprop:"contentUrl",content:e.data.uploadedMedia.file},null,8,ne)):t("",!0),e.data.uploadedMedia&&e.data.uploadedMedia.duration?(a(),s("meta",{key:1,itemprop:"duration",content:e.data.uploadedMedia.duration},null,8,le)):t("",!0),e.data.thumbnailImage&&e.data.thumbnailImage.original?(a(),s("meta",{key:2,itemprop:"thumbnailUrl",content:e.data.thumbnailImage.original},null,8,de)):t("",!0),e.data.summary?(a(),s("meta",{key:3,itemprop:"description",content:e.data.summary},null,8,pe)):t("",!0),i(y,{indent:"col-1",class:"3xl:px-0 lg:mt-12 mx-auto lg:px-4 mt-5 mb-10 lg:mb-14"},{default:n(()=>[e.data.series&&e.data.series.url?(a(),d(k,{key:0,title:e.data.title,"publication-date":e.data.publicationDate,label:e.data.series.title+" Podcast","label-link":e.data.series.url,schema:""},null,8,["title","publication-date","label","label-link"])):(a(),d(k,{key:1,title:e.data.title,"publication-date":e.data.publicationDate,label:"Audio",schema:""},null,8,["title","publication-date"]))]),_:1}),i(R,{data:e.data},null,8,["data"]),i(y,{indent:"col-2",class:"lg:pt-12 pt-4"},{default:n(()=>[l("div",me,[e.data.summary||e.data.transcript||e.data.relatedLinks&&e.data.relatedLinks.length?(a(),s("div",ce,[i(b,{text:e.data.summary},null,8,["text"]),e.data.summary?(a(),s("hr",ue)):t("",!0),e.data.transcript&&e.data.transcript.length>2?(a(),s("div",{key:1,ref:"audioTranscript",class:J(["relative col-span-7 my-5",{"max-h-xl lg:max-h-3xl overflow-hidden":e.collapseTranscript}])},[e.collapseTranscript&&e.showTranscriptControls?(a(),s("div",ge)):t("",!0),i(I,{level:"h2",class:"mb-5"},{default:n(()=>r[1]||(r[1]=[p("Transcript")])),_:1}),i(b,{text:e.data.transcript,variant:"medium",class:"audio-transcript",itemprop:"transcript"},null,8,["text"])],2)):t("",!0),e.data.transcript&&e.data.transcript.length>2&&e.showTranscriptControls?(a(),d(g,{key:2,class:"my-6",variant:"secondary",compact:"","aria-expanded":e.collapseTranscript?"false":"true",onClick:r[0]||(r[0]=f=>e.toggleTranscript())},{default:n(()=>[e.collapseTranscript?(a(),s(h,{key:0},[r[2]||(r[2]=l("span",null,"Read more",-1)),i(L,{class:"text-sm ml-2"})],64)):(a(),s(h,{key:1},[r[3]||(r[3]=l("span",null,"Collapse",-1)),i(L,{class:"transform rotate-180 text-sm ml-2"})],64))]),_:1},8,["aria-expanded"])):t("",!0),e.data.relatedLinks&&e.data.relatedLinks.length?(a(),d(_,{key:3,class:"mt-12",data:e.data.relatedLinks[0]},null,8,["data"])):t("",!0)])):t("",!0),l("aside",fe,[l("div",he,[l("div",ke,[e.data.subscribeLinks&&e.data.subscribeLinks.length?(a(),d(H,{key:0,"bg-close":""},K({modalTrigger:n(()=>[i(g,{class:"w-full mb-5",variant:"primary",compact:""},{default:n(()=>r[4]||(r[4]=[p(" Subscribe ")])),_:1})]),default:n(()=>[l("div",ye,[e.data.subscribeLinks[0].description?(a(),s("p",be,m(e.data.subscribeLinks[0].description),1)):t("",!0),e.data.subscribeLinks[0].links&&e.data.subscribeLinks[0].links.length>0?(a(),s("ul",Le,[(a(!0),s(h,null,z(e.data.subscribeLinks[0].links,(f,O)=>(a(),s("li",{key:O},[i(T,{variant:"default",href:f.externalLink,"external-target-blank":""},{default:n(()=>[p(m(f.text),1)]),_:2},1032,["href"])]))),128))])):t("",!0)])]),_:2},[e.data.subscribeLinks[0].heading?{name:"modalHeader",fn:n(()=>[p(m(e.data.subscribeLinks[0].heading),1)]),key:"0"}:void 0]),1024)):t("",!0)]),l("div",Te,[e.data.uploadedMedia&&e.data.uploadedMedia.file?(a(),d(g,{key:0,href:e.data.uploadedMedia.file,class:"inline-block lg:block mb-5",variant:e.data.subscribeLinks&&e.data.subscribeLinks.length?"secondary":"primary",compact:""},{default:n(()=>[l("span",ve," Download "+m(e.data.uploadedMedia.fileExtension||"Audio"),1),W(e.$slots,"icon",{},()=>[i(V)])]),_:3},8,["href","variant"])):t("",!0)])]),e.data.series&&e.data.series.url?(a(),s("div",Be,[r[5]||(r[5]=l("p",{class:"text-subtitle mb-5"},"Podcast Series",-1)),i(T,{variant:"none",to:e.data.series.url,class:"text-jpl-red hover:text-jpl-red-dark text-lg","link-class":"p-3 -mt-3 -ml-3"},{default:n(()=>[p(m(e.data.series.title),1)]),_:1},8,["to"])])):t("",!0)])])]),_:3}),(v=e.data)!=null&&v.series?(a(),d($,{key:4,series:e.data.series,"initial-season-id":e.data.parent?e.data.parent.id:null,class:"mb-12 lg:mb-24"},null,8,["series","initial-season-id"])):t("",!0),e.data.relatedPages&&e.data.relatedPages.length?(a(),s("div",De,[i(N,{"item-type":"tiles",heading:"Related Pages",items:e.data.relatedPages},null,8,["items"])])):t("",!0)])):t("",!0)}const Ae=j(M,[["render",Pe]]);M.__docgenInfo={exportName:"default",displayName:"PageAudioDetail",type:1,props:[{name:"data",global:!1,description:"",tags:[],required:!1,type:"Record<string, any>",declarations:[],schema:"Record<string, any>",default:"undefined"},{name:"key",global:!0,description:"",tags:[],required:!1,type:"PropertyKey",declarations:[],schema:{kind:"enum",type:"PropertyKey",schema:["string","number","symbol"]}},{name:"ref",global:!0,description:"",tags:[],required:!1,type:"VNodeRef",declarations:[],schema:{kind:"enum",type:"VNodeRef",schema:["string","Ref<any, any>",{kind:"event",type:"(ref: Element | ComponentPublicInstance<{}, {}, {}, {}, {}, {}, {}, {}, false, ComponentOptionsBase<any, any, any, any, any, any, any, any, any, {}, {}, string, {}, {}, {}, string, ComponentProvideOptions>, ... 4 more ..., any>, refs: Record<...>): void"}]}},{name:"ref_for",global:!0,description:"",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"ref_key",global:!0,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string"},{name:"class",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"style",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"}],events:[],slots:[],exposed:[{name:"data",type:"Record<string, any>",description:"",declarations:[],schema:"Record<string, any>"},{name:"collapseTranscript",type:"boolean",description:"",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"showTranscriptControls",type:"boolean",description:"",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}}],sourceFiles:"/home/runner/work/explorer-1/explorer-1/packages/vue/src/templates/PageAudioDetail/PageAudioDetail.vue"};const Aa={title:"Templates/PageAudioDetail",component:Ae,tags:["!autodocs"],excludeStories:/.*Data$/},S={data:{contentType:"audio_detail.AudioDetailPage",label:"Audio",publicationDate:"2020-12-09",relatedPages:E,seoTitle:"Testing Audio",series:null,subscribeLinks:[],slug:"testing-audio",summary:"some summary of the audio file",thumbnailImage:{alt:"",id:"341",url:"/public/images/bg-earth-1440x810.jpg"},title:"Testing Audio",topicLabel:"JPL Life",transcript:`<p>Preparing to Land Perseverance</p>
    <p>The following tests, conducted from 2017-2020, helped prepare NASA's Perseverance rover for its landing on Mars.</p>
    <p>[music]</p>
    <p>Centrifuge Spin Test</p>
    <p>Santa Clarita, CA June 2019</p>
    <p>[music]</p>
    <p>Parachute Firing Test</p>
    <p>Moses Lake, WA May 2019</p>
    <p>[music]</p>
    <p>[mortar firing]</p>
    <p>[mortar firing]</p>
    <p>[clapping]</p>
    <p>Parachute Wind Tunnel Test</p>
    <p>NASA's Ames Research Center </p>
    <p>Moffett Field, CA June 2017</p>
    <p>[music]</p>
    <p>[mortar firing]</p>
    <p>[wind]</p>
    <p>[clapping]</p>
    <p>Lander Vision System Test</p>
    <p>For Avoiding Landing Hazards</p>
    <p>Death Valley, CA May 2019</p>
    <p>[helicopter taking off]</p>
    <p>[music]</p>
    <p>Rover Wheel Drop Test</p>
    <p>NASA's Jet Propulsion Laboratory</p>
    <p>Southern CA August 2019</p>
    <p>[wheel dropping]</p>
    <p>[hitting rock]</p>`,uploadedMedia:{collection:{id:"1",name:"Root",path:"0001"},createdAt:"2020-12-10T07:38:30.951546+00:00",duration:"11",file:"/audio/file_example_MP3_700KB.mp3",fileExtension:"mp3",fileOgg:"",id:"1",sources:"[{'src': '/audio/file_example_MP3_700KB.mp3', 'type': 'audio/mpeg'}]",thumbnail:"",title:"audio file",type:"audio"},relatedLinks:[q.data]}},c={args:{...S}},u={args:{data:{...S.data,series:{title:"On a mission",url:"/podcasts/on-a-mission"},subscribeLinks:[{heading:"Subscribe",description:"Lorem ipsum dolor sit amet consectatur adipscing. Vivamus vel rhoncus ipsum, at ultrices urna.",links:[{externalLink:"http://google.com",text:"Google"}]}]}}};var B,D,P;c.parameters={...c.parameters,docs:{...(B=c.parameters)==null?void 0:B.docs,source:{originalSource:`{
  args: {
    ...PageAudioDetailData
  }
}`,...(P=(D=c.parameters)==null?void 0:D.docs)==null?void 0:P.source}}};var A,w,C;u.parameters={...u.parameters,docs:{...(A=u.parameters)==null?void 0:A.docs,source:{originalSource:`{
  args: {
    data: {
      ...PageAudioDetailData.data,
      series: {
        title: 'On a mission',
        url: '/podcasts/on-a-mission'
      },
      subscribeLinks: [{
        heading: 'Subscribe',
        description: 'Lorem ipsum dolor sit amet consectatur adipscing. Vivamus vel rhoncus ipsum, at ultrices urna.',
        links: [{
          externalLink: 'http://google.com',
          text: 'Google'
        }]
      }]
    }
  }
}`,...(C=(w=u.parameters)==null?void 0:w.docs)==null?void 0:C.source}}};const wa=["PageAudioDetailData","AudioDetail","PodcastEpisode"];export{c as AudioDetail,S as PageAudioDetailData,u as PodcastEpisode,wa as __namedExportsOrder,Aa as default};
