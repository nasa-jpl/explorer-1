import{c as G,a as _,I as C,B as I,D as A,_ as w,H as p,o as t,h as a,i,m as u,w as l,t as o,p as s,F as h,l as d,n as H,E as F}from"./iframe-CX58vNoo.js";import{B as L}from"./BaseTimer-Bto5RSTO.js";import{I as O}from"./IconArrow-BkQBMFpJ.js";const b=G({name:"HomepageStats",components:{BaseLink:_,IconArrow:O,IconArrows:C,BaseUnitToggle:I,BaseTimer:L,DsnWidget:A},props:{statistics:{type:Array,required:!1},missionCount:{type:Number,required:!1},dsn:{type:Object,required:!1},asteroidWatch:{type:Object,required:!1},featuredEmbed:{type:Array,required:!1}},data(){return{autoplayAdded:!1}},computed:{dataMissionStatsBlock(){const e=this.filterBlocksByType("StatisticsMissionBlock");return e&&e.length?e[0]:null},dataGenericStatsBlock(){const e=this.filterBlocksByType("StatisticsGenericBlock");return e&&e.length?e[0]:null},hasFeaturedEmbed(){return!!(this.featuredEmbed&&this.featuredEmbed.length&&this.featuredEmbed[0].display)}},methods:{playVideo(){if(this.hasFeaturedEmbed){const e=document.getElementById("featuredEmbed");if(e){e.scrollIntoView({behavior:"smooth"});const n=e.querySelector("iframe");n&&this.autoplayAdded===!1&&(n.src+="&autoplay=1",this.autoplayAdded=!0)}}return null},filterBlocksByType(e){return this.statistics?this.statistics.filter(k=>k.blockType===e):null}}}),q={key:0,"aria-label":"Featured mission statistics",class:"HomepageStats -mt-14 relative z-20 overflow-hidden"},P={class:"MixedBleedGrid lg:pl-0 pl-4"},V={class:"ThemeVariantGray bg-gray-light text-gray-dark col-start-container col-end-container lg:py-18 lg:px-0 text-body-lg px-8 py-10 pr-0"},j={class:"gap-y-10 lg:col-end-9 grid grid-cols-12 gap-6"},$={key:0,class:"lg:col-span-2 sm:col-span-5 col-span-full"},K={key:0,class:"text-subtitle text-primary mb-4"},X={key:0,class:"text-subtitle text-primary mb-4"},R={key:2,class:"text-body-sm mb-4"},U={key:3,class:"text-stats-xl"},z={key:1,class:"lg:col-span-3 sm:col-span-6 col-span-full"},Q={key:0,class:"text-subtitle text-primary mb-4"},J={key:0,class:"text-subtitle text-primary mb-4"},Y={key:2,class:"text-body-sm mb-4"},Z={key:3},x={key:4,class:"text-stats-lg"},ee={class:"text-gray-mid-dark flex flex-wrap mt-2 text-sm"},te={class:"sm:whitespace-nowrap"},ae={key:0,class:"lg:-mb-8 can-hover:group-hover:ml-3 text-jpl-red-light text-7xl ml-0 transition-all duration-200 ease-in"},se={key:2,class:"lg:col-span-3 sm:col-span-6 col-span-full"},ie={key:0,class:"text-subtitle text-primary mb-4"},oe={key:0,class:"text-subtitle text-primary mb-4"},ne={key:2,class:"text-body-sm mb-4"},re={key:0,class:"text-stats-lg"},le={class:"text-sm"},de={class:"lg:-mb-8 can-hover:group-hover:ml-3 text-jpl-red-light text-7xl ml-0 transition-all duration-200 ease-in"};function ce(e,n,k,ue,he,ge){const m=p("BaseLink"),W=p("BaseTimer"),y=p("IconArrow"),M=p("FetchDsnWidget"),D=p("BaseUnitToggle");return e.statistics||e.dsn||e.asteroidWatch||e.missionCount?(t(),a("section",q,[i("div",P,[i("div",V,[i("div",j,[n[2]||(n[2]=i("div",{class:"lg:block hidden"},null,-1)),e.dataMissionStatsBlock?(t(),a("div",$,[e.dataMissionStatsBlock.link?(t(),u(m,{key:0,variant:"none",target:e.dataMissionStatsBlock.linkTarget?"_blank":"_self",href:e.dataMissionStatsBlock.link,"link-class":"block"},{default:l(()=>[e.dataMissionStatsBlock.heading?(t(),a("p",K,o(e.dataMissionStatsBlock.heading),1)):s("",!0)]),_:1},8,["target","href"])):(t(),a(h,{key:1},[e.dataMissionStatsBlock.heading?(t(),a("p",X,o(e.dataMissionStatsBlock.heading),1)):s("",!0)],64)),e.dataMissionStatsBlock.title?(t(),a("p",R,o(e.dataMissionStatsBlock.title),1)):s("",!0),e.missionCount?(t(),a("p",U,o(e.missionCount),1)):s("",!0)])):s("",!0),e.dataGenericStatsBlock?(t(),a("div",z,[e.dataGenericStatsBlock.link?(t(),u(m,{key:0,variant:"none",target:e.dataGenericStatsBlock.linkTarget?"_blank":"_self",href:e.dataGenericStatsBlock.link,"link-class":"block"},{default:l(()=>[e.dataGenericStatsBlock.heading?(t(),a("p",Q,o(e.dataGenericStatsBlock.heading),1)):s("",!0)]),_:1},8,["target","href"])):(t(),a(h,{key:1},[e.dataGenericStatsBlock.heading?(t(),a("p",J,o(e.dataGenericStatsBlock.heading),1)):s("",!0)],64)),e.dataGenericStatsBlock.title?(t(),a("p",Y,o(e.dataGenericStatsBlock.title),1)):s("",!0),e.dataGenericStatsBlock.dateDisplay==="countdown"||e.dataGenericStatsBlock.dateDisplay==="time_elapsed"?(t(),a("div",Z,[d(W,{"target-date-time":e.dataGenericStatsBlock.date,countdown:e.dataGenericStatsBlock.dateDisplay==="countdown"},null,8,["target-date-time","countdown"])])):e.dataGenericStatsBlock.dateDisplay==="static"?(t(),a("p",x,o(e.$filters.displayDate(e.dataGenericStatsBlock.date)),1)):e.dataGenericStatsBlock.dateDisplay==="live"?(t(),u(F(e.hasFeaturedEmbed?"a":"div"),{key:5,href:e.hasFeaturedEmbed?"#featuredEmbed":null,class:H(["group block",{"cursor-pointer":e.hasFeaturedEmbed}]),onClick:e.playVideo},{default:l(()=>[n[1]||(n[1]=i("p",{class:"text-stats-lg flex items-center"},[i("span",{class:"relative flex w-3 h-3 mr-3"},[i("span",{class:"motion-safe:animate-ping bg-green absolute inline-flex w-full h-full rounded-full opacity-75"}),i("span",{class:"bg-green relative inline-flex w-3 h-3 rounded-full"})]),i("span",null,"Watch Live")],-1)),i("p",ee,[n[0]||(n[0]=i("span",{class:"mr-1 -mb-3"},"Estimated:",-1)),i("span",te,o(e.$filters.displayDate(e.dataGenericStatsBlock.date,"DateTime"))+" UTC ",1)]),e.hasFeaturedEmbed?(t(),a("div",ae,[d(y)])):s("",!0)]),_:1},8,["href","class","onClick"])):s("",!0)])):s("",!0),d(M),e.asteroidWatch?(t(),a("div",se,[e.asteroidWatch.link?(t(),u(m,{key:0,variant:"none",target:e.asteroidWatch.linkTarget?"_blank":"_self",href:e.asteroidWatch.link,"link-class":"block"},{default:l(()=>[e.asteroidWatch.heading?(t(),a("p",ie,o(e.asteroidWatch.heading),1)):s("",!0)]),_:1},8,["target","href"])):(t(),a(h,{key:1},[e.asteroidWatch.heading?(t(),a("p",oe,o(e.asteroidWatch.heading),1)):s("",!0)],64)),e.asteroidWatch.title?(t(),a("p",ne,o(e.asteroidWatch.title),1)):s("",!0),e.asteroidWatch.asteroidApproach?(t(),a(h,{key:3},[e.asteroidWatch.asteroidApproach.date?(t(),a("p",re,o(e.$filters.displayDate(e.asteroidWatch.asteroidApproach.date)),1)):s("",!0),d(D,{"unit-pair":"MI_KM",value:parseFloat(e.asteroidWatch.asteroidApproach.distanceMiles),"second-value":parseFloat(e.asteroidWatch.asteroidApproach.distanceKilometers),"value-system":"imperial",inline:"",class:"text-gray-mid-dark mt-2"},{default:l(N=>[i("span",le," Proximity "+o(N.formattedValue),1)]),_:1},8,["value","second-value"]),d(m,{"link-class":"block",variant:"none","aria-label":"View the next five approaches",to:"/asteroid-watch/next-five-approaches"},{default:l(()=>[i("div",de,[d(y)])]),_:1})],64)):s("",!0)])):s("",!0)])]),n[3]||(n[3]=i("div",{class:"bg-gray-light col-start-container-end col-end-bleed sm:block hidden"},null,-1))])])):s("",!0)}const f=w(b,[["render",ce]]);b.__docgenInfo={displayName:"HomepageStats",description:"Displays homepage stats",tags:{},exportName:"default",props:[{name:"statistics",type:{name:"array"},required:!1},{name:"missionCount",type:{name:"number"},required:!1},{name:"dsn",type:{name:"object"},required:!1},{name:"asteroidWatch",type:{name:"object"},required:!1},{name:"featuredEmbed",type:{name:"HomePageEmbedBlock"},required:!1}],sourceFiles:["/home/runner/work/explorer-1/explorer-1/apps/vue-storybook/node_modules/@explorer-1/vue/src/components/HomepageStats/HomepageStats.vue"]};const pe={title:"Components/WWW/Homepage/HomepageStats",component:f,excludeStories:/.*Data$/},r={asteroidWatchWidget:{asteroidApproach:{date:"2020-12-21",distanceKilometers:415e4,distanceMiles:258e4,externalLink:"https://ssd.jpl.nasa.gov/sbdb.cgi?sstr=2017%20XQ60;orb=1"},heading:"ASTEROID WATCH",title:"Next close approach"},dsnWidget:{heading:"DEEP SPACE NETWORK",location:"Goldstone",spacecraftName:"MMS 1",transmitStatus:"both",transmitTitle:"Currently transmitting"},statistics:[{blockType:"StatisticsMissionBlock",heading:"MISSIONS",title:"Currently active"},{blockType:"StatisticsGenericBlock",date:"2021-02-03T12:55:00-08:00",dateDisplay:"countdown",heading:"NEXT LANDING",title:"Custom title"}],statisticsMissionCount:43,featuredEmbed:[]},c=e=>({setup(){return{args:e}},components:{HomepageStats:f},template:`<HomepageStats
    :statistics="args.statistics"
    :mission-count="args.statisticsMissionCount"
    :dsn="args.dsnWidget"
    :asteroid-watch="args.asteroidWatchWidget"
    :featured-embed="args.featuredEmbed"
  />`}),g=c.bind({});g.storyName="HomepageStats";g.args=r;const S=c.bind({});S.args={...r,statistics:[{blockType:"StatisticsMissionBlock",heading:"MISSIONS",title:"Currently active"},{blockType:"StatisticsGenericBlock",date:"2021-02-18T12:55:00-08:00",dateDisplay:"static",heading:"NEXT LANDING",title:"Mars Perseverance"}]};const B=c.bind({});B.args={...r,statistics:[{blockType:"StatisticsMissionBlock",heading:"MISSIONS",title:"Currently active"},{blockType:"StatisticsGenericBlock",date:"2021-02-18T12:55:00-08:00",dateDisplay:"time_elapsed",heading:"TIME ON MARS",title:"Mars Perseverance"}]};const v=c.bind({});v.args={...r,statistics:[{blockType:"StatisticsMissionBlock",heading:"MISSIONS",title:"Currently active"},{blockType:"StatisticsGenericBlock",date:"2021-02-18T12:55:00-08:00",dateDisplay:"live",heading:"NEXT LANDING",title:"Mars Perseverance"}],featuredEmbed:[{heading:"Watch Live",display:!0}]};const T=c.bind({});T.args={...r,statistics:[{blockType:"StatisticsMissionBlock",heading:"MISSIONS",title:"Currently active"},{blockType:"StatisticsGenericBlock",date:"2021-02-18T12:55:00-08:00",dateDisplay:"live",heading:"NEXT LANDING",title:"Mars Perseverance"}]};const E=c.bind({});E.args={...r,dsnWidget:{heading:"DEEP SPACE NETWORK",location:"",spacecraftName:null,transmitStatus:"",transmitTitle:""}};const me=["HomepageStatsData","BaseStory","StaticDate","TimeElapsed","WatchLive","WatchLiveNoVideo","NoDsn"],fe=Object.freeze(Object.defineProperty({__proto__:null,BaseStory:g,HomepageStatsData:r,NoDsn:E,StaticDate:S,TimeElapsed:B,WatchLive:v,WatchLiveNoVideo:T,__namedExportsOrder:me,default:pe},Symbol.toStringTag,{value:"Module"}));export{f as H,r as a,fe as b};
