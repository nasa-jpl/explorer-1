import{BlockRelatedLinksData as _}from"./BlockRelatedLinks.stories-D1aV89qd.js";import{BlockLinkTileCarouselData as I}from"./BlockLinkCarousel.stories-BN7x_hU6.js";import{h as H,e as V,f as s,y as t,B as r,w as o,l as d,j as n,n as L,C as m,x as p,a5 as $,F as N,G as O,E as i,o as a}from"./iframe-Cbo-gMoN.js";import{L as q}from"./LayoutHelper-hmng7OlB.js";import{D as E}from"./DetailHeadline-CdJH7mQE.js";import{B as j}from"./BaseButton-CFcHEwKv.js";import{B as F}from"./BlockRelatedLinks-BagAyv5j.js";import{B as J}from"./BlockText-R1MLfcuA.js";import{B as K}from"./BlockAudio-BdX1OtLy.js";import{I as G}from"./IconDownload-D7jm0pXQ.js";import{I as W}from"./IconDropdown-5DIZPUY9.js";import{B as z}from"./BlockLinkCarousel-9zhFBmU-.js";import{B as U}from"./BaseHeading-CRqctB7S.js";import{B as Q}from"./BaseLink-C7mdSZaT.js";import{B as X}from"./BaseModal-B3T7wD69.js";import{P as Y}from"./PodcastSeriesCarousel-ZUqfJddv.js";import"./preload-helper-PPVm8Dsz.js";import"./theme-BQWoGd8-.js";import"./MixinAnimationCaret-BKTqSsaA.js";import"./IconCaret-Rf9_wB61.js";import"./IconArrow-DWMJwvtB.js";import"./IconExternal-C8Ethc5a.js";import"./MixinCarousel-DIhzEXhK.js";import"./a11y-C7GBo9cw.js";import"./navigation-CFJlRBZS.js";import"./_swiperOptions-Cb85alkN.js";import"./IconPrev-BEmS4B4d.js";import"./BlockLinkCard-DlJx0DNG.js";import"./mixins-DFOhzVt7.js";import"./useApi-o-nPpLEi-G-KNyTFX.js";import"./BaseImage-C-jvPTC0.js";import"./BaseImagePlaceholder-B0Hywvqu.js";import"./BasePill-CjUUrgh7.js";import"./constants-KGHeBXa6.js";import"./MetadataEduResource-DICc6Q24.js";import"./rangeifyGrades-BRM4Ys4u.js";import"./IconEduTechnology-DM7FchE-.js";import"./IconTime-BeC5d_Pa.js";import"./CalendarChip-DCoVqpPF.js";import"./MetadataEvent-CyiqV-tH.js";import"./IconCalendar-DuXbnSrE.js";import"./IconLocation-b4jAkq_-.js";import"./BlockLinkTile-DlyqbgqB.js";import"./BaseAudio-5neOaDlk.js";import"./IconPlay-BrEGaO39.js";import"./IconVolume-TlFyFOTY.js";import"./BaseModalDialog-B2SNIB6q.js";import"./ThumbnailCarousel-DbbnlPwP.js";import"./SearchResultGridItem-BvLztOqC.js";import"./lookupContentType-CxkJ4PqZ.js";const T=H({name:"PageAudioDetail",components:{LayoutHelper:q,BlockRelatedLinks:F,DetailHeadline:E,BlockText:J,BaseButton:j,BlockAudio:K,IconDownload:G,IconDropdown:W,BlockLinkCarousel:z,BaseHeading:U,BaseLink:Q,BaseModal:X,PodcastSeriesCarousel:Y},props:{data:{type:Object,required:!1,default:void 0}},data(){return{collapseTranscript:!0,showTranscriptControls:!0}},watch:{"data.transcript":{handler(){this.$nextTick(()=>{this.checkTranscriptOverflow()})}}},mounted(){this.$nextTick(()=>{this.checkTranscriptOverflow()})},methods:{checkTranscriptOverflow(){if(this.$refs.audioTranscript){const e=this.$refs.audioTranscript;e.scrollHeight>e.clientHeight?this.showTranscriptControls=!0:this.showTranscriptControls=!1}},toggleTranscript(){!this.collapseTranscript&&this.$refs.audioTranscript?(this.$refs.audioTranscript.scrollIntoView({behavior:"smooth"}),this.collapseTranscript=!0):this.collapseTranscript=!1}}}),Z={key:0,class:"PageAudioDetail ThemeVariantLight",itemscope:"",itemtype:"http://schema.org/VideoObject"},x=["content"],ee=["content"],ae=["content"],te=["content"],se={class:"lg:grid flex flex-col grid-cols-10 mb-12"},oe={key:0,class:"lg:order-1 order-2 col-span-7 mb-12"},ie={key:0,class:"border-gray-light-mid lg:my-8 my-5"},re={key:0,class:"transcript-overlay"},ne={class:"audio-aside lg:order-2 order-1 col-start-9 col-end-11 mb-12"},le={class:"mt-5 lg:mt-0 lg:mb-12"},de={class:"lg:w-auto w-full"},pe={class:"SubscribeModal mb-8"},me={key:0,class:"text-body-md mb-5"},ce={key:1,class:"text-body-md mb-5"},ue={class:"lg:w-auto w-full"},ge={class:"pr-2"},he={key:0,class:"lg:pt-0 lg:mb-12 pt-8"},fe={key:5,class:"bg-gray-light lg:py-24 lg:mt-24 py-12 mt-12"};function ke(e,l,ye,Le,Te,ve){const f=i("DetailHeadline"),k=i("LayoutHelper"),B=i("BlockAudio"),b=i("BlockText"),D=i("BaseHeading"),P=i("IconDropdown"),g=i("BaseButton"),A=i("BlockRelatedLinks"),y=i("BaseLink"),w=i("BaseModal"),C=i("IconDownload"),M=i("PodcastSeriesCarousel"),S=i("BlockLinkCarousel");return e.data?(a(),s("div",Z,[e.data.uploadedMedia&&e.data.uploadedMedia.file?(a(),s("meta",{key:0,itemprop:"contentUrl",content:e.data.uploadedMedia.file},null,8,x)):t("",!0),e.data.uploadedMedia&&e.data.uploadedMedia.duration?(a(),s("meta",{key:1,itemprop:"duration",content:e.data.uploadedMedia.duration},null,8,ee)):t("",!0),e.data.thumbnailImage&&e.data.thumbnailImage.original?(a(),s("meta",{key:2,itemprop:"thumbnailUrl",content:e.data.thumbnailImage.original},null,8,ae)):t("",!0),e.data.summary?(a(),s("meta",{key:3,itemprop:"description",content:e.data.summary},null,8,te)):t("",!0),r(k,{indent:"col-1",class:"3xl:px-0 lg:mt-12 mx-auto lg:px-4 mt-5 mb-10 lg:mb-14"},{default:o(()=>[e.data.series&&e.data.series.url?(a(),d(f,{key:0,title:e.data.title,"publication-date":e.data.publicationDate,label:e.data.series.title+" Podcast","label-link":e.data.series.url,schema:""},null,8,["title","publication-date","label","label-link"])):(a(),d(f,{key:1,title:e.data.title,"publication-date":e.data.publicationDate,label:"Audio",schema:""},null,8,["title","publication-date"]))]),_:1}),r(B,{data:e.data},null,8,["data"]),r(k,{indent:"col-2",class:"lg:pt-12 pt-4"},{default:o(()=>[n("div",se,[e.data.summary||e.data.transcript||e.data.relatedLinks&&e.data.relatedLinks.length?(a(),s("div",oe,[r(b,{text:e.data.summary},null,8,["text"]),e.data.summary?(a(),s("hr",ie)):t("",!0),e.data.transcript&&e.data.transcript.length>2?(a(),s("div",{key:1,ref:"audioTranscript",class:L(["relative col-span-7 my-5",{"max-h-xl lg:max-h-3xl overflow-hidden":e.collapseTranscript}])},[e.collapseTranscript&&e.showTranscriptControls?(a(),s("div",re)):t("",!0),r(D,{level:"h2",class:"mb-5"},{default:o(()=>[...l[1]||(l[1]=[m("Transcript",-1)])]),_:1}),r(b,{text:e.data.transcript,variant:"medium",class:"audio-transcript",itemprop:"transcript"},null,8,["text"])],2)):t("",!0),e.data.transcript&&e.data.transcript.length>2&&e.showTranscriptControls?(a(),d(g,{key:2,class:"my-6",variant:"secondary",compact:"","aria-expanded":e.collapseTranscript?"false":"true",onClick:l[0]||(l[0]=h=>e.toggleTranscript())},{default:o(()=>[n("span",null,p(e.collapseTranscript?"Read More":"Collapse"),1)]),iconRight:o(()=>[r(P,{class:L(["text-sm ml-2 transform",{"rotate-180":!e.collapseTranscript}])},null,8,["class"])]),_:1},8,["aria-expanded"])):t("",!0),e.data.relatedLinks&&e.data.relatedLinks.length?(a(),d(A,{key:3,class:"mt-12",data:e.data.relatedLinks[0]},null,8,["data"])):t("",!0)])):t("",!0),n("aside",ne,[n("div",le,[n("div",de,[e.data.subscribeLinks&&e.data.subscribeLinks.length?(a(),d(w,{key:0,"bg-close":""},$({modalTrigger:o(()=>[r(g,{class:"w-full mb-5",variant:"primary",compact:""},{default:o(()=>[...l[2]||(l[2]=[m(" Subscribe ",-1)])]),_:1})]),default:o(()=>[n("div",pe,[e.data.subscribeLinks[0].description?(a(),s("p",me,p(e.data.subscribeLinks[0].description),1)):t("",!0),e.data.subscribeLinks[0].links&&e.data.subscribeLinks[0].links.length>0?(a(),s("ul",ce,[(a(!0),s(N,null,O(e.data.subscribeLinks[0].links,(h,R)=>(a(),s("li",{key:R},[r(y,{variant:"default",href:h.externalLink,"external-target-blank":""},{default:o(()=>[m(p(h.text),1)]),_:2},1032,["href"])]))),128))])):t("",!0)])]),_:2},[e.data.subscribeLinks[0].heading?{name:"modalHeader",fn:o(()=>[m(p(e.data.subscribeLinks[0].heading),1)]),key:"0"}:void 0]),1024)):t("",!0)]),n("div",ue,[e.data.uploadedMedia&&e.data.uploadedMedia.file?(a(),d(g,{key:0,href:e.data.uploadedMedia.file,class:"inline-block lg:block mb-5",variant:e.data.subscribeLinks&&e.data.subscribeLinks.length?"secondary":"primary",compact:""},{iconRight:o(()=>[r(C)]),default:o(()=>[n("span",ge," Download "+p(e.data.uploadedMedia.fileExtension||"Audio"),1)]),_:1},8,["href","variant"])):t("",!0)])]),e.data.series&&e.data.series.url?(a(),s("div",he,[l[3]||(l[3]=n("p",{class:"text-subtitle mb-5"},"Podcast Series",-1)),r(y,{variant:"none",to:e.data.series.url,class:"text-jpl-red hover:text-jpl-red-dark text-lg","link-class":"p-3 -mt-3 -ml-3"},{default:o(()=>[m(p(e.data.series.title),1)]),_:1},8,["to"])])):t("",!0)])])]),_:1}),e.data?.series?(a(),d(M,{key:4,series:e.data.series,"initial-season-id":e.data.parent?e.data.parent.id:null,class:"mb-12 lg:mb-24"},null,8,["series","initial-season-id"])):t("",!0),e.data.relatedPages&&e.data.relatedPages.length?(a(),s("div",fe,[r(S,{"item-type":"tiles",heading:"Related Pages",items:e.data.relatedPages},null,8,["items"])])):t("",!0)])):t("",!0)}const be=V(T,[["render",ke]]);T.__docgenInfo={exportName:"default",displayName:"PageAudioDetail",type:1,props:[{name:"data",global:!1,description:"",tags:[],required:!1,type:"Record<string, any>",declarations:[],schema:"Record<string, any>",default:"undefined"},{name:"key",global:!0,description:"",tags:[],required:!1,type:"PropertyKey",declarations:[],schema:{kind:"enum",type:"PropertyKey",schema:["string","number","symbol"]}},{name:"ref",global:!0,description:"",tags:[],required:!1,type:"VNodeRef",declarations:[],schema:{kind:"enum",type:"VNodeRef",schema:["string","Ref<any, any>",{kind:"event",type:"(ref: Element | ComponentPublicInstance<{}, {}, {}, {}, {}, {}, {}, {}, false, ComponentOptionsBase<any, any, any, any, any, any, any, any, any, {}, {}, string, {}, {}, {}, string, ComponentProvideOptions>, ... 4 more ..., any>, refs: Record<...>): void"}]}},{name:"ref_for",global:!0,description:"",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"ref_key",global:!0,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string"},{name:"class",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"style",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"}],events:[],slots:[],exposed:[{name:"data",type:"Record<string, any>",description:"",declarations:[],schema:"Record<string, any>"},{name:"collapseTranscript",type:"boolean",description:"",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"showTranscriptControls",type:"boolean",description:"",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}}],sourceFiles:"/home/runner/work/explorer-1/explorer-1/packages/vue/src/templates/PageAudioDetail/PageAudioDetail.vue"};const ya={title:"Templates/PageAudioDetail",component:be,tags:["!autodocs"],excludeStories:/.*Data$/},v={data:{contentType:"audio_detail.AudioDetailPage",label:"Audio",publicationDate:"2020-12-09",relatedPages:I,seoTitle:"Testing Audio",series:null,subscribeLinks:[],slug:"testing-audio",summary:"some summary of the audio file",thumbnailImage:{alt:"",id:"341",url:"/public/images/bg-earth-1440x810.jpg"},title:"Testing Audio",topicLabel:"JPL Life",transcript:`<p>Preparing to Land Perseverance</p>
    <p>The following tests, conducted from 2017-2020, helped prepare NASA's Perseverance rover for its landing on Mars.</p>
    <p>[music]</p>
    <p>Centrifuge Spin Test</p>
    <p>Santa Clarita, CA June 2019</p>
    <p>[music]</p>
    <p>Parachute Firing Test</p>
    <p>Moses Lake, WA May 2019</p>
    <p>[music]</p>
    <p>[mortar firing]</p>
    <p>[mortar firing]</p>
    <p>[clapping]</p>
    <p>Parachute Wind Tunnel Test</p>
    <p>NASA's Ames Research Center </p>
    <p>Moffett Field, CA June 2017</p>
    <p>[music]</p>
    <p>[mortar firing]</p>
    <p>[wind]</p>
    <p>[clapping]</p>
    <p>Lander Vision System Test</p>
    <p>For Avoiding Landing Hazards</p>
    <p>Death Valley, CA May 2019</p>
    <p>[helicopter taking off]</p>
    <p>[music]</p>
    <p>Rover Wheel Drop Test</p>
    <p>NASA's Jet Propulsion Laboratory</p>
    <p>Southern CA August 2019</p>
    <p>[wheel dropping]</p>
    <p>[hitting rock]</p>`,uploadedMedia:{collection:{id:"1",name:"Root",path:"0001"},createdAt:"2020-12-10T07:38:30.951546+00:00",duration:"11",file:"/audio/file_example_MP3_700KB.mp3",fileExtension:"mp3",fileOgg:"",id:"1",sources:"[{'src': '/audio/file_example_MP3_700KB.mp3', 'type': 'audio/mpeg'}]",thumbnail:"",title:"audio file",type:"audio"},relatedLinks:[_.data]}},c={args:{...v}},u={args:{data:{...v.data,series:{title:"On a mission",url:"/podcasts/on-a-mission"},subscribeLinks:[{heading:"Subscribe",description:"Lorem ipsum dolor sit amet consectatur adipscing. Vivamus vel rhoncus ipsum, at ultrices urna.",links:[{externalLink:"http://google.com",text:"Google"}]}]}}};c.parameters={...c.parameters,docs:{...c.parameters?.docs,source:{originalSource:`{
  args: {
    ...PageAudioDetailData
  }
}`,...c.parameters?.docs?.source}}};u.parameters={...u.parameters,docs:{...u.parameters?.docs,source:{originalSource:`{
  args: {
    data: {
      ...PageAudioDetailData.data,
      series: {
        title: 'On a mission',
        url: '/podcasts/on-a-mission'
      },
      subscribeLinks: [{
        heading: 'Subscribe',
        description: 'Lorem ipsum dolor sit amet consectatur adipscing. Vivamus vel rhoncus ipsum, at ultrices urna.',
        links: [{
          externalLink: 'http://google.com',
          text: 'Google'
        }]
      }]
    }
  }
}`,...u.parameters?.docs?.source}}};const La=["PageAudioDetailData","AudioDetail","PodcastEpisode"];export{c as AudioDetail,v as PageAudioDetailData,u as PodcastEpisode,La as __namedExportsOrder,ya as default};
