import{a as D,R as b,_ as S,s as f,o as i,g as o,i as k,h as a,t as r,k as w,l as g,z as y,p as l,n as P,y as $}from"./iframe-By5L8iBS.js";import{B as A}from"./BaseUnitToggle-PSoGBVzH.js";import{B as V}from"./BaseTimer-D-h14eEH.js";const _={earth:"Distance from Earth",mars:"Distance traveled on Mars"},q={"/api/v1/missions/":{getPath:(e,t)=>{const s=e.split(t)[1];if(!s)throw console.error(e,t),new Error("Error querying /api/v1/missions/ API");return`/api/mars${t}${s}`},getDistance:e=>{if(typeof(e==null?void 0:e.mi_traveled)>"u")throw console.error(e),new Error("Error processing /api/v1/missions/ data");return{value:e.mi_traveled,system:"imperial"}}},"/spice_data/getRangefromT1/":{getPath:(e,t)=>{const n=e.split(t)[1].split("/"),c=`${n[0]}/${n[1]}/`,p=[b(),b().add(1,"minute")].map(m=>m.toISOString().replace(/\.\d+Z$/,"")).join("/");return`/api/mars/spice_data/getRangefromT1/${c}${p}/1/`},getDistance:(e,t)=>{var n;const s=(n=e==null?void 0:e.items[t])==null?void 0:n.value;if(e.error||e.units!=="KM"||typeof s>"u")throw console.error(e,t),new Error("Error processing /spice_data/getRangefromT1/ data");return{value:Math.round(Number(s)),system:"metric"}}}},h=Object.keys(q),C=D({name:"DistanceStats",components:{BaseUnitToggle:A},props:{distanceType:{type:String,required:!0,validator:e=>e===""||Object.keys(_).includes(e)},value:{type:Number,default:void 0},valueSystem:{type:String,required:!1,default:"imperial"},distanceApiUrls:{type:String,required:!1,validator:e=>h.some(t=>e.includes(t)||e===""),default:void 0},labelClass:{type:String,default:void 0}},data(){return{apiDistance:null,showError:!1,timeout:null}},computed:{distanceTypeLabel(){return _[this.distanceType]||this.distanceType},loadedValue(){var e;return this.distanceApiUrls?((e=this.apiDistance)==null?void 0:e.value)||0:this.value},loadedSystem(){var e;return this.distanceApiUrls?((e=this.apiDistance)==null?void 0:e.system)||"imperial":this.valueSystem},isLoading(){return!!this.distanceApiUrls&&this.apiDistance===null}},mounted(){this.distanceApiUrls&&this.getAPIDistance()},beforeUnmount(){clearTimeout(this.timeout)},methods:{async getAPIDistance(){try{const e=h.find(t=>{var s;return(s=this.distanceApiUrls)==null?void 0:s.includes(t)});if(e&&this.distanceApiUrls){const t=q[e],s=t.getPath(this.distanceApiUrls,e),n=await this.$axios.$get(s);e==="/spice_data/getRangefromT1/"?this.updateSPICEData(t,n,0):this.apiDistance=t.getDistance(n,0)}}catch(e){console.error(e),this.showError=!0}},async updateSPICEData(e,t,s){var c;this.apiDistance=e.getDistance(t,s);const n=s+1;if(n<((c=t==null?void 0:t.items)==null?void 0:c.length))this.timeout=setTimeout(this.updateSPICEData.bind(this,e,t,n),1e3);else if(this.distanceApiUrls){const p=await this.$axios.$get(e.getPath(this.distanceApiUrls,"/spice_data/getRangefromT1/"));this.updateSPICEData(e,p,0)}}}}),B={key:0,class:"DistanceStats"},E={key:0},L={key:1};function M(e,t,s,n,c,p){const m=f("BaseUnitToggle");return typeof e.value<"u"||e.distanceApiUrls?(i(),o("div",B,[k(e.$slots,"label",{label:e.distanceTypeLabel},()=>[a("p",null,r(e.distanceTypeLabel),1)]),e.showError?(i(),o("p",E,"Unavailable")):e.isLoading?(i(),o("p",L,"Loadingâ€¦")):e.loadedValue?(i(),w(m,{key:2,"unit-pair":"MI_KM",value:e.loadedValue,"value-system":e.loadedSystem},{default:g(u=>[k(e.$slots,"value",{formattedValue:u.formattedValue},()=>[y(r(u.formattedValue),1)])]),_:3},8,["value","value-system"])):l("",!0)])):l("",!0)}const R=S(C,[["render",M]]);C.__docgenInfo={exportName:"default",displayName:"DistanceStats",type:1,props:[{name:"value",global:!1,description:"",tags:[],required:!1,type:"number",declarations:[],schema:"number",default:"undefined"},{name:"valueSystem",global:!1,description:"",tags:[],required:!1,type:"keyof UnitConfig",declarations:[],schema:{kind:"enum",type:"keyof UnitConfig",schema:['"imperial"','"metric"']},default:'"imperial"'},{name:"labelClass",global:!1,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string",default:"undefined"},{name:"distanceApiUrls",global:!1,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string",default:"undefined"},{name:"key",global:!0,description:"",tags:[],required:!1,type:"PropertyKey",declarations:[],schema:{kind:"enum",type:"PropertyKey",schema:["string","number","symbol"]}},{name:"ref",global:!0,description:"",tags:[],required:!1,type:"VNodeRef",declarations:[],schema:{kind:"enum",type:"VNodeRef",schema:["string","Ref<any, any>",{kind:"event",type:"(ref: Element | ComponentPublicInstance<{}, {}, {}, {}, {}, {}, {}, {}, false, ComponentOptionsBase<any, any, any, any, any, any, any, any, any, {}, {}, string, {}, {}, {}, string, ComponentProvideOptions>, ... 4 more ..., any>, refs: Record<...>): void"}]}},{name:"ref_for",global:!0,description:"",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"ref_key",global:!0,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string"},{name:"class",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"style",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"distanceType",global:!1,description:"",tags:[],required:!0,type:'"" | "earth" | "mars"',declarations:[],schema:{kind:"enum",type:'"" | "earth" | "mars"',schema:['""','"earth"','"mars"']}}],events:[],slots:[],exposed:[{name:"value",type:"number",description:"",declarations:[],schema:"number"},{name:"valueSystem",type:"keyof UnitConfig",description:"",declarations:[],schema:{kind:"enum",type:"keyof UnitConfig",schema:['"imperial"','"metric"']}},{name:"labelClass",type:"string",description:"",declarations:[],schema:"string"},{name:"distanceApiUrls",type:"string",description:"",declarations:[],schema:"string"},{name:"distanceType",type:'"" | "earth" | "mars"',description:"",declarations:[],schema:{kind:"enum",type:'"" | "earth" | "mars"',schema:['""','"earth"','"mars"']}},{name:"apiDistance",type:"{ value: number; system: keyof UnitConfig; }",description:"",declarations:[],schema:"{ value: number; system: keyof UnitConfig; }"},{name:"showError",type:"boolean",description:"",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"timeout",type:"{ ref: () => Timeout; unref: () => Timeout; hasRef: () => boolean; refresh: () => Timeout; [Symbol.toPrimitive]: () => number; [Symbol.dispose]: () => void; }",description:"",declarations:[],schema:"{ ref: () => Timeout; unref: () => Timeout; hasRef: () => boolean; refresh: () => Timeout; [Symbol.toPrimitive]: () => number; [Symbol.dispose]: () => void; }"},{name:"distanceTypeLabel",type:"string",description:"",declarations:[],schema:"string"},{name:"loadedValue",type:"number",description:"",declarations:[],schema:"number"},{name:"loadedSystem",type:"keyof UnitConfig",description:"",declarations:[],schema:{kind:"enum",type:"keyof UnitConfig",schema:['"imperial"','"metric"']}},{name:"isLoading",type:"boolean",description:"",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}}],sourceFiles:"/home/runner/work/explorer-1/explorer-1/packages/vue/src/components/MissionDetailStats/DistanceStats.vue"};const v={draft:"Select status",current:"Current",future:"Future",proposed:"Proposed",past:"Past"},T={countdown:"Countdown",time_in_orbit:"Time in Orbit",time_on_mars:"Time on Mars",time_to_mars:"Time to Mars",time_to_dest:"Time to Destination"},U=D({name:"MissionDetailStats",components:{BaseTimer:V,DistanceStats:R},props:{showClock:Boolean,clockType:{type:String,required:!0,validator:e=>!!T[e]},startDateTime:{type:String,required:!1,default:void 0},displayDate:{type:String||null,required:!1,default:void 0},missionTypes:{type:Array,required:!0,default:()=>[]},missionTargets:{type:Array,required:!0,default:()=>[]},status:{type:String,required:!0,validator:e=>!!v[e]},showDistance:Boolean,distanceType:{type:String,required:!1,default:""},distanceValue:{type:Number,default:void 0},distanceApiUrls:{type:String,default:void 0,validator:e=>h.some(t=>e.includes(t)||e==="")}},computed:{clockTypeLabel(){return T[this.clockType]||this.clockType},statusLabel(){return v[this.status]||this.status}}}),I={class:"MissionDetailStats MixedBleedGrid lg:relative lg:z-20 lg:-mt-20 lg:pl-0 lg:mb-20 pl-4 mb-12"},N={class:"theme col-start-indent-col-2 col-end-container lg:py-12 lg:px-0 text-body-lg px-8 py-10 pr-0"},O={key:0,class:"lg:col-span-6 col-span-10"},j={class:"label text-subtitle"},K={class:"label text-subtitle"},F={class:"text-stats-xl"},z={key:2,class:"lg:col-span-2 col-span-5"},x={key:3,class:"lg:col-span-2 col-span-5"},G={key:4,class:"lg:col-span-2 col-span-5"},Z={key:5,class:"lg:col-span-2 col-span-5"};function H(e,t,s,n,c,p){const m=f("BaseTimer"),u=f("DistanceStats");return i(),o("div",I,[t[5]||(t[5]=a("h2",{class:"sr-only"},"Mission Statistics",-1)),a("div",N,[a("div",{class:P(["gap-y-10 grid grid-cols-10",{"adaptive-stats-grid 2xl:grid-cols-11":e.showClock}])},[t[4]||(t[4]=a("div",{class:"lg:block hidden col-span-1 row-span-2"},null,-1)),e.showClock&&e.startDateTime?(i(),o("div",O,[a("p",j,r(e.clockTypeLabel),1),$(m,{"target-date-time":e.startDateTime,"selected-units":["years","months","days","hours","minutes","seconds"],countdown:e.clockType==="countdown"},null,8,["target-date-time","countdown"])])):l("",!0),e.showDistance?(i(),w(u,{key:1,class:"lg:col-span-3 col-span-10","distance-type":e.distanceType,value:e.distanceValue,"value-system":"imperial","distance-api-urls":e.distanceApiUrls},{label:g(d=>[a("p",K,r(d.label),1)]),value:g(d=>[a("span",F,r(d.formattedValue),1)]),_:1},8,["distance-type","value","distance-api-urls"])):l("",!0),e.displayDate?(i(),o("div",z,[t[0]||(t[0]=a("p",{class:"label text-subtitle"},"Launch Date",-1)),a("p",null,r(e.displayDate),1)])):l("",!0),e.missionTypes.length>0?(i(),o("div",x,[t[1]||(t[1]=a("p",{class:"label text-subtitle"},"Type",-1)),y(" "+r(e.missionTypes.map(d=>d.missionType).join(", ")),1)])):l("",!0),e.missionTargets.length>0?(i(),o("div",G,[t[2]||(t[2]=a("p",{class:"label text-subtitle"},"Target",-1)),y(" "+r(e.missionTargets.map(d=>d.target).join(", ")),1)])):l("",!0),e.status!=="draft"?(i(),o("div",Z,[t[3]||(t[3]=a("p",{class:"label text-subtitle"},"Status",-1)),y(" "+r(e.statusLabel),1)])):l("",!0)],2)]),t[6]||(t[6]=a("div",{class:"theme col-start-container-end col-end-bleed"},null,-1))])}const X=S(U,[["render",H]]);U.__docgenInfo={exportName:"default",displayName:"MissionDetailStats",type:1,props:[{name:"showClock",global:!1,description:"",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"startDateTime",global:!1,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string",default:"undefined"},{name:"distanceType",global:!1,description:"",tags:[],required:!1,type:'"" | "earth" | "mars"',declarations:[],schema:{kind:"enum",type:'"" | "earth" | "mars"',schema:['""','"earth"','"mars"']},default:'""'},{name:"distanceApiUrls",global:!1,description:"Used with `DistanceStats`. Only `/spice_data/getRangefromT1/` or `/api/v1/missions/` paths are supported.",tags:[],required:!1,type:"string",declarations:[],schema:"string",default:"undefined"},{name:"showDistance",global:!1,description:"If distance should be displayed with the stats",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"displayDate",global:!1,description:"Launch date",tags:[],required:!1,type:"string",declarations:[],schema:"string",default:"undefined"},{name:"missionTypes",global:!1,description:"",tags:[],required:!1,type:"{ missionType: string; }[]",declarations:[],schema:{kind:"array",type:"{ missionType: string; }[]"},default:"[]"},{name:"missionTargets",global:!1,description:"",tags:[],required:!1,type:"{ target: string; }[]",declarations:[],schema:{kind:"array",type:"{ target: string; }[]"},default:"[]"},{name:"distanceValue",global:!1,description:"",tags:[],required:!1,type:"number",declarations:[],schema:"number",default:"undefined"},{name:"key",global:!0,description:"",tags:[],required:!1,type:"PropertyKey",declarations:[],schema:{kind:"enum",type:"PropertyKey",schema:["string","number","symbol"]}},{name:"ref",global:!0,description:"",tags:[],required:!1,type:"VNodeRef",declarations:[],schema:{kind:"enum",type:"VNodeRef",schema:["string","Ref<any, any>",{kind:"event",type:"(ref: Element | ComponentPublicInstance<{}, {}, {}, {}, {}, {}, {}, {}, false, ComponentOptionsBase<any, any, any, any, any, any, any, any, any, {}, {}, string, {}, {}, {}, string, ComponentProvideOptions>, ... 4 more ..., any>, refs: Record<...>): void"}]}},{name:"ref_for",global:!0,description:"",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"ref_key",global:!0,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string"},{name:"class",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"style",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"clockType",global:!1,description:"Select the type of clock. This will change the text of the labels and how the count functions",tags:[],required:!0,type:'"countdown" | "time_in_orbit" | "time_on_mars" | "time_to_mars" | "time_to_dest"',declarations:[],schema:{kind:"enum",type:'"countdown" | "time_in_orbit" | "time_on_mars" | "time_to_mars" | "time_to_dest"',schema:['"countdown"','"time_in_orbit"','"time_on_mars"','"time_to_mars"','"time_to_dest"']}},{name:"status",global:!1,description:"",tags:[],required:!0,type:'"draft" | "current" | "future" | "proposed" | "past"',declarations:[],schema:{kind:"enum",type:'"draft" | "current" | "future" | "proposed" | "past"',schema:['"draft"','"current"','"future"','"proposed"','"past"']}}],events:[],slots:[],exposed:[{name:"showClock",type:"boolean",description:"",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"startDateTime",type:"string",description:"",declarations:[],schema:"string"},{name:"distanceType",type:'"" | "earth" | "mars"',description:"",declarations:[],schema:{kind:"enum",type:'"" | "earth" | "mars"',schema:['""','"earth"','"mars"']}},{name:"distanceApiUrls",type:"string",description:"Used with `DistanceStats`. Only `/spice_data/getRangefromT1/` or `/api/v1/missions/` paths are supported.",declarations:[],schema:"string"},{name:"showDistance",type:"boolean",description:"If distance should be displayed with the stats",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"displayDate",type:"string",description:"Launch date",declarations:[],schema:"string"},{name:"missionTypes",type:"{ missionType: string; }[]",description:"",declarations:[],schema:{kind:"array",type:"{ missionType: string; }[]"}},{name:"missionTargets",type:"{ target: string; }[]",description:"",declarations:[],schema:{kind:"array",type:"{ target: string; }[]"}},{name:"distanceValue",type:"number",description:"",declarations:[],schema:"number"},{name:"clockType",type:'"countdown" | "time_in_orbit" | "time_on_mars" | "time_to_mars" | "time_to_dest"',description:"Select the type of clock. This will change the text of the labels and how the count functions",declarations:[],schema:{kind:"enum",type:'"countdown" | "time_in_orbit" | "time_on_mars" | "time_to_mars" | "time_to_dest"',schema:['"countdown"','"time_in_orbit"','"time_on_mars"','"time_to_mars"','"time_to_dest"']}},{name:"status",type:'"draft" | "current" | "future" | "proposed" | "past"',description:"",declarations:[],schema:{kind:"enum",type:'"draft" | "current" | "future" | "proposed" | "past"',schema:['"draft"','"current"','"future"','"proposed"','"past"']}},{name:"clockTypeLabel",type:"string",description:"",declarations:[],schema:"string"},{name:"statusLabel",type:'"draft" | "current" | "future" | "proposed" | "past" | StatusLabel',description:"",declarations:[],schema:{kind:"enum",type:'"draft" | "current" | "future" | "proposed" | "past" | StatusLabel',schema:['"Select status"','"Current"','"Future"','"Proposed"','"Past"','"draft"','"current"','"future"','"proposed"','"past"']}}],sourceFiles:"/home/runner/work/explorer-1/explorer-1/packages/vue/src/components/MissionDetailStats/MissionDetailStats.vue"};export{R as D,X as M,T as c};
