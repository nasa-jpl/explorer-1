import{a as j,_ as $,s as D,o as s,g as i,F as h,B as w,y as S,l as b,h as V,n as x,t as B,p as C,z as H,c as N,f as _,G as I,a4 as K,a2 as z,k as u,K as E,Z as F}from"./iframe-C69I7rSe.js";import{h as q}from"./mixins-Ba8c27U-.js";import{N as U,a as A,b as G}from"./NavSecondary-CItIEYGc.js";import{B as Z}from"./BaseLink-BASxgNXd.js";import{g as Q}from"./getHeadingId-CWrV__qo.js";const J=j({name:"NavJumpMenuContent",components:{BaseLink:Z},props:{item:{type:Object,required:!0}},methods:{linkClass(t){let l="py-2 lg:py-4";return t?t.children&&t.children.length>0&&(l="pt-2 pb-1 lg:pt-4 lg:pb-2"):l="py-2 lg:pt-4 lg:pb-4",l}}}),W={class:"NavJumpMenuContent bg-white"};function X(t,l,a,c,m,y){const f=D("BaseLink");return s(),i("ul",W,[(s(!0),i(h,null,w(t.item.children,(r,d)=>(s(),i("li",{key:d,class:"text-base border-b border-gray-300"},[S(f,{href:r.path,variant:"none","link-class":t.linkClass(r)},{default:b(()=>[V("span",null,[t.$attrs["steps-numbering"]?(s(),i("span",{key:0,class:x(t.$attrs["steps-classes"]),"aria-hidden":""},B(`Step ${d+1}:`),3)):C("",!0),H(" "+B(r.title),1)])]),_:2},1032,["href","link-class"])]))),128))])}const Y=$(J,[["render",X]]);J.__docgenInfo={exportName:"default",displayName:"NavJumpMenuContent",type:1,props:[{name:"key",global:!0,description:"",tags:[],required:!1,type:"PropertyKey",declarations:[],schema:{kind:"enum",type:"PropertyKey",schema:["string","number","symbol"]}},{name:"ref",global:!0,description:"",tags:[],required:!1,type:"VNodeRef",declarations:[],schema:{kind:"enum",type:"VNodeRef",schema:["string","Ref<any, any>",{kind:"event",type:"(ref: Element | ComponentPublicInstance<{}, {}, {}, {}, {}, {}, {}, {}, false, ComponentOptionsBase<any, any, any, any, any, any, any, any, any, {}, {}, string, {}, {}, {}, string, ComponentProvideOptions>, ... 4 more ..., any>, refs: Record<...>): void"}]}},{name:"ref_for",global:!0,description:"",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"ref_key",global:!0,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string"},{name:"class",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"style",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"item",global:!1,description:"",tags:[],required:!0,type:"Record<string, any>",declarations:[],schema:"Record<string, any>"}],events:[],slots:[],exposed:[{name:"item",type:"Record<string, any>",description:"",declarations:[],schema:"Record<string, any>"}],sourceFiles:"/home/runner/work/explorer-1/explorer-1/packages/vue/src/components/NavJumpMenu/NavJumpMenuContent.vue"};const ee=j({__name:"NavJumpMenu",props:{title:{default:void 0},jumpLinks:{default:void 0},blocks:{default:void 0},headingLevel:{default:"h2"},invert:{type:Boolean,default:!0},enabled:{type:Boolean,default:!0},dropdownText:{default:"Jump toâ€¦"}},setup(t,{expose:l}){const a=t,c=N(!1),m=N(),y=_(()=>{if(a.jumpLinks)return a.jumpLinks;if(a.blocks){const n=a.blocks.map((e,p)=>({...e,index:p})).filter(e=>e.blockType==="HeadingBlock"&&e.level===a.headingLevel||e.blockType==="RichTextBlock"&&e.value.includes(`<${a.headingLevel}`)).map(e=>{let p=e,k=[];if(e.blockType==="HeadingBlock")p={path:"#"+Q(e.heading,e.blockId),title:e.heading};else if(e.blockType==="RichTextBlock"){let v=e.value;if(v){const R=new RegExp(`<${a.headingLevel} id="(.*?)">(.*?)</${a.headingLevel}>`,"g"),L=[...v.matchAll(R)];for(let M of L){const[te,T,O]=M,P={path:"#"+T,title:O};k.push(P)}}}return k.length?k:p});return n?n.flat():void 0}return[]}),f=()=>{c.value=!0},r=_(()=>{let o;const g=a.title?{title:a.title,path:"#siteTop"}:{title:"Back to top",path:"#siteTop"},n={title:a.dropdownText,path:"#",children:y.value};return y.value&&(o=[g,n]),o});l({NavJumpMenuRef:m}),I(()=>{q(r.value,!0),setTimeout(f,500)}),K(()=>{c.value=!1});const d=E();return z(d,()=>{q(r.value,!0)}),(o,g)=>o.enabled?(s(),u(U,{key:0,id:"NavJumpMenu",ref_key:"NavJumpMenuRef",ref:m,class:x(["NavJumpMenu",{"-ready":c.value}]),invert:o.invert,"jump-menu":""},{default:b(()=>[(s(!0),i(h,null,w(r.value,(n,e)=>(s(),i(h,null,[n.children&&n.children.length>0?(s(),u(A,{key:e,item:n,index:e,"is-last":r.value&&e===r.value.length-1,invert:o.invert},{default:b(()=>[(s(),u(Y,F({key:e,class:"max-h-[72vh] overflow-y-auto",item:n,ref_for:!0},o.$attrs),null,16,["item"]))]),_:2},1032,["item","index","is-last","invert"])):(s(),u(G,{key:e,item:n,index:e,invert:o.invert},null,8,["item","index","invert"]))],64))),256))]),_:1},8,["class","invert"])):C("",!0)}});ee.__docgenInfo={exportName:"default",displayName:"NavJumpMenu",type:1,props:[{name:"title",global:!1,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string",default:"undefined"},{name:"headingLevel",global:!1,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string",default:'"h2"'},{name:"enabled",global:!1,description:"",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]},default:"true"},{name:"invert",global:!1,description:"",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]},default:"true"},{name:"jumpLinks",global:!1,description:"",tags:[],required:!1,type:"BreadcrumbPathObject[]",declarations:[],schema:{kind:"array",type:"BreadcrumbPathObject[]"},default:"undefined"},{name:"blocks",global:!1,description:"",tags:[],required:!1,type:"(StreamfieldBlockData | BlockData | BlockHeadingObject | BlockTextObject)[]",declarations:[],schema:{kind:"array",type:"(StreamfieldBlockData | BlockData | BlockHeadingObject | BlockTextObject)[]"},default:"undefined"},{name:"dropdownText",global:!1,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string",default:'"Jump to\\u2026"'},{name:"key",global:!0,description:"",tags:[],required:!1,type:"PropertyKey",declarations:[],schema:{kind:"enum",type:"PropertyKey",schema:["string","number","symbol"]}},{name:"ref",global:!0,description:"",tags:[],required:!1,type:"VNodeRef",declarations:[],schema:{kind:"enum",type:"VNodeRef",schema:["string","Ref<any, any>",{kind:"event",type:"(ref: Element | ComponentPublicInstance<{}, {}, {}, {}, {}, {}, {}, {}, false, ComponentOptionsBase<any, any, any, any, any, any, any, any, any, {}, {}, string, {}, {}, {}, string, ComponentProvideOptions>, ... 4 more ..., any>, refs: Record<...>): void"}]}},{name:"ref_for",global:!0,description:"",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"ref_key",global:!0,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string"},{name:"class",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"style",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"}],events:[],slots:[],exposed:[{name:"title",type:"string",description:"",declarations:[],schema:"string"},{name:"headingLevel",type:"string",description:"",declarations:[],schema:"string"},{name:"enabled",type:"boolean",description:"",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"invert",type:"boolean",description:"",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"jumpLinks",type:"BreadcrumbPathObject[]",description:"",declarations:[],schema:{kind:"array",type:"BreadcrumbPathObject[]"}},{name:"blocks",type:"(StreamfieldBlockData | BlockData | BlockHeadingObject | BlockTextObject)[]",description:"",declarations:[],schema:{kind:"array",type:"(StreamfieldBlockData | BlockData | BlockHeadingObject | BlockTextObject)[]"}},{name:"dropdownText",type:"string",description:"",declarations:[],schema:"string"},{name:"NavJumpMenuRef",type:"any",description:"",declarations:[],schema:"any"}],sourceFiles:"/home/runner/work/explorer-1/explorer-1/packages/vue/src/components/NavJumpMenu/NavJumpMenu.vue"};export{ee as _};
