import{h as q,e as $,E as D,o as s,f as l,F as h,G as w,B as S,w as b,j as V,n as C,x as B,y as J,C as H,J as I,a6 as E,a4 as z,l as p,s as N,z as x,a0 as F}from"./iframe-Cbo-gMoN.js";import{j}from"./mixins-DFOhzVt7.js";import{u as K}from"./useApi-o-nPpLEi-G-KNyTFX.js";import{N as U,a as A,b as G}from"./NavSecondary-DFDSaLky.js";import{B as Q}from"./BaseLink-C7mdSZaT.js";import{g as W}from"./getHeadingId-D1HvQGT0.js";const _=q({name:"NavJumpMenuContent",components:{BaseLink:Q},props:{item:{type:Object,required:!0}},methods:{linkClass(a){let o="py-2 lg:py-4";return a?a.children&&a.children.length>0&&(o="pt-2 pb-1 lg:pt-4 lg:pb-2"):o="py-2 lg:pt-4 lg:pb-4",o}}}),X={class:"NavJumpMenuContent bg-white"};function Y(a,o,t,c,m,y){const f=D("BaseLink");return s(),l("ul",X,[(s(!0),l(h,null,w(a.item.children,(r,d)=>(s(),l("li",{key:d,class:"text-base border-b border-gray-300"},[S(f,{href:r.path,variant:"none","link-class":a.linkClass(r)},{default:b(()=>[V("span",null,[a.$attrs["steps-numbering"]?(s(),l("span",{key:0,class:C(a.$attrs["steps-classes"]),"aria-hidden":""},B(`Step ${Number(d)+1}:`),3)):J("",!0),H(" "+B(r.title),1)])]),_:2},1032,["href","link-class"])]))),128))])}const Z=$(_,[["render",Y]]);_.__docgenInfo={exportName:"default",displayName:"NavJumpMenuContent",type:1,props:[{name:"key",global:!0,description:"",tags:[],required:!1,type:"PropertyKey",declarations:[],schema:{kind:"enum",type:"PropertyKey",schema:["string","number","symbol"]}},{name:"ref",global:!0,description:"",tags:[],required:!1,type:"VNodeRef",declarations:[],schema:{kind:"enum",type:"VNodeRef",schema:["string","Ref<any, any>",{kind:"event",type:"(ref: Element | ComponentPublicInstance<{}, {}, {}, {}, {}, {}, {}, {}, false, ComponentOptionsBase<any, any, any, any, any, any, any, any, any, {}, {}, string, {}, {}, {}, string, ComponentProvideOptions>, ... 4 more ..., any>, refs: Record<...>): void"}]}},{name:"ref_for",global:!0,description:"",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"ref_key",global:!0,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string"},{name:"class",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"style",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"item",global:!1,description:"",tags:[],required:!0,type:"Record<string, any>",declarations:[],schema:"Record<string, any>"}],events:[],slots:[],exposed:[{name:"item",type:"Record<string, any>",description:"",declarations:[],schema:"Record<string, any>"}],sourceFiles:"/home/runner/work/explorer-1/explorer-1/packages/vue/src/components/NavJumpMenu/NavJumpMenuContent.vue"};const ee=q({__name:"NavJumpMenu",props:{title:{default:void 0},jumpLinks:{default:void 0},blocks:{default:void 0},headingLevel:{default:"h2"},invert:{type:Boolean,default:!0},enabled:{type:Boolean,default:!0},dropdownText:{default:"Jump toâ€¦"}},setup(a,{expose:o}){const t=a,c=N(!1),m=N(),y=x(()=>{if(t.jumpLinks)return t.jumpLinks;if(t.blocks){const n=t.blocks.map((e,u)=>({...e,index:u})).filter(e=>e.blockType==="HeadingBlock"&&e.level===t.headingLevel||e.blockType==="RichTextBlock"&&e.value.includes(`<${t.headingLevel}`)).map(e=>{let u=e,k=[];if(e.blockType==="HeadingBlock")u={path:"#"+W(e.heading,e.blockId),title:e.heading};else if(e.blockType==="RichTextBlock"){let v=e.value;if(v){const R=new RegExp(`<${t.headingLevel} id="(.*?)">(.*?)</${t.headingLevel}>`,"g"),L=[...v.matchAll(R)];for(let M of L){const[te,T,O]=M,P={path:"#"+T,title:O};k.push(P)}}}return k.length?k:u});return n?n.flat():void 0}return[]}),f=()=>{c.value=!0},r=x(()=>{let i;const g=t.title?{title:t.title,path:"#siteTop"}:{title:"Back to top",path:"#siteTop"},n={title:t.dropdownText,path:"#",children:y.value};return y.value&&(i=[g,n]),i});o({NavJumpMenuRef:m}),I(()=>{j(r.value,!0),setTimeout(f,500)}),E(()=>{c.value=!1});const d=K();return z(d,()=>{j(r.value,!0)}),(i,g)=>a.enabled?(s(),p(U,{key:0,id:"NavJumpMenu",ref_key:"NavJumpMenuRef",ref:m,class:C(["NavJumpMenu",{"-ready":c.value}]),invert:a.invert,"jump-menu":""},{default:b(()=>[(s(!0),l(h,null,w(r.value,(n,e)=>(s(),l(h,null,[n.children&&n.children.length>0?(s(),p(A,{key:e,item:n,index:e,"is-last":r.value&&e===r.value.length-1,invert:a.invert},{default:b(()=>[(s(),p(Z,F({key:e,class:"max-h-[72vh] overflow-y-auto",item:n},{ref_for:!0},i.$attrs),null,16,["item"]))]),_:2},1032,["item","index","is-last","invert"])):(s(),p(G,{key:e,item:n,index:e,invert:a.invert},null,8,["item","index","invert"]))],64))),256))]),_:1},8,["class","invert"])):J("",!0)}});ee.__docgenInfo={exportName:"default",displayName:"NavJumpMenu",type:1,props:[{name:"title",global:!1,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string",default:"undefined"},{name:"enabled",global:!1,description:"",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]},default:"true"},{name:"headingLevel",global:!1,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string",default:'"h2"'},{name:"invert",global:!1,description:"",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]},default:"true"},{name:"jumpLinks",global:!1,description:"",tags:[],required:!1,type:"BreadcrumbPathObject[]",declarations:[],schema:{kind:"array",type:"BreadcrumbPathObject[]"},default:"undefined"},{name:"blocks",global:!1,description:"",tags:[],required:!1,type:"(BlockData | BlockHeadingObject | StreamfieldBlockData | BlockTextObject)[]",declarations:[],schema:{kind:"array",type:"(BlockData | BlockHeadingObject | StreamfieldBlockData | BlockTextObject)[]"},default:"undefined"},{name:"dropdownText",global:!1,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string",default:'"Jump to\\u2026"'},{name:"key",global:!0,description:"",tags:[],required:!1,type:"PropertyKey",declarations:[],schema:{kind:"enum",type:"PropertyKey",schema:["string","number","symbol"]}},{name:"ref",global:!0,description:"",tags:[],required:!1,type:"VNodeRef",declarations:[],schema:{kind:"enum",type:"VNodeRef",schema:["string","Ref<any, any>",{kind:"event",type:"(ref: Element | ComponentPublicInstance<{}, {}, {}, {}, {}, {}, {}, {}, false, ComponentOptionsBase<any, any, any, any, any, any, any, any, any, {}, {}, string, {}, {}, {}, string, ComponentProvideOptions>, ... 4 more ..., any>, refs: Record<...>): void"}]}},{name:"ref_for",global:!0,description:"",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"ref_key",global:!0,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string"},{name:"class",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"style",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"}],events:[],slots:[],exposed:[{name:"title",type:"string",description:"",declarations:[],schema:"string"},{name:"enabled",type:"boolean",description:"",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"headingLevel",type:"string",description:"",declarations:[],schema:"string"},{name:"invert",type:"boolean",description:"",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"jumpLinks",type:"BreadcrumbPathObject[]",description:"",declarations:[],schema:{kind:"array",type:"BreadcrumbPathObject[]"}},{name:"blocks",type:"(BlockData | BlockHeadingObject | StreamfieldBlockData | BlockTextObject)[]",description:"",declarations:[],schema:{kind:"array",type:"(BlockData | BlockHeadingObject | StreamfieldBlockData | BlockTextObject)[]"}},{name:"dropdownText",type:"string",description:"",declarations:[],schema:"string"},{name:"NavJumpMenuRef",type:"any",description:"",declarations:[],schema:"any"}],sourceFiles:"/home/runner/work/explorer-1/explorer-1/packages/vue/src/components/NavJumpMenu/NavJumpMenu.vue"};export{ee as _};
