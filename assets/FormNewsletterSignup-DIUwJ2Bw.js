import{c as _,_ as x,H as l,o as k,h as N,i as a,l as i,w as n,y as c,z as f,L as d}from"./iframe-CaMhF2EI.js";import{s as B}from"./stringify-CuSmpoHi.js";import{L}from"./LayoutHelper-CoW059Ic.js";import{B as G}from"./BaseHeading-CPF_YLF1.js";import{B as F}from"./BaseButton-CP1mWJ0b.js";import{B as S}from"./BaseRadioGroup-CUq3HypF.js";import{_ as C}from"./TextInput-DkVKK6kZ.js";const h="https://app.icontact.com/icp/core/mycontacts/signup/designer/form/?id=5&cid=1389932&lid=11365",T="6LeCZCcUAAAAALhxcQ5fN80W6Wa2K3GqRQK6WRjA",$="https://app.icontact.com/icp/core/signup/tracking.gif?id=5&cid=1389932&lid=11365",E=[{id:"breaking",title:"Latest News",text:"All JPL News delivered immediately",value:"41031",alt:"Lists",name:"data[listGroups][]"},{id:"daily",title:"Day in Review",text:"Daily JPL news summary",value:"41032",alt:"Lists",name:"data[listGroups][]"},{id:"weekly",title:"Week in Review",text:"Weekly JPL news summary",value:"41033",alt:"Lists",name:"data[listGroups][]"},{id:"monthly",title:"Month in Review",text:"Monthly JPL news summary",value:"41034",alt:"Lists",name:"data[listGroups][]"}],y=_({name:"FormNewsletterSignup",components:{LayoutHelper:L,BaseHeading:G,BaseButton:F,BaseRadioGroup:S,TextInput:C},data(){return{prefilledEmail:null,submitted:!1,iContactForm:h,iContactTrackingGif:$,captchaKey:T,emailGroups:E}},mounted(){this.$route&&this.$route.query.email!=null&&(this.prefilledEmail=this.$route.query.email);const t=document.createElement("script");t.setAttribute("src","https://app.icontact.com/icp/static/form/javascripts/validation-captcha.js");const e=document.createElement("script");e.setAttribute("src","https://app.icontact.com/icp/static/form/javascripts/tracking.js"),document.head.appendChild(t,e)},methods:{focus(t){window.scrollTo(0,t.offsetTop+100),t.focus()},validate(t){const e=["email"],o={};for(const u in e){const r=e[u],m=t.target.elements[r];if(m.value===""){this.focus(m);const s=r.replace("_"," ");return alert("Please fill out the "+s+" field."),!1}else o[r]=m.value}return o},submit(t){const e=this.validate(t);if(e!==!1){this.reveal();const o={method:"POST",mode:"no-cors",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:B({"data[email]":e.email,"data[fname]":e.first_name,"data[lname]":e.last_name,"data[zip]":e.zip_code,"data[listGroups][]":e.listGroups})};fetch(h,o)}},reveal(){this.submitted=!0,this.$refs&&this.$refs.FormNewsletterSignup&&this.$scrollTo(this.$refs.FormNewsletterSignup,0,{offset:100})}}}),A=["src"],z={ref:"FormNewsletterSignup",class:"text-gray-light-mid mb-10"},P={class:"mb-10"},R=["captcha-key","action"],j={dataname:"listGroups","data-label":"Which email groups would you like to join?"},H={class:"mt-8"},q={class:"mt-4 lg:mt-8 submit-container"},V={class:"pt-10 text-center"};function W(t,e,o,u,r,m){const s=l("BaseHeading"),p=l("TextInput"),g=l("BaseRadioGroup"),v=l("BaseButton"),w=l("LayoutHelper");return k(),N("div",null,[a("img",{src:t.iContactTrackingGif,alt:""},null,8,A),i(w,{indent:"col-3"},{default:n(()=>[a("hr",z,null,512),c(a("div",P,[a("form",{id:"ic_signupform","captcha-key":t.captchaKey,"captcha-theme":"light","new-captcha":"true",method:"POST",action:t.iContactForm},[i(s,{level:"h2",size:"h6"},{default:n(()=>e[1]||(e[1]=[d("Contact Information")])),_:1}),i(p,{modelValue:t.prefilledEmail,"onUpdate:modelValue":e[0]||(e[0]=b=>t.prefilledEmail=b),class:"mt-8","input-name":"data[email]",label:"Email",type:"email",required:"",placeholder:"enter your email"},null,8,["modelValue"]),i(p,{class:"mt-8","input-name":"data[fname]",label:"First Name",type:"text",placeholder:"enter your first name"}),i(p,{class:"mt-8","input-name":"data[lname]",label:"Last Name",type:"text",maxlength:"64",placeholder:"enter your last name"}),i(p,{class:"mt-8","input-name":"data[zip]",label:"Zip",type:"text",maxlength:"10",pattern:"[0-9]{5}(-[0-9]{4})?",title:"Five digit zip code",placeholder:"enter your 5-digit zip code"}),i(s,{level:"h2",size:"h6",class:"mt-12"},{default:n(()=>e[2]||(e[2]=[d(" Subscribe to Email Groups ")])),_:1}),a("div",j,[a("div",H,[i(g,{heading:"JPL News","sub-heading":"Choose how frequently you want to receive updates (opt out anytime):",group:"email",title:"Email Groups",preselected:"breaking",options:t.emailGroups},null,8,["options"])])]),a("div",q,[i(v,{type:"submit",variant:"primary"},{default:n(()=>e[3]||(e[3]=[d("Submit")])),_:1})])],8,R)],512),[[f,!t.submitted]]),c(a("div",V,[i(s,{level:"h2"},{default:n(()=>e[4]||(e[4]=[d("Thank you!")])),_:1}),e[5]||(e[5]=a("div",{class:"text-jpl-blue-light h-22 w-22 p-5 mx-auto my-8 text-6xl font-bold border-4 rounded-full"}," âœ“ ",-1)),e[6]||(e[6]=a("p",{class:"text-h6"},"Check your inbox to verify your email.",-1))],512),[[f,t.submitted]])]),_:1}),e[7]||(e[7]=a("div",{class:"hidden-container"},null,-1))])}const Q=x(y,[["render",W]]);y.__docgenInfo={displayName:"FormNewsletterSignup",exportName:"default",description:"",tags:{},sourceFiles:["/home/runner/work/explorer-1/explorer-1/apps/vue-storybook/node_modules/@explorer-1/vue/src/components/FormNewsletterSignup/FormNewsletterSignup.vue"]};export{Q as F};
