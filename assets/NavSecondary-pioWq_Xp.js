import{d as v,a6 as $,at as B,_ as f,P as a,g as L,w as E,o as n,b as p,N as c,i as h,e as d,t as S,n as t,Q as V,f as D,k as N,X as x,l as I,h as m,T as g,q as O,F as k,L as q}from"./iframe-BaEhLE_2.js";import{u as T,h as j,l as Y}from"./mixins-BY8gm2SO.js";import{N as M}from"./NavDropdownToggle-D2Of6_1K.js";import{N as W}from"./NavSecondaryDropdownContent-5pHbirVa.js";const z=v({name:"NavSecondaryDropdown",components:{IconCaret:$,NavDropdownToggle:M,NavSecondaryDropdownContent:W},props:{index:{type:Number,required:!1,default:0},isLast:{type:Boolean,required:!1,default:!1},item:{type:Object,required:!0},invert:{type:Boolean,required:!1,default:!1}},emits:["closeDropdown","openDropdown"],data(){return{dropdownVisible:!1}},watch:{$route(){this.dropdownVisible&&this.closeDropdown()}},mounted(){B.on("linkClicked",()=>this.closeDropdown())},methods:{toggleDropdown(){this.dropdownVisible?this.closeDropdown():this.openDropdown()},closeDropdown(){this.dropdownVisible&&(this.dropdownVisible=!1,this.$emit("closeDropdown"))},openDropdown(){this.dropdownVisible||(this.dropdownVisible=!0,this.$emit("openDropdown"))},isExternal(e){return!!(e&&e.startsWith("http"))},dropdownToggleClasses(e){return this.invert?{"mr-auto text-white font-bold secondary-root":e===0,"text-white font-semibold mt-[.2rem]":e!==0,"-open":this.dropdownVisible}:{"mr-auto text-primary font-semibold secondary-root":e===0,"text-gray-dark font-medium mt-[.2rem]":e!==0,"-open":this.dropdownVisible}},dropdownButtonClasses(e){const r=this.invert?"can-hover:group-hover:border-white":"can-hover:group-hover:border-primary",o=this.invert?"can-hover:group-hover:border-white can-hover:group-hover:text-white":"can-hover:group-hover:border-gray-mid-dark can-hover:group-hover:text-gray-mid-dark";return e===0?r:o}}});function F(e,r,o,b,w,y){const l=a("IconCaret"),u=a("NavDropdownToggle"),i=a("NavSecondaryDropdownContent"),s=L("click-outside");return E((n(),p("div",{class:t(["NavSecondaryDropdown relative",{"mr-auto":e.index===0}])},[c(u,{"aria-expanded":!!e.dropdownVisible,path:e.item.path,class:t(["-t-2 border-transparent block px-3 py-2",e.dropdownToggleClasses(e.index)]),invert:e.invert,onToggleClicked:r[0]||(r[0]=C=>e.toggleDropdown()),onCloseDropdown:r[1]||(r[1]=C=>e.closeDropdown())},{default:h(()=>[d("span",{class:t(["flex content-center pt-2 pb-1 mb-1 transition-colors duration-100 ease-in border-b-2 border-transparent",e.dropdownButtonClasses(e.index)])},[d("span",null,S(e.item.title),1),c(l,{class:"transform rotate-90 text-sm ml-2 pl-2 -mt-px"})],2)]),_:1},8,["aria-expanded","path","class","invert"]),c(x,{name:"navfade"},{default:h(()=>[e.dropdownVisible?(n(),p("div",{key:0,class:t(["absolute z-60 bg-gray-light shadow-jpl w-64 text-lg",e.isLast?"right-0":"left-0"]),onClick:r[2]||(r[2]=V(()=>{},["stop"]))},[D(e.$slots,"default",{},()=>[c(i,{item:e.item},null,8,["item"])])],2)):N("",!0)]),_:3})],2)),[[s,e.closeDropdown]])}const H=f(z,[["render",F]]),J=v({name:"NavSecondaryLink",components:{BaseLink:I},props:{index:{type:Number,required:!1,default:void 0},item:{type:Object,required:!0},invert:{type:Boolean,default:!1}},methods:{isExternal(e){return!!(e&&e.startsWith("http"))},baseLinkClasses(e){let r="mr-auto secondary-root";r=this.invert?`${r} text-white font-bold -invert`:`${r} text-primary font-semibold`;const o=this.invert?"text-white -invert font-semibold":"text-gray-dark font-medium";return e===0?r:o},spanClasses(e){const r=this.invert?"can-hover:group-hover:border-white":"can-hover:group-hover:border-primary",o=this.invert?"can-hover:group-hover:border-white can-hover:group-hover:text-white":"can-hover:group-hover:border-gray-mid-dark can-hover:group-hover:text-gray-mid-dark";return e===0?r:o}}});function P(e,r,o,b,w,y){const l=a("BaseLink");return n(),m(l,{href:e.isExternal(e.item.path)?e.item.path:void 0,to:e.isExternal(e.item.path)?void 0:e.item.path,"link-class":"block px-3 py-2",variant:"none",class:t(["NavSecondaryLink border-t-2 border-transparent",e.baseLinkClasses(e.index)])},{default:h(()=>[d("span",{class:t(["inline-block pt-2 pb-1 mb-1 transition-colors duration-100 ease-in border-b-2 border-transparent",e.spanClasses(e.index)])},S(e.item.title),3)]),_:1},8,["href","to","class"])}const R=f(J,[["render",P]]),Q=v({name:"NavSecondary",components:{NavSecondaryDropdown:H,NavSecondaryLink:R},props:{breadcrumb:{type:String,required:!1,default:void 0},hasIntro:{type:Boolean,required:!1,default:!1},invert:{type:Boolean,required:!1,default:!1},jumpMenu:{type:Boolean,default:!1}},data(){return{isSticky:!1,stickyElement:void 0,observer:void 0,observerOffset:void 0,scrollDirection:void 0,posY:0}},computed:{...g(T),...g(O),theBreadcrumb(){if(this.breadcrumb)return j(JSON.parse(this.breadcrumb)),JSON.parse(this.breadcrumb);if(this.headerStore&&!this.jumpMenu)return this.headerStore.globalChildren},enabled(){return!!(this.theBreadcrumb&&this.theBreadcrumb.length>1||this.$slots.default)}},mounted(){this.enabled&&(this.jumpMenu||Y(!1),window.addEventListener("scroll",this.handleScroll)),!("IntersectionObserver"in window)||!("IntersectionObserverEntry"in window)||!("intersectionRatio"in window.IntersectionObserverEntry.prototype)||this.enabled&&(this.initIntersectionObservers(),this.checkSticky())},unmounted(){window.removeEventListener("scroll",this.handleScroll)},methods:{isExternal(e){return!!(e&&e.startsWith("http"))},handleScroll(){var e=window.scrollY;e>this.posY?this.scrollDirection="down":this.scrollDirection="up",this.posY=e},initIntersectionObservers(){this.stickyElement=this.$refs.NavSecondary,this.observer=new IntersectionObserver(([e])=>{e.target.classList.toggle("-is-sticky",e.intersectionRatio===0)},{threshold:[0],rootMargin:this.themeStore.isEdu?"-73px 0px 0px 0px":"-113px 0px 0px 0px"})},checkSticky(){this.stickyElement&&this.observer&&this.observer.observe(this.stickyElement)}}}),U={class:"lg:ml-0 2xl:-mr-3 lg:justify-end flex -ml-3"};function X(e,r,o,b,w,y){const l=a("NavSecondaryDropdown"),u=a("NavSecondaryLink");return e.enabled?(n(),p("nav",{key:0,ref:"NavSecondary","aria-label":"Secondary",class:t(["NavSecondary",{"has-intro":e.hasIntro,"!bg-transparent border-none":e.invert,"-scrolled-up":e.scrollDirection==="up","-at-top":e.posY===0}])},[d("div",{class:t(["w-full mx-auto",{"bg-gradient-to-r from-black to-primary bg-transparent to-90% text-white":e.invert}])},[d("div",{class:t(`nav-secondary-container edu:border-0 lg:container lg:px-0 lg:whitespace-normal lg:overflow-visible relative px-4 pb-0 mx-auto overflow-x-auto text-sm font-medium whitespace-nowrap ${e.invert?"border-0":"border-t border-gray-mid text-gray-mid-dark border-opacity-50"}`)},[d("div",U,[(n(!0),p(k,null,q(e.theBreadcrumb,(i,s)=>(n(),p(k,null,[i.children&&i.children.length>0?(n(),m(l,{key:s,item:i,index:s,"is-last":e.theBreadcrumb&&s===e.theBreadcrumb.length-1,invert:e.invert},null,8,["item","index","is-last","invert"])):(n(),m(u,{key:s,item:i,index:s,invert:e.invert},null,8,["item","index","invert"]))],64))),256)),D(e.$slots,"default")])],2)],2)],2)):N("",!0)}const _=f(Q,[["render",X]]);export{_ as N,H as a,R as b};
