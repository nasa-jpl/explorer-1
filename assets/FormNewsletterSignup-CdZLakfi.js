import{d as b,_,P as l,o as x,b as k,e as a,N as i,i as n,w as u,v as f,m as p}from"./iframe-CnvubKsn.js";import{s as B}from"./stringify-CuSmpoHi.js";import{L as G}from"./LayoutHelper-BwDRSrMo.js";import{B as L}from"./BaseHeading-Cw0kgsgp.js";import{B as N}from"./BaseButton-BOXs8OgM.js";import{B as C}from"./BaseRadioGroup-qGqr67Rc.js";import{_ as T}from"./TextInput.vue_vue_type_script_setup_true_lang-lzlwD2_z.js";const h="https://app.icontact.com/icp/core/mycontacts/signup/designer/form/?id=5&cid=1389932&lid=11365",S="6LeCZCcUAAAAALhxcQ5fN80W6Wa2K3GqRQK6WRjA",$="https://app.icontact.com/icp/core/signup/tracking.gif?id=5&cid=1389932&lid=11365",F=[{id:"breaking",title:"Latest News",text:"All JPL News delivered immediately",value:"41031",alt:"Lists",name:"data[listGroups][]"},{id:"daily",title:"Day in Review",text:"Daily JPL news summary",value:"41032",alt:"Lists",name:"data[listGroups][]"},{id:"weekly",title:"Week in Review",text:"Weekly JPL news summary",value:"41033",alt:"Lists",name:"data[listGroups][]"},{id:"monthly",title:"Month in Review",text:"Monthly JPL news summary",value:"41034",alt:"Lists",name:"data[listGroups][]"}],E=b({name:"FormNewsletterSignup",components:{LayoutHelper:G,BaseHeading:L,BaseButton:N,BaseRadioGroup:C,TextInput:T},data(){return{prefilledEmail:null,submitted:!1,iContactForm:h,iContactTrackingGif:$,captchaKey:S,emailGroups:F}},mounted(){this.$route&&this.$route.query.email!=null&&(this.prefilledEmail=this.$route.query.email);const e=document.createElement("script");e.setAttribute("src","https://app.icontact.com/icp/static/form/javascripts/validation-captcha.js");const t=document.createElement("script");t.setAttribute("src","https://app.icontact.com/icp/static/form/javascripts/tracking.js"),document.head.appendChild(e,t)},methods:{focus(e){window.scrollTo(0,e.offsetTop+100),e.focus()},validate(e){const t=["email"],s={};for(const c in t){const r=t[c],m=e.target.elements[r];if(m.value===""){this.focus(m);const o=r.replace("_"," ");return alert("Please fill out the "+o+" field."),!1}else s[r]=m.value}return s},submit(e){const t=this.validate(e);if(t!==!1){this.reveal();const s={method:"POST",mode:"no-cors",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:B({"data[email]":t.email,"data[fname]":t.first_name,"data[lname]":t.last_name,"data[zip]":t.zip_code,"data[listGroups][]":t.listGroups})};fetch(h,s)}},reveal(){this.submitted=!0,this.$refs&&this.$refs.FormNewsletterSignup&&this.$scrollTo(this.$refs.FormNewsletterSignup,0,{offset:100})}}}),A=["src"],P={ref:"FormNewsletterSignup",class:"text-gray-light-mid mb-10"},R={class:"mb-10"},j=["captcha-key","action"],z={dataname:"listGroups","data-label":"Which email groups would you like to join?"},q={class:"mt-8"},H={class:"mt-4 lg:mt-8 submit-container"},V={class:"pt-10 text-center"};function W(e,t,s,c,r,m){const o=l("BaseHeading"),d=l("TextInput"),y=l("BaseRadioGroup"),v=l("BaseButton"),g=l("LayoutHelper");return x(),k("div",null,[a("img",{src:e.iContactTrackingGif,alt:""},null,8,A),i(g,{indent:"col-3"},{default:n(()=>[a("hr",P,null,512),u(a("div",R,[a("form",{id:"ic_signupform","captcha-key":e.captchaKey,"captcha-theme":"light","new-captcha":"true",method:"POST",action:e.iContactForm},[i(o,{level:"h2",size:"h6"},{default:n(()=>t[1]||(t[1]=[p("Contact Information")])),_:1}),i(d,{modelValue:e.prefilledEmail,"onUpdate:modelValue":t[0]||(t[0]=w=>e.prefilledEmail=w),class:"mt-8","input-name":"data[email]",label:"Email",type:"email",required:"",placeholder:"enter your email"},null,8,["modelValue"]),i(d,{class:"mt-8","input-name":"data[fname]",label:"First Name",type:"text",placeholder:"enter your first name"}),i(d,{class:"mt-8","input-name":"data[lname]",label:"Last Name",type:"text",maxlength:"64",placeholder:"enter your last name"}),i(d,{class:"mt-8","input-name":"data[zip]",label:"Zip",type:"text",maxlength:"10",pattern:"[0-9]{5}(-[0-9]{4})?",title:"Five digit zip code",placeholder:"enter your 5-digit zip code"}),i(o,{level:"h2",size:"h6",class:"mt-12"},{default:n(()=>t[2]||(t[2]=[p(" Subscribe to Email Groups ")])),_:1}),a("div",z,[a("div",q,[i(y,{heading:"JPL News","sub-heading":"Choose how frequently you want to receive updates (opt out anytime):",group:"email",title:"Email Groups",preselected:"breaking",options:e.emailGroups},null,8,["options"])])]),a("div",H,[i(v,{type:"submit",variant:"primary"},{default:n(()=>t[3]||(t[3]=[p("Submit")])),_:1})])],8,j)],512),[[f,!e.submitted]]),u(a("div",V,[i(o,{level:"h2"},{default:n(()=>t[4]||(t[4]=[p("Thank you!")])),_:1}),t[5]||(t[5]=a("div",{class:"text-jpl-blue-light h-22 w-22 p-5 mx-auto my-8 text-6xl font-bold border-4 rounded-full"}," âœ“ ",-1)),t[6]||(t[6]=a("p",{class:"text-h6"},"Check your inbox to verify your email.",-1))],512),[[f,e.submitted]])]),_:1}),t[7]||(t[7]=a("div",{class:"hidden-container"},null,-1))])}const Q=_(E,[["render",W]]);export{Q as F};
