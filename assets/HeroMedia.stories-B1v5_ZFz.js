import{BaseVideoData as y}from"./BaseVideo.stories-DCMQwe4F.js";import{c as C,J as v,K as b,_ as I,H as n,o as i,h as o,i as r,F as w,p as s,m as S,y as l,z as c,l as p,n as V}from"./iframe-CX58vNoo.js";import{M as k}from"./MixinVideoBg-ZlO0gqJf.js";import{B as M}from"./BaseImageCaption-DQHIDL8s.js";import{I as x}from"./IconInfo-DAgjynjY.js";import{I as B}from"./IconClose-3Ya9aNlZ.js";import{b as D,f as N}from"./mixins-22H8zNz8.js";const m=C({name:"HeroMedia",components:{MixinVideoBg:k,BaseImageCaption:M,IconInfo:x,IconClose:B},props:{image:{type:Object,default:void 0},video:{type:Object,default:void 0},displayCaption:{type:Boolean,default:!0},caption:{type:String,default:void 0},credit:{type:String,default:void 0}},data(){return{captionVisible:!1}},computed:{...v(b),theImageCaption(){if(this.displayCaption&&this.image&&this.caption&&this.caption.length>2)return this.caption;if(this.image&&this.image.caption&&this.image.caption.length>2&&this.displayCaption)return this.image.caption},theImageData(){if(this.image)return{...this.image,caption:this.theImageCaption}},theSrcSet(){return this.theImageData?D(this.theImageData):void 0},customCaption(){if(this.displayCaption&&(this.caption&&this.caption.length>2||this.credit))return{caption:this.caption,credit:this.credit}},captionVisibilityClass(){return this.captionVisible?"flex":"hidden"},hasCaptionArea(){var e,a;return this.theImageData?this.themeStore.isEdu?this.theImageCaption?this.theImageCaption:!1:this.theImageCaption||((e=this.image)==null?void 0:e.credit)||((a=this.image)==null?void 0:a.detailUrl):!!this.customCaption}},mounted(){N()},methods:{toggleCaption(){this.captionVisible?this.captionVisible=!1:this.captionVisible=!0}}}),A={key:0,class:"HeroMedia"},H={class:"vh-crop max-w-screen-3xl relative flex items-center mx-auto overflow-hidden"},_={class:"hero w-full"},T=["srcset","src","width","height","alt"],j={key:0,class:"lg:hidden absolute bottom-0 left-0 w-full h-auto mx-auto print:hidden"};function L(e,a,q,X,K,Q){const d=n("MixinVideoBg"),h=n("IconInfo"),u=n("IconClose"),g=n("BaseImageCaption");return e.image||e.video?(i(),o("div",A,[r("div",null,[r("div",H,[r("div",_,[e.theImageData?(i(),o(w,{key:0},[e.theImageData.src?(i(),o("img",{key:0,class:"object-cover object-center w-full h-full",srcset:e.theSrcSet,src:e.theImageData.src.url,width:e.theImageData.src.width,height:e.theImageData.src.height,alt:e.theImageData.alt,itemprop:"image","data-chromatic":"ignore"},null,8,T)):s("",!0)],64)):e.video?(i(),S(d,{key:1,video:e.video},null,8,["video"])):s("",!0)]),e.hasCaptionArea?(i(),o("div",j,[r("button",{class:"bg-opacity-90 text-gray-dark flex items-center justify-center w-12 h-12 ml-auto bg-white cursor-pointer","aria-label":"Toggle caption",onClick:a[0]||(a[0]=(...f)=>e.toggleCaption&&e.toggleCaption(...f))},[l(p(h,{class:"text-xl"},null,512),[[c,!e.captionVisible]]),l(p(u,null,null,512),[[c,e.captionVisible]])])])):s("",!0)])]),e.hasCaptionArea?(i(),o("div",{key:0,class:V([e.captionVisibilityClass,"caption-area max-w-screen-3xl ThemeVariantGray bg-gray-light bg-opacity-90 lg:bg-opacity-100 ThemeVariantGray lg:block lg:pb-4 lg:px-3 xl:px-8 lg:pt-4 items-start p-4 mx-auto print:block"])},[p(g,{data:e.theImageData||e.customCaption},null,8,["data"])],2)):s("",!0)])):s("",!0)}const O=I(m,[["render",L]]);m.__docgenInfo={displayName:"HeroMedia",exportName:"default",description:"",tags:{},props:[{name:"image",type:{name:"object"},defaultValue:{func:!1,value:"undefined"}},{name:"video",type:{name:"object"},defaultValue:{func:!1,value:"undefined"}},{name:"displayCaption",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"caption",type:{name:"string"},defaultValue:{func:!1,value:"undefined"}},{name:"credit",type:{name:"string"},defaultValue:{func:!1,value:"undefined"}}],sourceFiles:["/home/runner/work/explorer-1/explorer-1/apps/vue-storybook/node_modules/@explorer-1/vue/src/components/HeroMedia/HeroMedia.vue"]};const U={title:"Components/Heroes/Media Only",component:O,parameters:{html:{root:"#storyDecorator"},docs:{description:{component:"No text overlay, just an image or video with a caption below."}}},excludeStories:/.*Data$/},t={blockType:"ImageChooserBlock",imageInline:{alt:"A inline hero image",caption:"<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed vel porttitor urna. Maecenas at est laoreet, sagittis risus a, rutrum ipsum. Quisque tincidunt lacus nunc, dapibus facilisis felis scelerisque sit amet. </p>",credit:"NASA/JPL",detailUrl:"/image/placeholder/",original:"https://picsum.photos/869/700",src:{height:700,url:"https://picsum.photos/869/700",width:869},srcSet:"https://picsum.photos/320/258 320w, https://picsum.photos/869/700 1024w"},image:{src:{url:"https://picsum.photos/1440/620",width:1440,height:620},screenXs:{url:"https://picsum.photos/320/139",width:320},screenSm:{url:"https://picsum.photos/640/276",width:640},screenMd:{url:"https://picsum.photos/768/331",width:768},screenLg:{url:"https://picsum.photos/1024/442",width:1024},screenXl:{url:"https://picsum.photos/1280/552",width:1280},screenTwoxl:{url:"https://picsum.photos/1440/620",width:1440},screenThreexl:{url:"https://picsum.photos/1800/775",width:1800},alt:"News detail page hero image",caption:"<p>NASA InSight&#x27;s robotic arm will use its scoop to pin the spacecraft&#x27;s heat probe against the wall of its hole.</p>",credit:"NASA/JPL",detailUrl:"/images/image-123/"},caption:"",displayCaption:!0},$={name:"HeroMedia",args:t},J={args:{...t,caption:"<p>My custom caption.</p>"}},P={args:{...t,caption:"<p>My custom caption.</p>",displayCaption:!1}},z={args:{image:{src:t.image.src,alt:"The hero image",caption:`
`,credit:"",detailUrl:""},caption:"<p>My custom caption.</p>",displayCaption:!1}},E={args:{image:{src:t.image.src,alt:t.image.src,caption:t.image.caption,credit:t.image.credit,detailUrl:""},caption:"",displayCaption:!0}},F={args:{blockType:"VideoBlock",video:y,caption:'<p>Lorem ipsum dolor sit amet. <a href="#">A link in the caption</a> testing render.</p>',credit:"NASA/JPL"}},G=["HeroMediaData","BaseStory","CustomImageCaption","NoCaptionText","NoCaptionArea","NoLink","Video"],ae=Object.freeze(Object.defineProperty({__proto__:null,BaseStory:$,CustomImageCaption:J,HeroMediaData:t,NoCaptionArea:z,NoCaptionText:P,NoLink:E,Video:F,__namedExportsOrder:G,default:U},Symbol.toStringTag,{value:"Module"}));export{ae as H,O as a,t as b};
