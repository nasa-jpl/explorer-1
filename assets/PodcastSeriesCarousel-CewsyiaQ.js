import{c as y,O as k,_ as T,H as m,o as r,h as l,l as h,w as b,i as c,t as p,F as C,j as x,n as _,p as f,m as v,W as D}from"./iframe-CX58vNoo.js";import{L as N}from"./LayoutHelper-CO2RkZ2D.js";import{T as w}from"./ThumbnailCarousel-Du-GyFV-.js";const d=k(),S=y({name:"PodcastSeriesCarousel",components:{LayoutHelper:N,ThumbnailCarousel:w},props:{series:{type:Object,required:!1},initialSeasonId:{type:String,required:!1}},data(){return{activeTabId:""}},computed:{sortedSeasons(){let e;return this.series&&this.series.seasons&&(e=this.series.seasons,e=e.toSorted((s,t)=>{if(s.seasonNumber&&t.seasonNumber)return s.seasonNumber-t.seasonNumber})),e},activeSeasonId(){var e,s;if(this.activeTabId)return this.activeTabId;if(this.initialSeasonId)return this.initialSeasonId;if((s=(e=this.series)==null?void 0:e.seasons)!=null&&s.length)return this.series.seasons[0].id},initialEpisodeIndex(){var s,t;let e;return(s=this.series)!=null&&s.seasons&&this.activeSeasonId&&(d!=null&&d.path)?(e=(t=this.series.seasons.find(a=>a.id===this.activeSeasonId))==null?void 0:t.episodes,e?e.findIndex(a=>a.url===d.path):null):null},activeTabData(){var s,t,a;let e;if((t=(s=this.series)==null?void 0:s.seasons)!=null&&t.length&&(this.activeSeasonId?e=this.series.seasons.find(i=>i.id===this.activeSeasonId):e=this.series.seasons[0],(a=e==null?void 0:e.episodes)!=null&&a.length)){let i=e.episodes;i=i.toSorted((u,o)=>{if(u.publicationDate&&o.publicationDate)return new Date(u.publicationDate).getTime()-new Date(o.publicationDate).getTime()}),e={...e,episodes:i}}return e}},methods:{updateActiveTab(e){this.activeTabId=e}}}),P={key:0,class:"PodcastSeriesCarousel"},E={class:"text-gray-dark text-3xl lg:text-6xl font-semibold leading-normal tracking-normal uppercase mb-2 lg:mb-5"},L={class:"flex flex-wrap mb-6 lg:mb-10"},$=["aria-expanded","onClick"],q={key:0,class:"text-h6"};function B(e,s,t,a,i,u){const o=m("LayoutHelper"),g=m("ThumbnailCarousel");return e.series&&e.activeTabData?(r(),l("div",P,[h(o,{indent:"col-2"},{default:b(()=>[c("h2",E," More "+p(e.series.title)+" Episodes ",1),c("ul",L,[(r(!0),l(C,null,x(e.sortedSeasons,(n,I)=>(r(),l("li",{key:I,class:"last:mr-0 w-auto mr-10 lg:flex-shrink-0"},[c("button",{class:_(["text-subtitle block text-left lg:text-center lg:w-full py-2 border-b-2 text-gray-mid-dark can-hover:hover:text-gray-dark",e.activeSeasonId===n.id?"border-jpl-red text-gray-dark":"border-white"]),"aria-expanded":e.activeSeasonId===n.id?"true":"false",onClick:H=>e.updateActiveTab(n.id)}," Season "+p(n.seasonNumber),11,$)]))),128))])]),_:1}),h(o,{indent:"col-2",class:"mb-4"},{default:b(()=>[e.activeTabData.title?(r(),l("h3",q,p(e.activeTabData.title),1)):f("",!0)]),_:1}),(r(),v(D,null,[(r(),v(g,{key:e.activeSeasonId,"initial-slide":e.activeSeasonId===e.initialSeasonId&&e.initialEpisodeIndex?e.initialEpisodeIndex:0,slides:e.activeTabData.episodes},null,8,["initial-slide","slides"]))],1024))])):f("",!0)}const V=T(S,[["render",B]]);S.__docgenInfo={displayName:"PodcastSeriesCarousel",exportName:"default",description:"",tags:{},props:[{name:"series",type:{name:"Series"},required:!1},{name:"initialSeasonId",type:{name:"string"},required:!1}],sourceFiles:["/home/runner/work/explorer-1/explorer-1/apps/vue-storybook/node_modules/@explorer-1/vue/src/components/PodcastSeriesCarousel/PodcastSeriesCarousel.vue"]};export{V as P};
