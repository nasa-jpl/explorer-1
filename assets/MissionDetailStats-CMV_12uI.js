import{h as D,P as b,e as w,f as o,k,j as s,x as r,l as S,w as f,C as u,y as l,E as g,o as n,n as P,B as $}from"./iframe-UYtirdi4.js";import{B as A}from"./BaseUnitToggle-jvOX3jTo.js";import{B}from"./BaseTimer-V6S7DYWs.js";const _={earth:"Distance from Earth",mars:"Distance traveled on Mars"},q={"/api/v1/missions/":{getPath:(e,t)=>{const a=e.split(t)[1];if(!a)throw console.error(e,t),new Error("Error querying /api/v1/missions/ API");return`/api/mars${t}${a}`},getDistance:e=>{if(typeof e?.mi_traveled>"u")throw console.error(e),new Error("Error processing /api/v1/missions/ data");return{value:e.mi_traveled,system:"imperial"}}},"/spice_data/getRangefromT1/":{getPath:(e,t)=>{const i=e.split(t)[1].split("/"),c=`${i[0]}/${i[1]}/`,y=[b(),b().add(1,"minute")].map(p=>p.toISOString().replace(/\.\d+Z$/,"")).join("/");return`/api/mars/spice_data/getRangefromT1/${c}${y}/1/`},getDistance:(e,t)=>{const a=e?.items[t]?.value;if(e.error||e.units!=="KM"||typeof a>"u")throw console.error(e,t),new Error("Error processing /spice_data/getRangefromT1/ data");return{value:Math.round(Number(a)),system:"metric"}}}},h=Object.keys(q),C=D({name:"DistanceStats",components:{BaseUnitToggle:A},props:{distanceType:{type:String,required:!0,validator:e=>e===""||Object.keys(_).includes(e)},value:{type:Number,default:void 0},valueSystem:{type:String,required:!1,default:"imperial"},distanceApiUrls:{type:String,required:!1,validator:e=>h.some(t=>e.includes(t)||e===""),default:void 0},labelClass:{type:String,default:void 0}},data(){return{apiDistance:null,showError:!1,timeout:null}},computed:{distanceTypeLabel(){return _[this.distanceType]||this.distanceType},loadedValue(){return this.distanceApiUrls?this.apiDistance?.value||0:this.value},loadedSystem(){return this.distanceApiUrls?this.apiDistance?.system||"imperial":this.valueSystem},isLoading(){return!!this.distanceApiUrls&&this.apiDistance===null}},mounted(){this.distanceApiUrls&&this.getAPIDistance()},beforeUnmount(){clearTimeout(this.timeout)},methods:{async getAPIDistance(){try{const e=h.find(t=>this.distanceApiUrls?.includes(t));if(e&&this.distanceApiUrls){const t=q[e],a=t.getPath(this.distanceApiUrls,e),i=await this.$axios.$get(a);e==="/spice_data/getRangefromT1/"?this.updateSPICEData(t,i,0):this.apiDistance=t.getDistance(i,0)}}catch(e){console.error(e),this.showError=!0}},async updateSPICEData(e,t,a){this.apiDistance=e.getDistance(t,a);const i=a+1;if(i<t?.items?.length)this.timeout=setTimeout(this.updateSPICEData.bind(this,e,t,i),1e3);else if(this.distanceApiUrls){const c=await this.$axios.$get(e.getPath(this.distanceApiUrls,"/spice_data/getRangefromT1/"));this.updateSPICEData(e,c,0)}}}}),V={key:0,class:"DistanceStats"},E={key:0},L={key:1};function M(e,t,a,i,c,y){const p=g("BaseUnitToggle");return typeof e.value<"u"||e.distanceApiUrls?(n(),o("div",V,[k(e.$slots,"label",{label:e.distanceTypeLabel},()=>[s("p",null,r(e.distanceTypeLabel),1)]),e.showError?(n(),o("p",E,"Unavailable")):e.isLoading?(n(),o("p",L,"Loadingâ€¦")):e.loadedValue?(n(),S(p,{key:2,"unit-pair":"MI_KM",value:e.loadedValue,"value-system":e.loadedSystem},{default:f(m=>[k(e.$slots,"value",{formattedValue:m.formattedValue},()=>[u(r(m.formattedValue),1)])]),_:3},8,["value","value-system"])):l("",!0)])):l("",!0)}const I=w(C,[["render",M]]);C.__docgenInfo={exportName:"default",displayName:"DistanceStats",type:1,props:[{name:"value",global:!1,description:"",tags:[],required:!1,type:"number",declarations:[],schema:"number",default:"undefined"},{name:"labelClass",global:!1,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string",default:"undefined"},{name:"valueSystem",global:!1,description:"",tags:[],required:!1,type:"keyof UnitConfig",declarations:[],schema:{kind:"enum",type:"keyof UnitConfig",schema:['"imperial"','"metric"']},default:'"imperial"'},{name:"distanceApiUrls",global:!1,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string",default:"undefined"},{name:"key",global:!0,description:"",tags:[],required:!1,type:"PropertyKey",declarations:[],schema:{kind:"enum",type:"PropertyKey",schema:["string","number","symbol"]}},{name:"ref",global:!0,description:"",tags:[],required:!1,type:"VNodeRef",declarations:[],schema:{kind:"enum",type:"VNodeRef",schema:["string","Ref<any, any>",{kind:"event",type:"(ref: Element | ComponentPublicInstance<{}, {}, {}, {}, {}, {}, {}, {}, false, ComponentOptionsBase<any, any, any, any, any, any, any, any, any, {}, {}, string, {}, {}, {}, string, ComponentProvideOptions>, ... 4 more ..., any>, refs: Record<...>): void"}]}},{name:"ref_for",global:!0,description:"",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"ref_key",global:!0,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string"},{name:"class",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"style",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"distanceType",global:!1,description:"",tags:[],required:!0,type:'"" | "earth" | "mars"',declarations:[],schema:{kind:"enum",type:'"" | "earth" | "mars"',schema:['""','"earth"','"mars"']}}],events:[],slots:[],exposed:[{name:"value",type:"number",description:"",declarations:[],schema:"number"},{name:"labelClass",type:"string",description:"",declarations:[],schema:"string"},{name:"valueSystem",type:"keyof UnitConfig",description:"",declarations:[],schema:{kind:"enum",type:"keyof UnitConfig",schema:['"imperial"','"metric"']}},{name:"distanceApiUrls",type:"string",description:"",declarations:[],schema:"string"},{name:"distanceType",type:'"" | "earth" | "mars"',description:"",declarations:[],schema:{kind:"enum",type:'"" | "earth" | "mars"',schema:['""','"earth"','"mars"']}},{name:"apiDistance",type:"{ value: number; system: keyof UnitConfig; }",description:"",declarations:[],schema:"{ value: number; system: keyof UnitConfig; }"},{name:"showError",type:"boolean",description:"",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"timeout",type:"{ close: () => Timeout; hasRef: () => boolean; ref: () => Timeout; refresh: () => Timeout; unref: () => Timeout; _onTimeout: (...args: any[]) => void; [Symbol.toPrimitive]: () => number; [Symbol.dispose]: () => void; }",description:"",declarations:[],schema:"{ close: () => Timeout; hasRef: () => boolean; ref: () => Timeout; refresh: () => Timeout; unref: () => Timeout; _onTimeout: (...args: any[]) => void; [Symbol.toPrimitive]: () => number; [Symbol.dispose]: () => void; }"},{name:"distanceTypeLabel",type:"string",description:"",declarations:[],schema:"string"},{name:"loadedValue",type:"number",description:"",declarations:[],schema:"number"},{name:"loadedSystem",type:"keyof UnitConfig",description:"",declarations:[],schema:{kind:"enum",type:"keyof UnitConfig",schema:['"imperial"','"metric"']}},{name:"isLoading",type:"boolean",description:"",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}}],sourceFiles:"/home/runner/work/explorer-1/explorer-1/packages/vue/src/components/MissionDetailStats/DistanceStats.vue"};const T={draft:"Select status",current:"Current",future:"Future",proposed:"Proposed",past:"Past"},v={countdown:"Countdown",time_in_orbit:"Time in Orbit",time_on_mars:"Time on Mars",time_to_mars:"Time to Mars",time_to_dest:"Time to Destination"},U=D({name:"MissionDetailStats",components:{BaseTimer:B,DistanceStats:I},props:{showClock:Boolean,clockType:{type:String,required:!0,validator:e=>!!v[e]},startDateTime:{type:String,required:!1,default:void 0},displayDate:{type:String||null,required:!1,default:void 0},missionTypes:{type:Array,required:!0,default:()=>[]},missionTargets:{type:Array,required:!0,default:()=>[]},status:{type:String,required:!0,validator:e=>!!T[e]},showDistance:Boolean,distanceType:{type:String,required:!1,default:""},distanceValue:{type:Number,default:void 0},distanceApiUrls:{type:String,default:void 0,validator:e=>h.some(t=>e.includes(t)||e==="")}},computed:{clockTypeLabel(){return v[this.clockType]||this.clockType},statusLabel(){return T[this.status]||this.status}}}),R={class:"MissionDetailStats MixedBleedGrid lg:relative lg:z-20 lg:-mt-20 lg:pl-0 lg:mb-20 pl-4 mb-12"},N={class:"theme col-start-indent-col-2 col-end-container lg:py-12 lg:px-0 text-body-lg px-8 py-10 pr-0"},O={key:0,class:"lg:col-span-6 col-span-10"},j={class:"label text-subtitle"},K={class:"label text-subtitle"},F={class:"text-stats-xl"},x={key:2,class:"lg:col-span-2 col-span-5"},z={key:3,class:"lg:col-span-2 col-span-5"},G={key:4,class:"lg:col-span-2 col-span-5"},Z={key:5,class:"lg:col-span-2 col-span-5"};function H(e,t,a,i,c,y){const p=g("BaseTimer"),m=g("DistanceStats");return n(),o("div",R,[t[5]||(t[5]=s("h2",{class:"sr-only"},"Mission Statistics",-1)),s("div",N,[s("div",{class:P(["gap-y-10 grid grid-cols-10",{"adaptive-stats-grid 2xl:grid-cols-11":e.showClock}])},[t[4]||(t[4]=s("div",{class:"lg:block hidden col-span-1 row-span-2"},null,-1)),e.showClock&&e.startDateTime?(n(),o("div",O,[s("p",j,r(e.clockTypeLabel),1),$(p,{"target-date-time":e.startDateTime,"selected-units":["years","months","days","hours","minutes","seconds"],countdown:e.clockType==="countdown"},null,8,["target-date-time","countdown"])])):l("",!0),e.showDistance?(n(),S(m,{key:1,class:"lg:col-span-3 col-span-10","distance-type":e.distanceType,value:e.distanceValue,"value-system":"imperial","distance-api-urls":e.distanceApiUrls},{label:f(d=>[s("p",K,r(d.label),1)]),value:f(d=>[s("span",F,r(d.formattedValue),1)]),_:1},8,["distance-type","value","distance-api-urls"])):l("",!0),e.displayDate?(n(),o("div",x,[t[0]||(t[0]=s("p",{class:"label text-subtitle"},"Launch Date",-1)),s("p",null,r(e.displayDate),1)])):l("",!0),e.missionTypes.length>0?(n(),o("div",z,[t[1]||(t[1]=s("p",{class:"label text-subtitle"},"Type",-1)),u(" "+r(e.missionTypes.map(d=>d.missionType).join(", ")),1)])):l("",!0),e.missionTargets.length>0?(n(),o("div",G,[t[2]||(t[2]=s("p",{class:"label text-subtitle"},"Target",-1)),u(" "+r(e.missionTargets.map(d=>d.target).join(", ")),1)])):l("",!0),e.status!=="draft"?(n(),o("div",Z,[t[3]||(t[3]=s("p",{class:"label text-subtitle"},"Status",-1)),u(" "+r(e.statusLabel),1)])):l("",!0)],2)]),t[6]||(t[6]=s("div",{class:"theme col-start-container-end col-end-bleed"},null,-1))])}const X=w(U,[["render",H]]);U.__docgenInfo={exportName:"default",displayName:"MissionDetailStats",type:1,props:[{name:"distanceType",global:!1,description:"",tags:[],required:!1,type:'"" | "earth" | "mars"',declarations:[],schema:{kind:"enum",type:'"" | "earth" | "mars"',schema:['""','"earth"','"mars"']},default:'""'},{name:"distanceApiUrls",global:!1,description:"Used with `DistanceStats`. Only `/spice_data/getRangefromT1/` or `/api/v1/missions/` paths are supported.",tags:[],required:!1,type:"string",declarations:[],schema:"string",default:"undefined"},{name:"showClock",global:!1,description:"",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"startDateTime",global:!1,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string",default:"undefined"},{name:"showDistance",global:!1,description:"If distance should be displayed with the stats",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"distanceValue",global:!1,description:"",tags:[],required:!1,type:"number",declarations:[],schema:"number",default:"undefined"},{name:"displayDate",global:!1,description:"Launch date",tags:[],required:!1,type:"string",declarations:[],schema:"string",default:"undefined"},{name:"missionTypes",global:!1,description:"",tags:[],required:!1,type:"{ missionType: string; }[]",declarations:[],schema:{kind:"array",type:"{ missionType: string; }[]"},default:"[]"},{name:"missionTargets",global:!1,description:"",tags:[],required:!1,type:"{ target: string; }[]",declarations:[],schema:{kind:"array",type:"{ target: string; }[]"},default:"[]"},{name:"key",global:!0,description:"",tags:[],required:!1,type:"PropertyKey",declarations:[],schema:{kind:"enum",type:"PropertyKey",schema:["string","number","symbol"]}},{name:"ref",global:!0,description:"",tags:[],required:!1,type:"VNodeRef",declarations:[],schema:{kind:"enum",type:"VNodeRef",schema:["string","Ref<any, any>",{kind:"event",type:"(ref: Element | ComponentPublicInstance<{}, {}, {}, {}, {}, {}, {}, {}, false, ComponentOptionsBase<any, any, any, any, any, any, any, any, any, {}, {}, string, {}, {}, {}, string, ComponentProvideOptions>, ... 4 more ..., any>, refs: Record<...>): void"}]}},{name:"ref_for",global:!0,description:"",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"ref_key",global:!0,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string"},{name:"class",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"style",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"status",global:!1,description:"",tags:[],required:!0,type:'"draft" | "current" | "future" | "proposed" | "past"',declarations:[],schema:{kind:"enum",type:'"draft" | "current" | "future" | "proposed" | "past"',schema:['"draft"','"current"','"future"','"proposed"','"past"']}},{name:"clockType",global:!1,description:"Select the type of clock. This will change the text of the labels and how the count functions",tags:[],required:!0,type:'"countdown" | "time_in_orbit" | "time_on_mars" | "time_to_mars" | "time_to_dest"',declarations:[],schema:{kind:"enum",type:'"countdown" | "time_in_orbit" | "time_on_mars" | "time_to_mars" | "time_to_dest"',schema:['"countdown"','"time_in_orbit"','"time_on_mars"','"time_to_mars"','"time_to_dest"']}}],events:[],slots:[],exposed:[{name:"distanceType",type:'"" | "earth" | "mars"',description:"",declarations:[],schema:{kind:"enum",type:'"" | "earth" | "mars"',schema:['""','"earth"','"mars"']}},{name:"distanceApiUrls",type:"string",description:"Used with `DistanceStats`. Only `/spice_data/getRangefromT1/` or `/api/v1/missions/` paths are supported.",declarations:[],schema:"string"},{name:"showClock",type:"boolean",description:"",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"startDateTime",type:"string",description:"",declarations:[],schema:"string"},{name:"showDistance",type:"boolean",description:"If distance should be displayed with the stats",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"distanceValue",type:"number",description:"",declarations:[],schema:"number"},{name:"displayDate",type:"string",description:"Launch date",declarations:[],schema:"string"},{name:"missionTypes",type:"{ missionType: string; }[]",description:"",declarations:[],schema:{kind:"array",type:"{ missionType: string; }[]"}},{name:"missionTargets",type:"{ target: string; }[]",description:"",declarations:[],schema:{kind:"array",type:"{ target: string; }[]"}},{name:"status",type:'"draft" | "current" | "future" | "proposed" | "past"',description:"",declarations:[],schema:{kind:"enum",type:'"draft" | "current" | "future" | "proposed" | "past"',schema:['"draft"','"current"','"future"','"proposed"','"past"']}},{name:"clockType",type:'"countdown" | "time_in_orbit" | "time_on_mars" | "time_to_mars" | "time_to_dest"',description:"Select the type of clock. This will change the text of the labels and how the count functions",declarations:[],schema:{kind:"enum",type:'"countdown" | "time_in_orbit" | "time_on_mars" | "time_to_mars" | "time_to_dest"',schema:['"countdown"','"time_in_orbit"','"time_on_mars"','"time_to_mars"','"time_to_dest"']}},{name:"clockTypeLabel",type:"string",description:"",declarations:[],schema:"string"},{name:"statusLabel",type:'"draft" | "current" | "future" | "proposed" | "past" | StatusLabel',description:"",declarations:[],schema:{kind:"enum",type:'"draft" | "current" | "future" | "proposed" | "past" | StatusLabel',schema:['"Select status"','"Current"','"Future"','"Proposed"','"Past"','"draft"','"current"','"future"','"proposed"','"past"']}}],sourceFiles:"/home/runner/work/explorer-1/explorer-1/packages/vue/src/components/MissionDetailStats/MissionDetailStats.vue"};export{I as D,X as M,v as c};
