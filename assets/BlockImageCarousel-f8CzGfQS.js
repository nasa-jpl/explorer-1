import{s as I}from"./_swiperOptions-exS754hY.js";import{S as h,A as k}from"./a11y-S1BjB8Wp.js";import{N as x}from"./navigation-DYSZwei8.js";import{c as _,_ as B,H as n,o as r,h as c,i as a,s as C,F as u,j as m,m as w,l as d,w as f,n as N,p as q}from"./iframe-9cocL7nB.js";import{B as S}from"./BaseButton-C7uPmm1i.js";import{B as A}from"./BlockImageCarouselItem-Dvt8UdkJ.js";import{I as $,a as T}from"./IconNext-lU3IFdS-.js";const F=I.BlockImageCarousel;h.use([x,k]);const b=_({name:"BlockImageCarousel",components:{BaseButton:S,IconPrev:$,IconNext:T,BlockImageCarouselItem:A},props:{items:{type:Array,required:!1},itemRole:{type:String,required:!1},loop:{type:Boolean,default:!0},slide:{type:Number,required:!1},blockId:{type:String,required:!1},showTitle:{type:Boolean,required:!1,default:!1}},data(){return{currentIndex:0,currentCaption:"",slider:null,sliderOptions:{...F,loop:this.loop,pagination:!1,a11y:{slideRole:this.itemRole},on:{slideChange:e=>{this.updateIndex(e.realIndex),this.loop&&Array.prototype.forEach.call(e.slides,function(t){const s=t.querySelector(".MixinFancybox");if(s){const i=s.dataset.fancybox||s.dataset.triggerFancybox;t.classList.contains("swiper-slide-visible")?(s.dataset.fancybox=i,s.removeAttribute("data-trigger-fancybox")):t.classList.contains("swiper-slide-duplicate")||t.classList.contains("swiper-slide-duplicate-next")?(s.dataset.triggerFancybox=i,s.removeAttribute("data-fancybox")):(s.dataset.fancybox=i,s.removeAttribute("data-trigger-fancybox"))}})}}}}},computed:{hasCover(){return!!this.$slots.firstSlide},itemsMobileNav(){const e=this.items?this.items.map(t=>t):void 0;return e&&this.hasCover&&e.push({cover:"hasCover"}),e}},watch:{slide(e){this.slideTo(e)}},mounted(){this.init()},methods:{init(){this.slider=new h(this.$refs.BlockImageCarousel,this.sliderOptions),this.currentIndex=this.slider.realIndex},updateIndex(e){this.currentIndex=e},slideTo(e){this.slider&&this.slider.slideTo(e)}}}),O={key:0,class:"BlockImageCarousel w-full overflow-hidden"},P={ref:"BlockImageCarousel",class:"swiper"},V={class:"swiper-wrapper"},z={class:"swiper-nav lg:block absolute inset-x-0 top-0 hidden h-0 overflow-hidden z-70"},L={class:"absolute inset-0"},R={class:"absolute bottom-0 right-0 z-10 flex"},E={class:"swiper-dots lg:hidden absolute top-0 z-50 w-full text-center"},M=["aria-label","onClick"];function j(e,t,s,i,G,H){const g=n("BlockImageCarouselItem"),y=n("IconPrev"),p=n("BaseButton"),v=n("IconNext");return e.items?(r(),c("div",O,[a("div",P,[a("div",V,[C(e.$slots,"firstSlide"),(r(!0),c(u,null,m(e.items,(l,o)=>(r(),w(g,{key:o,image:l.image,caption:l.caption,"display-caption":l.displayCaption,"block-id":e.blockId,"show-title":e.showTitle,class:"swiper-slide"},null,8,["image","caption","display-caption","block-id","show-title"]))),128))]),a("div",z,[a("div",L,[a("div",R,[d(p,{class:"swiper-prev xl:text-xl border-collapse","aria-label":"Previous slide"},{icon:f(()=>[d(y)]),_:1}),d(p,{class:"swiper-next xl:text-xl border-collapse","aria-label":"Next slide"},{icon:f(()=>[d(v)]),_:1})])])]),a("div",E,[(r(!0),c(u,null,m(e.itemsMobileNav,(l,o)=>(r(),c("button",{key:o,class:"pointer-events-auto inline-block px-1 py-3 cursor-pointer","aria-label":"Go to slide "+(e.hasCover?o:o+1),onClick:D=>e.slideTo(e.hasCover?o:o+1)},[a("span",{class:N(["inline-block w-3 h-3 rounded-full",e.currentIndex===o?"bg-primary":"bg-gray-light-mid"])},null,2)],8,M))),128))])],512)])):q("",!0)}const Z=B(b,[["render",j]]);b.__docgenInfo={displayName:"BlockImageCarousel",exportName:"default",description:"",tags:{},props:[{name:"items",type:{name:"Partial<ImageObject>[]"},required:!1},{name:"itemRole",type:{name:"string"},required:!1},{name:"loop",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"slide",type:{name:"number"},required:!1},{name:"blockId",type:{name:"string"},required:!1},{name:"showTitle",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}}],slots:[{name:"firstSlide"}],sourceFiles:["/home/runner/work/explorer-1/explorer-1/apps/vue-storybook/node_modules/@explorer-1/vue/src/components/BlockImageCarousel/BlockImageCarousel.vue"]};export{Z as B};
