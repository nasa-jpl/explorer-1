import{a as k,K as I,_ as T,s as m,o as n,g as d,y as h,l as y,h as p,t as u,F as C,B as _,n as D,p as b,k as f,L as w}from"./iframe-DI0ok8AA.js";import{L as x}from"./LayoutHelper-DfkTDq0B.js";import{T as N}from"./ThumbnailCarousel-DQc_7c35.js";const l=I(),g=k({name:"PodcastSeriesCarousel",components:{LayoutHelper:x,ThumbnailCarousel:N},props:{series:{type:Object,required:!1},initialSeasonId:{type:String,required:!1}},data(){return{activeTabId:""}},computed:{sortedSeasons(){let e;return this.series&&this.series.seasons&&(e=this.series.seasons,e=e.toSorted((s,a)=>{if(s.seasonNumber&&a.seasonNumber)return s.seasonNumber-a.seasonNumber})),e},activeSeasonId(){var e,s;if(this.activeTabId)return this.activeTabId;if(this.initialSeasonId)return this.initialSeasonId;if((s=(e=this.series)==null?void 0:e.seasons)!=null&&s.length)return this.series.seasons[0].id},initialEpisodeIndex(){var s,a;let e;return(s=this.series)!=null&&s.seasons&&this.activeSeasonId&&(l!=null&&l.path)?(e=(a=this.series.seasons.find(t=>t.id===this.activeSeasonId))==null?void 0:a.episodes,e?e.findIndex(t=>t.url===l.path):null):null},activeTabData(){var s,a,t;let e;if((a=(s=this.series)==null?void 0:s.seasons)!=null&&a.length&&(this.activeSeasonId?e=this.series.seasons.find(i=>i.id===this.activeSeasonId):e=this.series.seasons[0],(t=e==null?void 0:e.episodes)!=null&&t.length)){let i=e.episodes;i=i.toSorted((c,r)=>{if(c.publicationDate&&r.publicationDate)return new Date(c.publicationDate).getTime()-new Date(r.publicationDate).getTime()}),e={...e,episodes:i}}return e}},methods:{updateActiveTab(e){this.activeTabId=e}}}),P={key:0,class:"PodcastSeriesCarousel"},q={class:"text-gray-dark text-h3 mb-2 lg:mb-5"},E={class:"flex flex-wrap mb-6 lg:mb-10"},j=["aria-expanded","onClick"],A={key:0,class:"text-h6"};function B(e,s,a,t,i,c){const r=m("LayoutHelper"),v=m("ThumbnailCarousel");return e.series&&e.activeTabData?(n(),d("div",P,[h(r,{indent:"col-2"},{default:y(()=>[p("h2",q,"More "+u(e.series.title)+" Episodes",1),p("ul",E,[(n(!0),d(C,null,_(e.sortedSeasons,(o,S)=>(n(),d("li",{key:S,class:"last:mr-0 w-auto mr-10 lg:flex-shrink-0"},[p("button",{class:D(["text-subtitle block text-left lg:text-center lg:w-full py-2 border-b-2 text-gray-mid-dark can-hover:hover:text-gray-dark",e.activeSeasonId===o.id?"border-jpl-red text-gray-dark":"border-white"]),"aria-expanded":e.activeSeasonId===o.id?"true":"false",onClick:L=>e.updateActiveTab(o.id)}," Season "+u(o.seasonNumber),11,j)]))),128))])]),_:1}),h(r,{indent:"col-2",class:"mb-4"},{default:y(()=>[e.activeTabData.title?(n(),d("h3",A,u(e.activeTabData.title),1)):b("",!0)]),_:1}),(n(),f(w,null,[(n(),f(v,{key:e.activeSeasonId,"initial-slide":e.activeSeasonId===e.initialSeasonId&&e.initialEpisodeIndex?e.initialEpisodeIndex:0,slides:e.activeTabData.episodes},null,8,["initial-slide","slides"]))],1024))])):b("",!0)}const K=T(g,[["render",B]]);g.__docgenInfo={exportName:"default",displayName:"PodcastSeriesCarousel",type:1,props:[{name:"key",global:!0,description:"",tags:[],required:!1,type:"PropertyKey",declarations:[],schema:{kind:"enum",type:"PropertyKey",schema:["string","number","symbol"]}},{name:"ref",global:!0,description:"",tags:[],required:!1,type:"VNodeRef",declarations:[],schema:{kind:"enum",type:"VNodeRef",schema:["string","Ref<any, any>",{kind:"event",type:"(ref: Element | ComponentPublicInstance<{}, {}, {}, {}, {}, {}, {}, {}, false, ComponentOptionsBase<any, any, any, any, any, any, any, any, any, {}, {}, string, {}, {}, {}, string, ComponentProvideOptions>, ... 4 more ..., any>, refs: Record<...>): void"}]}},{name:"ref_for",global:!0,description:"",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"ref_key",global:!0,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string"},{name:"class",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"style",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"series",global:!1,description:"",tags:[],required:!1,type:"Series",declarations:[],schema:{kind:"object",type:"Series"}},{name:"initialSeasonId",global:!1,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string"}],events:[],slots:[],exposed:[{name:"series",type:"Series",description:"",declarations:[],schema:{kind:"object",type:"Series"}},{name:"initialSeasonId",type:"string",description:"",declarations:[],schema:"string"},{name:"activeTabId",type:"string",description:"",declarations:[],schema:"string"},{name:"sortedSeasons",type:"Season[]",description:"",declarations:[],schema:{kind:"array",type:"Season[]"}},{name:"activeSeasonId",type:"string",description:"",declarations:[],schema:"string"},{name:"initialEpisodeIndex",type:"number",description:"",declarations:[],schema:"number"},{name:"activeTabData",type:"Season | ActiveTab",description:"",declarations:[],schema:{kind:"enum",type:"Season | ActiveTab",schema:[{kind:"object",type:"Season"},{kind:"object",type:"ActiveTab"}]}}],sourceFiles:"/home/runner/work/explorer-1/explorer-1/packages/vue/src/components/PodcastSeriesCarousel/PodcastSeriesCarousel.vue"};export{K as P};
